//
// THIS FILE IS AUTOMATICALLY GENERATED!!
//
// Generated at Fri 10-Jan-97 by the VDM-SLtoC++ Code Generator
// (vdmde - v3.0l - Fri 10-Jan-97)
//
// Supported compiler: g++ version 2.7.2
//



#include "EXPR.h"

#define vdm_EXPR_Ceiling vdm_AUX_Ceiling
#define vdm_EXPR_CombineBlkEnv vdm_AUX_CombineBlkEnv
#define vdm_EXPR_ExtractId vdm_AUX_ExtractId
#define vdm_EXPR_IsInt vdm_AUX_IsInt
#define vdm_EXPR_IsNat vdm_AUX_IsNat
#define vdm_EXPR_IsNatOne vdm_AUX_IsNatOne
#define vdm_EXPR_IsRat vdm_AUX_IsRat
#define vdm_EXPR_IsReal vdm_AUX_IsReal
#define vdm_EXPR_IsRealName vdm_AUX_IsRealName
#define vdm_EXPR_IsRecSel vdm_AUX_IsRecSel
#define vdm_EXPR_IsTypeDef vdm_AUX_IsTypeDef
#define vdm_EXPR_IsTypeStructExported vdm_AUX_IsTypeStructExported
#define vdm_EXPR_IsWhole vdm_AUX_IsWhole
#define vdm_EXPR_LookUpRecSel vdm_AUX_LookUpRecSel
#define vdm_EXPR_LookUpTypeDef vdm_AUX_LookUpTypeDef
#define vdm_EXPR_MkBlkEnv vdm_AUX_MkBlkEnv
#define vdm_EXPR_MkEmptyBlkEnv vdm_AUX_MkEmptyBlkEnv
#define vdm_EXPR_SetToSeq vdm_AUX_SetToSeq
#define vdm_EXPR_ValSetToSeq vdm_AUX_ValSetToSeq
#define vdm_EXPR_FreeInExpr vdm_FREE_FreeInExpr
#define vdm_EXPR_FreeMapToBlkEnv vdm_FREE_FreeMapToBlkEnv
#define vdm_EXPR_IdentInPattern vdm_FREE_IdentInPattern
#define vdm_EXPR_ConstructFN vdm_PAT_ConstructFN
#define vdm_EXPR_DoCarePattern vdm_PAT_DoCarePattern
#define vdm_EXPR_EvalBind vdm_PAT_EvalBind
#define vdm_EXPR_EvalMultBindSeq vdm_PAT_EvalMultBindSeq
#define vdm_EXPR_GetExpr vdm_PAT_GetExpr
#define vdm_EXPR_MatchLists vdm_PAT_MatchLists
#define vdm_EXPR_PatternMatch vdm_PAT_PatternMatch
#define vdm_EXPR_SelPattern vdm_PAT_SelPattern
#define vdm_EXPR_DTC vdm_SETTINGS_DTC
//#define vdm_EXPR_APPROXVal vdm_STATE_APPROXVal // 20060105
#define vdm_EXPR_CurrentModule vdm_STATE_CurrentModule
#define vdm_EXPR_EvalExplFnApply vdm_STATE_EvalExplFnApply
#define vdm_EXPR_EvalExplOpApply vdm_STATE_EvalExplOpApply
#define vdm_EXPR_EvalExtFnApply vdm_STATE_EvalExtFnApply
#define vdm_EXPR_EvalExtOpApply vdm_STATE_EvalExtOpApply
#define vdm_EXPR_EvalFctTypeInstExpr vdm_STATE_EvalFctTypeInstExpr
#define vdm_EXPR_EvalOldName vdm_STATE_EvalOldName
#define vdm_EXPR_ExtractModule vdm_STATE_ExtractModule
#define vdm_EXPR_GetImplModule vdm_STATE_GetImplModule
#define vdm_EXPR_GetLocalState vdm_STATE_GetLocalState
#define vdm_EXPR_GetLocalVal vdm_STATE_GetLocalVal
#define vdm_EXPR_GetModule vdm_STATE_GetModule
#define vdm_EXPR_IsEmptyEnvL vdm_STATE_IsEmptyEnvL
#define vdm_EXPR_IsLocalState vdm_STATE_IsLocalState
#define vdm_EXPR_IsLocalVal vdm_STATE_IsLocalVal
#define vdm_EXPR_IsSubTypeName vdm_STATE_IsSubTypeName
#define vdm_EXPR_LookUp vdm_STATE_LookUp
#define vdm_EXPR_PopBlkEnv vdm_STATE_PopBlkEnv
#define vdm_EXPR_PushBlkEnv vdm_STATE_PushBlkEnv
#define vdm_EXPR_SubType vdm_STATE_SubType

static Record vdm_EXPR_EvalAllOrExistsExpr(Record);
static Record vdm_EXPR_EvalBinaryExpr(Record);
static Record vdm_EXPR_EvalBracketedExpr(Record);
static Record vdm_EXPR_EvalCasesExpr(Record);
static Record vdm_EXPR_EvalComposeExpr(Record, Record);
static Record vdm_EXPR_EvalComposeFctExpr(Record, Record);
static Record vdm_EXPR_EvalDefExpr(Record);
static Record vdm_EXPR_EvalExistsUniqueExpr(Record);
static Record vdm_EXPR_EvalFieldSelectExpr(Record);
static Record vdm_EXPR_EvalFloor(Record);
static Record vdm_EXPR_EvalIfExpr(Record);
static Record vdm_EXPR_EvalInSet(Record, Record);
static Record vdm_EXPR_EvalIntDiv(Record, Record);
static Record vdm_EXPR_EvalIotaExpr(Record);
static Record vdm_EXPR_EvalIsExpr(Record);
static Record vdm_EXPR_EvalIterateExpr(Record, Record);
static Record vdm_EXPR_EvalLambdaExpr(Record);
static Record vdm_EXPR_EvalLetBeSTExpr(Record);
static Record vdm_EXPR_EvalLetExpr(Record);
static Record vdm_EXPR_EvalLiteral(Record);
static Record vdm_EXPR_EvalLogBinaryExpr(Record, Generic, Record);
static Record vdm_EXPR_EvalLogUnaryExpr(Generic, Record);
static Record vdm_EXPR_EvalMapApply(Record, Sequence);
static Record vdm_EXPR_EvalMapBinaryExpr(Record, Generic, Record);
static Record vdm_EXPR_EvalMapComprehensionExpr(Record);
static Record vdm_EXPR_EvalMapDomRestBy(Record, Record);
static Record vdm_EXPR_EvalMapDomRestTo(Record, Record);
static Record vdm_EXPR_EvalMapEnumerationExpr(Record);
static Record vdm_EXPR_EvalMapInverseExpr(Record);
static Record vdm_EXPR_EvalMapMerge(Record, Record);
static Record vdm_EXPR_EvalMapOverrideExpr(Record, Record);
static Record vdm_EXPR_EvalMapRngRestBy(Record, Record);
static Record vdm_EXPR_EvalMapRngRestTo(Record, Record);
static Record vdm_EXPR_EvalMapUnaryExpr(Generic, Record);
static Record vdm_EXPR_EvalNotInSet(Record, Record);
static Record vdm_EXPR_EvalNumBinOp(Record, Generic, Record);
static Record vdm_EXPR_EvalNumBinaryExpr(Record, Generic, Record);
static Record vdm_EXPR_EvalNumMod(Record, Record);
static Record vdm_EXPR_EvalNumRem(Record, Record);
static Record vdm_EXPR_EvalNumUnaryExpr(Generic, Record);
static Record vdm_EXPR_EvalPlusMinusAbs(Generic, Record);
static Record vdm_EXPR_EvalPrefixExpr(Record);
static Record vdm_EXPR_EvalProperSubSet(Record, Record);
static Record vdm_EXPR_EvalRecordConstructorExpr(Record);
static Record vdm_EXPR_EvalRecordModifierExpr(Record);
static Record vdm_EXPR_EvalSeqApply(Record, Sequence);
static Record vdm_EXPR_EvalSeqBinaryExpr(Record, Generic, Record);
static Record vdm_EXPR_EvalSeqComprehensionExpr(Record);
static Record vdm_EXPR_EvalSeqEnumerationExpr(Record);
static Record vdm_EXPR_EvalSeqModifyExpr(Record, Record);
static Record vdm_EXPR_EvalSeqModifyMapOverrideExpr(Record);
static Record vdm_EXPR_EvalSeqUnaryExpr(Generic, Record);
static Record vdm_EXPR_EvalSetBinaryExpr(Record, Generic, Record);
static Record vdm_EXPR_EvalSetComprehensionExpr(Record);
static Record vdm_EXPR_EvalSetEnumerationExpr(Record);
static Record vdm_EXPR_EvalSetIntersect(Record, Record);
static Record vdm_EXPR_EvalSetMinus(Record, Record);
static Record vdm_EXPR_EvalSetRangeExpr(Record);
static Record vdm_EXPR_EvalSetUnaryExpr(Generic, Record);
static Record vdm_EXPR_EvalSetUnion(Record, Record);
static Record vdm_EXPR_EvalSubSequenceExpr(Record);
static Record vdm_EXPR_EvalSubSet(Record, Record);
static Record vdm_EXPR_EvalTokenConstructorExpr(Record);
static Record vdm_EXPR_EvalTupleConstructorExpr(Record);
static Record vdm_EXPR_IterateFct(Record, Record);
static Record vdm_EXPR_IterateMap(Record, Int);
static Record vdm_EXPR_SubstType(Record, Sequence, Sequence);

void init_EXPR() {}

Record vdm_EXPR_ConvertPolyToFn(Record var_1_1, Sequence var_2_2) {
  Generic vdm_EXPR_Post__e;
  Generic vdm_EXPR_Pre__e;
  Record vdm_EXPR_body;
  Record vdm_EXPR_env(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
  Generic vdm_EXPR_fnName;
  Record vdm_EXPR_modName(vdm_AS_Name, length_AS_Name);
  Sequence vdm_EXPR_parms;
  Generic vdm_EXPR_resvars;
  Record vdm_EXPR_tp;
  Sequence vdm_EXPR_tpp;
  Sequence vdm_EXPR_type__l;
  bool succ_3 = true;
  {
    succ_3 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_ExplPOLY == var_1_1.GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= var_1_1.Length(); i_5++) 
          e_l_4.ImpAppend(var_1_1.GetField(i_5));
        if (succ_3 = 10 == (Int) (e_l_4.Length())) {
          Generic permI_6;
          permI_6 = (Generic) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_tpp = permI_6;
            succ_3 = true;
          }
          permI_6 = (Generic) (e_l_4[2]);
          if (succ_3) {
            vdm_EXPR_tp = permI_6;
            succ_3 = true;
          }
          permI_6 = (Generic) (e_l_4[3]);
          if (succ_3) {
            vdm_EXPR_parms = permI_6;
            succ_3 = true;
          }
          permI_6 = (Generic) (e_l_4[4]);
          if (succ_3) {
            vdm_EXPR_body = permI_6;
            succ_3 = true;
          }
          permI_6 = (Generic) (e_l_4[5]);
          if (succ_3) {
            vdm_EXPR_Pre__e = permI_6;
            succ_3 = true;
          }
          permI_6 = (Generic) (e_l_4[6]);
          if (succ_3) {
            vdm_EXPR_Post__e = permI_6;
            succ_3 = true;
          }
          permI_6 = (Generic) (e_l_4[7]);
          if (succ_3) {
            vdm_EXPR_env = permI_6;
            succ_3 = true;
          }
          permI_6 = (Generic) (e_l_4[8]);
          if (succ_3) {
            vdm_EXPR_fnName = permI_6;
            succ_3 = true;
          }
          permI_6 = (Generic) (e_l_4[9]);
          if (succ_3) {
            vdm_EXPR_modName = permI_6;
            succ_3 = true;
          }
          permI_6 = (Generic) (e_l_4[10]);
          if (succ_3) {
            vdm_EXPR_resvars = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  {
    vdm_EXPR_type__l = var_2_2;
    succ_3 = true;
  }
  if (succ_3) {
    Bool cond_7;
    cond_7 = (Bool) ((Int) (vdm_EXPR_tpp.Length()) == (Int) (vdm_EXPR_type__l.Length()));
    if (cond_7.GetValue()) {
      bool succ_12;
      Sequence vdm_EXPR_fndom;
      {
        Sequence res_l_14;
        Record reselem_15;
        Set resBind_s_17;
        {
          Sequence unArg_21;
          Record tmpRec_22;
          tmpRec_22 = vdm_EXPR_tp;
          if (((Record) tmpRec_22).Is(vdm_AS_TotalFnType)) 
            unArg_21 = ((Record) tmpRec_22).GetField(pos_AS_TotalFnType_fndom);
          else 
            if (((Record) tmpRec_22).Is(vdm_AS_PartialFnType)) 
              unArg_21 = ((Record) tmpRec_22).GetField(pos_AS_PartialFnType_fndom);
            else 
              RunTime("Unknown record field selector");
          {
            Set riseq_23;
            int max_24 = (Int) (unArg_21.Length());
            for (int i_25 = 1; i_25 <= max_24; i_25++) 
              riseq_23.Insert((Int) i_25);
            resBind_s_17 = riseq_23;
          }
        }
        Sequence bind_l_16;
        if ((Int) (resBind_s_17.Card()) != (Int) 0) 
          bind_l_16 = Sort(resBind_s_17);
        bool succ_18 = true;
        Int vdm_EXPR_i;
        Generic tmpe_33;
        for (int i_32 = bind_l_16.First(tmpe_33); i_32; i_32 = bind_l_16.Next(tmpe_33)) {
          Int e_20 = tmpe_33;
          {
            vdm_EXPR_i = e_20;
            succ_18 = true;
            if (succ_18) {
              Record tmpVar_26;
              {
                Sequence tmpseq_27;
                {
                  Record tmpRec_29;
                  tmpRec_29 = vdm_EXPR_tp;
                  if (((Record) tmpRec_29).Is(vdm_AS_TotalFnType)) 
                    tmpseq_27 = ((Record) tmpRec_29).GetField(pos_AS_TotalFnType_fndom);
                  else 
                    if (((Record) tmpRec_29).Is(vdm_AS_PartialFnType)) 
                      tmpseq_27 = ((Record) tmpRec_29).GetField(pos_AS_PartialFnType_fndom);
                    else 
                      RunTime("Unknown record field selector");
                }
                tmpVar_26 = (Record) (tmpseq_27[vdm_EXPR_i.GetValue()]);
              }
              reselem_15 = vdm_EXPR_SubstType(tmpVar_26, vdm_EXPR_tpp, vdm_EXPR_type__l);
              res_l_14.ImpAppend(reselem_15);
            }
          }
        }
        vdm_EXPR_fndom = res_l_14;
      }
      Record vdm_EXPR_fnrng;
      Record tmpVar_35;
      {
        Record tmpRec_36;
        tmpRec_36 = vdm_EXPR_tp;
        if (((Record) tmpRec_36).Is(vdm_AS_TotalFnType)) 
          tmpVar_35 = ((Record) tmpRec_36).GetField(pos_AS_TotalFnType_fnrng);
        else 
          if (((Record) tmpRec_36).Is(vdm_AS_PartialFnType)) 
            tmpVar_35 = ((Record) tmpRec_36).GetField(pos_AS_PartialFnType_fnrng);
          else 
            RunTime("Unknown record field selector");
      }
      vdm_EXPR_fnrng = vdm_EXPR_SubstType(tmpVar_35, vdm_EXPR_tpp, vdm_EXPR_type__l);
      Map tmpVal_39;
      {
        Map res_m_40;
        Record md_41(vdm_AS_TypeVar, length_AS_TypeVar);
        Record mr_42;
        {
          Sequence seq_lv_49;
          bool succ_47;
          Bool tsucc_50;
          tsucc_50 = true;
          {
            Set tmpVar_v_48;
            {
              Set riseq_53;
              int max_54 = (Int) (vdm_EXPR_tpp.Length());
              for (int i_55 = 1; i_55 <= max_54; i_55++) 
                riseq_53.Insert((Int) i_55);
              tmpVar_v_48 = riseq_53;
            }
{ seq_lv_49.ImpAppend(tmpVar_v_48); }
          }
          Set allComb_51 = GenAllComb(seq_lv_49);
          Int vdm_EXPR_i;
          Generic tmpe_64;
          for (int bb_63 = allComb_51.First(tmpe_64); bb_63; bb_63 = allComb_51.Next(tmpe_64)) {
            Sequence tmp_61 = tmpe_64;
            {
              if (succ_47 = 1 == (Int) (tmp_61.Length())) {
                Int permI_62;
                permI_62 = (Int) (tmp_61.Hd());
                succ_47 = true;
                {
                  vdm_EXPR_i = permI_62;
                  succ_47 = true;
                }
              }
              if (succ_47) {
                Sequence tmpseq_43;
                tmpseq_43 = vdm_EXPR_tpp;
                md_41 = (Record) (tmpseq_43[vdm_EXPR_i.GetValue()]);
                {
                  Sequence tmpseq_45;
                  tmpseq_45 = vdm_EXPR_type__l;
                  mr_42 = (Record) (tmpseq_45[vdm_EXPR_i.GetValue()]);
                }
                res_m_40.Insert(md_41, mr_42);
              }
            }
          }
        }
        tmpVal_39 = res_m_40;
      }
      Map vdm_EXPR_tm;
      succ_12 = true;
      {
        vdm_EXPR_tm = tmpVal_39;
        succ_12 = true;
      }
      if (!succ_12) 
        RunTime("Pattern match did not succeed in value definition");
      {
        Record vdm_EXPR_newtp;
        Bool cond_67;
        {
          Record argTmp_68;
          argTmp_68 = vdm_EXPR_tp;
          if (argTmp_68.IsRecord()) 
            cond_67 = vdm_AS_PartialFnType == argTmp_68.GetTag();
          else 
            cond_67 = false;
        }
        if (cond_67.GetValue()) {
          vdm_EXPR_newtp = Record(vdm_AS_PartialFnType, length_AS_PartialFnType);
          vdm_EXPR_newtp.SetField(1, vdm_EXPR_fndom);
          vdm_EXPR_newtp.SetField(2, vdm_EXPR_fnrng);
        }
        else {
          vdm_EXPR_newtp = Record(vdm_AS_TotalFnType, length_AS_TotalFnType);
          vdm_EXPR_newtp.SetField(1, vdm_EXPR_fndom);
          vdm_EXPR_newtp.SetField(2, vdm_EXPR_fnrng);
        }
        {
          Record rexpr_73(vdm_SEM_ExplFN, length_SEM_ExplFN);
          {
            rexpr_73 = Record(vdm_SEM_ExplFN, length_SEM_ExplFN);
            rexpr_73.SetField(1, vdm_EXPR_newtp);
            rexpr_73.SetField(2, vdm_EXPR_parms);
            rexpr_73.SetField(3, vdm_EXPR_body);
            rexpr_73.SetField(4, vdm_EXPR_Pre__e);
            rexpr_73.SetField(5, vdm_EXPR_Post__e);
            rexpr_73.SetField(6, vdm_EXPR_env);
            rexpr_73.SetField(7, vdm_EXPR_tm);
            rexpr_73.SetField(8, vdm_EXPR_fnName);
            rexpr_73.SetField(9, vdm_EXPR_modName);
            rexpr_73.SetField(10, vdm_EXPR_resvars);
          }
          return rexpr_73;
        }
      }
    }
    else { RunTime("Can not evaluate an error statement"); }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: ConvertPolyToFn");
}

Record vdm_EXPR_EvalAllOrExistsExpr(Record var_1_1) {
  Sequence vdm_EXPR_bind__l;
  Record vdm_EXPR_pred__e;
  Generic vdm_EXPR_quant;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_AllOrExistsExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 5 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_quant = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_bind__l = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) {
            vdm_EXPR_pred__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[4]);
          if (succ_2) 
            succ_2 = true;
          permI_5 = (Generic) (e_l_3[5]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Set vdm_EXPR_env__s;
    vdm_EXPR_env__s = vdm_EXPR_EvalMultBindSeq(vdm_EXPR_bind__l, (Quote) "DONT_PARTITION");
    Bool vdm_EXPR_cont;
    vdm_EXPR_cont = (Bool) true;
    {
      Bool whCrtl_8;
      while ( true){
        Bool var1_9;
        Set var2_12;
        var2_12 = Set();
        var1_9 = (Bool) (!(vdm_EXPR_env__s == var2_12));
        if ((whCrtl_8 = var1_9).GetValue()) { whCrtl_8 = vdm_EXPR_cont; }
        if (whCrtl_8.GetValue()) {
          Set tmpSet_13;
          tmpSet_13 = vdm_EXPR_env__s;
          Record vdm_EXPR_env(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
          Bool tmpB_14;
          bool succ_15 = false;
          Generic tmpe_18;
          for (int bb_17 = tmpSet_13.First(tmpe_18); bb_17 && !succ_15; bb_17 = tmpSet_13.Next(tmpe_18)) {
            Record tmpElem_16 = tmpe_18;
            {
              succ_15 = true;
              {
                vdm_EXPR_env = tmpElem_16;
                succ_15 = true;
              }
              if (succ_15) 
                succ_15 = ((Bool) true).GetValue();
            }
          }
          if (!succ_15) 
            RunTime("The binding environment was empty");
          {
            Record tmpVar_19(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
            tmpVar_19 = vdm_EXPR_env;
            vdm_EXPR_PushBlkEnv(tmpVar_19);
            {
              Record vdm_EXPR_pred__v;
              vdm_EXPR_pred__v = vdm_EXPR_EvalExpr(vdm_EXPR_pred__e);
              {
                Bool cond_23;
                {
                  Record argTmp_24;
                  argTmp_24 = vdm_EXPR_pred__v;
                  if (argTmp_24.IsRecord()) 
                    cond_23 = vdm_SEM_BOOL == argTmp_24.GetTag();
                  else 
                    cond_23 = false;
                }
                if (cond_23.GetValue()) {
                  bool succ_25;
                  Record tmpVal_26;
                  tmpVal_26 = vdm_EXPR_pred__v;
                  Bool vdm_EXPR_b;
                  succ_25 = true;
                  {
                    succ_25 = false;
                    if (tmpVal_26.IsRecord()) 
                      if (vdm_SEM_BOOL == ((Record) tmpVal_26).GetTag()) {
                        Sequence e_l_27;
                        for (int i_28 = 1; i_28 <= ((Record) tmpVal_26).Length(); i_28++) 
                          e_l_27.ImpAppend(((Record) tmpVal_26).GetField(i_28));
                        if (succ_25 = 1 == (Int) (e_l_27.Length())) {
                          Bool permI_29;
                          permI_29 = (Bool) (e_l_27.Hd());
                          succ_25 = true;
                          {
                            vdm_EXPR_b = permI_29;
                            succ_25 = true;
                          }
                        }
                      }
                  }
                  if (!succ_25) 
                    RunTime("Pattern match did not succeed in value definition");
                  {
                    Generic selRes_30;
                    selRes_30 = vdm_EXPR_quant;
                    bool succ_31 = true;
                    {
                      Quote tmpVal_32;
                      tmpVal_32 = (Quote) "ALL";
                      succ_31 = ((Bool) (selRes_30 == tmpVal_32)).GetValue();
                      if (succ_31) {
                        Bool rhs_33;
                        rhs_33 = vdm_EXPR_b;
                        vdm_EXPR_cont = rhs_33;
                      }
                    }
                    if (!succ_31) {
                      Quote tmpVal_34;
                      tmpVal_34 = (Quote) "EXISTS";
                      succ_31 = ((Bool) (selRes_30 == tmpVal_34)).GetValue();
                      if (succ_31) {
                        Bool rhs_35;
                        rhs_35 = (Bool) (!vdm_EXPR_b.GetValue());
                        vdm_EXPR_cont = rhs_35;
                      }
                    }
                    if (!succ_31) 
                      RunTime("Can not evaluate an error statement");
                  }
                }
                else { RunTime("Can not evaluate an error statement"); }
              }
            }
            {
              Set rhs_37;
              {
                Set var2_39;
                var2_39 = Set().Insert(vdm_EXPR_env);
                rhs_37 = vdm_EXPR_env__s;
                rhs_37.ImpDiff(var2_39);
              }
              vdm_EXPR_env__s = rhs_37;
            }
            vdm_EXPR_PopBlkEnv();
          }
        }
        else 
          break;
      }
    }
    {
      Bool cond_41;
      cond_41 = (Bool) (vdm_EXPR_quant == (Quote) "ALL");
      if (cond_41.GetValue()) {
        Record rexpr_47(vdm_SEM_BOOL, length_SEM_BOOL);
        {
          rexpr_47 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
          rexpr_47.SetField(1, vdm_EXPR_cont);
        }
        return rexpr_47;
      }
      else {
        Record rexpr_44(vdm_SEM_BOOL, length_SEM_BOOL);
        {
          rexpr_44 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
          rexpr_44.SetField(1, (Bool) (!vdm_EXPR_cont.GetValue()));
        }
        return rexpr_44;
      }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalAllOrExistsExpr");
}

Record vdm_EXPR_EvalApplyExpr(Record var_1_1, Generic var_2_2) {
  Sequence vdm_EXPR_arg__le;
  Record vdm_EXPR_fct__e;
  Generic vdm_EXPR_invval__v;
  bool succ_3 = true;
  {
    succ_3 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_ApplyExpr == var_1_1.GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= var_1_1.Length(); i_5++) 
          e_l_4.ImpAppend(var_1_1.GetField(i_5));
        if (succ_3 = 3 == (Int) (e_l_4.Length())) {
          Generic permI_6;
          permI_6 = (Generic) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_fct__e = permI_6;
            succ_3 = true;
          }
          permI_6 = (Generic) (e_l_4[2]);
          if (succ_3) {
            vdm_EXPR_arg__le = permI_6;
            succ_3 = true;
          }
          permI_6 = (Generic) (e_l_4[3]);
          if (succ_3) 
            succ_3 = true;
        }
      }
  }
  {
    vdm_EXPR_invval__v = var_2_2;
    succ_3 = true;
  }
  if (succ_3) {
    bool succ_7;
    Sequence tmpVal_8;
{ if (((Bool) (vdm_EXPR_invval__v == Nil())).GetValue()) {
   Sequence res_l_13;
   Record reselem_14;
   Set resBind_s_16;
   {
     Set riseq_21;
     int max_22 = (Int) (vdm_EXPR_arg__le.Length());
     for (int i_23 = 1; i_23 <= max_22; i_23++) 
       riseq_21.Insert((Int) i_23);
     resBind_s_16 = riseq_21;
   }
   Sequence bind_l_15;
   if ((Int) (resBind_s_16.Card()) != (Int) 0) 
     bind_l_15 = Sort(resBind_s_16);
   bool succ_17 = true;
   Int vdm_EXPR_i;
   Generic tmpe_28;
   for (int i_27 = bind_l_15.First(tmpe_28); i_27; i_27 = bind_l_15.Next(tmpe_28)) {
     Int e_19 = tmpe_28;
     {
       vdm_EXPR_i = e_19;
       succ_17 = true;
       if (succ_17) {
         Record tmpVar_24;
         {
           Sequence tmpseq_25;
           tmpseq_25 = vdm_EXPR_arg__le;
           tmpVar_24 = (Record) (tmpseq_25[vdm_EXPR_i.GetValue()]);
         }
         reselem_14 = vdm_EXPR_EvalExpr(tmpVar_24);
         res_l_13.ImpAppend(reselem_14);
       }
     }
   }
   tmpVal_8 = res_l_13;
 }
 else { tmpVal_8 = Sequence().ImpAppend(vdm_EXPR_invval__v); } }
    Sequence vdm_EXPR_arg__lv;
    succ_7 = true;
    {
      vdm_EXPR_arg__lv = tmpVal_8;
      succ_7 = true;
    }
    if (!succ_7) 
      RunTime("Pattern match did not succeed in value definition");
    Record vdm_EXPR_fct__v;
    vdm_EXPR_fct__v = vdm_EXPR_EvalExpr(vdm_EXPR_fct__e);
    {
      Bool selRes_31;
      selRes_31 = (Bool) true;
      bool succ_32 = true;
      {
        Bool tmpVal_33;
        {
          Record argTmp_34;
          argTmp_34 = vdm_EXPR_fct__v;
          if (argTmp_34.IsRecord()) 
            tmpVal_33 = vdm_SEM_ExplFN == argTmp_34.GetTag();
          else 
            tmpVal_33 = false;
        }
        succ_32 = ((Bool) (selRes_31 == tmpVal_33)).GetValue();
        if (succ_32) {
          Record tmpVar_35;
          tmpVar_35 = vdm_EXPR_fct__v;
          Sequence tmpVar_36;
          tmpVar_36 = vdm_EXPR_arg__lv;
          Generic tmpVar_37;
          tmpVar_37 = vdm_EXPR_invval__v;
          Record tmpVar_38;
          tmpVar_38 = vdm_EXPR_fct__e;
          return vdm_EXPR_EvalExplFnApply(tmpVar_35, tmpVar_36, tmpVar_37, tmpVar_38);
        }
      }
      if (!succ_32) {
        Bool tmpVal_39;
        {
          Record argTmp_40;
          argTmp_40 = vdm_EXPR_fct__v;
          if (argTmp_40.IsRecord()) 
            tmpVal_39 = vdm_SEM_ExplOP == argTmp_40.GetTag();
          else 
            tmpVal_39 = false;
        }
        succ_32 = ((Bool) (selRes_31 == tmpVal_39)).GetValue();
        if (succ_32) {
          Record tmpVar_41;
          tmpVar_41 = vdm_EXPR_fct__v;
          Sequence tmpVar_42;
          tmpVar_42 = vdm_EXPR_arg__lv;
          Record tmpVar_43;
          tmpVar_43 = vdm_EXPR_fct__e;
          return vdm_EXPR_EvalExplOpApply(tmpVar_41, tmpVar_42, tmpVar_43);
        }
      }
      if (!succ_32) {
        Bool tmpVal_44;
        {
          Record argTmp_45;
          argTmp_45 = vdm_EXPR_fct__v;
          if (argTmp_45.IsRecord()) 
            tmpVal_44 = vdm_SEM_ExtFN == argTmp_45.GetTag();
          else 
            tmpVal_44 = false;
        }
        succ_32 = ((Bool) (selRes_31 == tmpVal_44)).GetValue();
        if (succ_32) {
          Record tmpVar_46;
          tmpVar_46 = vdm_EXPR_fct__v;
          Sequence tmpVar_47;
          tmpVar_47 = vdm_EXPR_arg__lv;
          Record tmpVar_48;
          tmpVar_48 = vdm_EXPR_fct__e;
          return vdm_EXPR_EvalExtFnApply(tmpVar_46, tmpVar_47, tmpVar_48);
        }
      }
      if (!succ_32) {
        Bool tmpVal_49;
        {
          Record argTmp_50;
          argTmp_50 = vdm_EXPR_fct__v;
          if (argTmp_50.IsRecord()) 
            tmpVal_49 = vdm_SEM_ExtOP == argTmp_50.GetTag();
          else 
            tmpVal_49 = false;
        }
        succ_32 = ((Bool) (selRes_31 == tmpVal_49)).GetValue();
        if (succ_32) {
          Record tmpVar_51;
          tmpVar_51 = vdm_EXPR_fct__v;
          Sequence tmpVar_52;
          tmpVar_52 = vdm_EXPR_arg__lv;
          Record tmpVar_53;
          tmpVar_53 = vdm_EXPR_fct__e;
          return vdm_EXPR_EvalExtOpApply(tmpVar_51, tmpVar_52, tmpVar_53);
        }
      }
      if (!succ_32) {
        Bool tmpVal_54;
        {
          Record argTmp_55;
          argTmp_55 = vdm_EXPR_fct__v;
          if (argTmp_55.IsRecord()) 
            tmpVal_54 = vdm_SEM_SEQ == argTmp_55.GetTag();
          else 
            tmpVal_54 = false;
        }
        succ_32 = ((Bool) (selRes_31 == tmpVal_54)).GetValue();
        if (succ_32) {
          Record tmpVar_56;
          tmpVar_56 = vdm_EXPR_fct__v;
          Sequence tmpVar_57;
          tmpVar_57 = vdm_EXPR_arg__lv;
          return vdm_EXPR_EvalSeqApply(tmpVar_56, tmpVar_57);
        }
      }
      if (!succ_32) {
        Bool tmpVal_58;
        {
          Record argTmp_59;
          argTmp_59 = vdm_EXPR_fct__v;
          if (argTmp_59.IsRecord()) 
            tmpVal_58 = vdm_SEM_MAP == argTmp_59.GetTag();
          else 
            tmpVal_58 = false;
        }
        succ_32 = ((Bool) (selRes_31 == tmpVal_58)).GetValue();
        if (succ_32) {
          Record tmpVar_60;
          tmpVar_60 = vdm_EXPR_fct__v;
          Sequence tmpVar_61;
          tmpVar_61 = vdm_EXPR_arg__lv;
          return vdm_EXPR_EvalMapApply(tmpVar_60, tmpVar_61);
        }
      }
      if (!succ_32) 
        RunTime("Can not evaluate an error statement");
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalApplyExpr");
}

Record vdm_EXPR_EvalBinaryExpr(Record var_1_1) {
  Record vdm_EXPR_left__e;
  Generic vdm_EXPR_opr;
  Record vdm_EXPR_right__e;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_BinaryExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 4 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_left__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_opr = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) {
            vdm_EXPR_right__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[4]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Generic selRes_6;
    selRes_6 = vdm_EXPR_opr;
    bool succ_7 = true;
    {
      Quote tmpVal_8;
      tmpVal_8 = (Quote) "AND";
      succ_7 = ((Bool) (selRes_6 == tmpVal_8)).GetValue();
      if (!succ_7) {
        Quote tmpVal_9;
        tmpVal_9 = (Quote) "OR";
        succ_7 = ((Bool) (selRes_6 == tmpVal_9)).GetValue();
      }
      if (!succ_7) {
        Quote tmpVal_10;
        tmpVal_10 = (Quote) "IMPLY";
        succ_7 = ((Bool) (selRes_6 == tmpVal_10)).GetValue();
      }
      if (!succ_7) {
        Quote tmpVal_11;
        tmpVal_11 = (Quote) "EQUIV";
        succ_7 = ((Bool) (selRes_6 == tmpVal_11)).GetValue();
      }
      if (!succ_7) {
        Quote tmpVal_12;
        tmpVal_12 = (Quote) "EQ";
        succ_7 = ((Bool) (selRes_6 == tmpVal_12)).GetValue();
      }
      if (!succ_7) {
        Quote tmpVal_13;
        tmpVal_13 = (Quote) "NE";
        succ_7 = ((Bool) (selRes_6 == tmpVal_13)).GetValue();
      }
      if (succ_7) {
        Record tmpVar_14;
        tmpVar_14 = vdm_EXPR_left__e;
        Generic tmpVar_15;
        tmpVar_15 = vdm_EXPR_opr;
        Record tmpVar_16;
        tmpVar_16 = vdm_EXPR_right__e;
        return vdm_EXPR_EvalLogBinaryExpr(tmpVar_14, tmpVar_15, tmpVar_16);
      }
    }
    if (!succ_7) {
      Record vdm_EXPR_left__v;
      vdm_EXPR_left__v = vdm_EXPR_EvalExpr(vdm_EXPR_left__e);
      Record vdm_EXPR_right__v;
      vdm_EXPR_right__v = vdm_EXPR_EvalExpr(vdm_EXPR_right__e);
      {
        Generic selRes_22;
        selRes_22 = vdm_EXPR_opr;
        bool succ_23 = true;
        {
          Quote tmpVal_24;
          tmpVal_24 = (Quote) "NUMPLUS";
          succ_23 = ((Bool) (selRes_22 == tmpVal_24)).GetValue();
          if (!succ_23) {
            Quote tmpVal_25;
            tmpVal_25 = (Quote) "NUMMINUS";
            succ_23 = ((Bool) (selRes_22 == tmpVal_25)).GetValue();
          }
          if (!succ_23) {
            Quote tmpVal_26;
            tmpVal_26 = (Quote) "NUMMULT";
            succ_23 = ((Bool) (selRes_22 == tmpVal_26)).GetValue();
          }
          if (!succ_23) {
            Quote tmpVal_27;
            tmpVal_27 = (Quote) "NUMDIV";
            succ_23 = ((Bool) (selRes_22 == tmpVal_27)).GetValue();
          }
          if (!succ_23) {
            Quote tmpVal_28;
            tmpVal_28 = (Quote) "NUMREM";
            succ_23 = ((Bool) (selRes_22 == tmpVal_28)).GetValue();
          }
          if (!succ_23) {
            Quote tmpVal_29;
            tmpVal_29 = (Quote) "INTDIV";
            succ_23 = ((Bool) (selRes_22 == tmpVal_29)).GetValue();
          }
          if (!succ_23) {
            Quote tmpVal_30;
            tmpVal_30 = (Quote) "NUMLT";
            succ_23 = ((Bool) (selRes_22 == tmpVal_30)).GetValue();
          }
          if (!succ_23) {
            Quote tmpVal_31;
            tmpVal_31 = (Quote) "NUMLE";
            succ_23 = ((Bool) (selRes_22 == tmpVal_31)).GetValue();
          }
          if (!succ_23) {
            Quote tmpVal_32;
            tmpVal_32 = (Quote) "NUMGT";
            succ_23 = ((Bool) (selRes_22 == tmpVal_32)).GetValue();
          }
          if (!succ_23) {
            Quote tmpVal_33;
            tmpVal_33 = (Quote) "NUMGE";
            succ_23 = ((Bool) (selRes_22 == tmpVal_33)).GetValue();
          }
          if (!succ_23) {
            Quote tmpVal_34;
            tmpVal_34 = (Quote) "NUMMOD";
            succ_23 = ((Bool) (selRes_22 == tmpVal_34)).GetValue();
          }
          if (succ_23) {
            Record tmpVar_35;
            tmpVar_35 = vdm_EXPR_left__v;
            Generic tmpVar_36;
            tmpVar_36 = vdm_EXPR_opr;
            Record tmpVar_37;
            tmpVar_37 = vdm_EXPR_right__v;
            return vdm_EXPR_EvalNumBinaryExpr(tmpVar_35, tmpVar_36, tmpVar_37);
          }
        }
        if (!succ_23) {
          Quote tmpVal_38;
          tmpVal_38 = (Quote) "INSET";
          succ_23 = ((Bool) (selRes_22 == tmpVal_38)).GetValue();
          if (!succ_23) {
            Quote tmpVal_39;
            tmpVal_39 = (Quote) "NOTINSET";
            succ_23 = ((Bool) (selRes_22 == tmpVal_39)).GetValue();
          }
          if (!succ_23) {
            Quote tmpVal_40;
            tmpVal_40 = (Quote) "SETUNION";
            succ_23 = ((Bool) (selRes_22 == tmpVal_40)).GetValue();
          }
          if (!succ_23) {
            Quote tmpVal_41;
            tmpVal_41 = (Quote) "SETINTERSECT";
            succ_23 = ((Bool) (selRes_22 == tmpVal_41)).GetValue();
          }
          if (!succ_23) {
            Quote tmpVal_42;
            tmpVal_42 = (Quote) "SETMINUS";
            succ_23 = ((Bool) (selRes_22 == tmpVal_42)).GetValue();
          }
          if (!succ_23) {
            Quote tmpVal_43;
            tmpVal_43 = (Quote) "SUBSET";
            succ_23 = ((Bool) (selRes_22 == tmpVal_43)).GetValue();
          }
          if (!succ_23) {
            Quote tmpVal_44;
            tmpVal_44 = (Quote) "PROPERSUBSET";
            succ_23 = ((Bool) (selRes_22 == tmpVal_44)).GetValue();
          }
          if (succ_23) {
            Record tmpVar_45;
            tmpVar_45 = vdm_EXPR_left__v;
            Generic tmpVar_46;
            tmpVar_46 = vdm_EXPR_opr;
            Record tmpVar_47;
            tmpVar_47 = vdm_EXPR_right__v;
            return vdm_EXPR_EvalSetBinaryExpr(tmpVar_45, tmpVar_46, tmpVar_47);
          }
        }
        if (!succ_23) {
          Quote tmpVal_48;
          tmpVal_48 = (Quote) "SEQCONC";
          succ_23 = ((Bool) (selRes_22 == tmpVal_48)).GetValue();
          if (succ_23) {
            Record tmpVar_49;
            tmpVar_49 = vdm_EXPR_left__v;
            Generic tmpVar_50;
            tmpVar_50 = vdm_EXPR_opr;
            Record tmpVar_51;
            tmpVar_51 = vdm_EXPR_right__v;
            return vdm_EXPR_EvalSeqBinaryExpr(tmpVar_49, tmpVar_50, tmpVar_51);
          }
        }
        if (!succ_23) {
          Quote tmpVal_52;
          tmpVal_52 = (Quote) "MAPMERGE";
          succ_23 = ((Bool) (selRes_22 == tmpVal_52)).GetValue();
          if (!succ_23) {
            Quote tmpVal_53;
            tmpVal_53 = (Quote) "MAPDOMRESTTO";
            succ_23 = ((Bool) (selRes_22 == tmpVal_53)).GetValue();
          }
          if (!succ_23) {
            Quote tmpVal_54;
            tmpVal_54 = (Quote) "MAPDOMRESTBY";
            succ_23 = ((Bool) (selRes_22 == tmpVal_54)).GetValue();
          }
          if (!succ_23) {
            Quote tmpVal_55;
            tmpVal_55 = (Quote) "MAPRNGRESTTO";
            succ_23 = ((Bool) (selRes_22 == tmpVal_55)).GetValue();
          }
          if (!succ_23) {
            Quote tmpVal_56;
            tmpVal_56 = (Quote) "MAPRNGRESTBY";
            succ_23 = ((Bool) (selRes_22 == tmpVal_56)).GetValue();
          }
          if (succ_23) {
            Record tmpVar_57;
            tmpVar_57 = vdm_EXPR_left__v;
            Generic tmpVar_58;
            tmpVar_58 = vdm_EXPR_opr;
            Record tmpVar_59;
            tmpVar_59 = vdm_EXPR_right__v;
            return vdm_EXPR_EvalMapBinaryExpr(tmpVar_57, tmpVar_58, tmpVar_59);
          }
        }
        if (!succ_23) {
          Quote tmpVal_60;
          tmpVal_60 = (Quote) "COMPOSE";
          succ_23 = ((Bool) (selRes_22 == tmpVal_60)).GetValue();
          if (succ_23) {
            Record tmpVar_61;
            tmpVar_61 = vdm_EXPR_left__e;
            Record tmpVar_62;
            tmpVar_62 = vdm_EXPR_right__e;
            return vdm_EXPR_EvalComposeExpr(tmpVar_61, tmpVar_62);
          }
        }
        if (!succ_23) {
          Quote tmpVal_63;
          tmpVal_63 = (Quote) "NUMEXP";
          succ_23 = ((Bool) (selRes_22 == tmpVal_63)).GetValue();
          if (succ_23) {
            Record tmpVar_64;
            tmpVar_64 = vdm_EXPR_left__e;
            Record tmpVar_65;
            tmpVar_65 = vdm_EXPR_right__e;
            return vdm_EXPR_EvalIterateExpr(tmpVar_64, tmpVar_65);
          }
        }
        if (!succ_23) 
          RunTime("Can not evaluate an error statement");
      }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalBinaryExpr");
}

Record vdm_EXPR_EvalBracketedExpr(Record var_1_1) {
  Record vdm_EXPR_expr;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_BracketedExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 2 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_expr = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Record tmpVar_6;
    tmpVar_6 = vdm_EXPR_expr;
    return vdm_EXPR_EvalExpr(tmpVar_6);
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalBracketedExpr");
}

Record vdm_EXPR_EvalCasesExpr(Record var_1_1) {
  Sequence vdm_EXPR_altns;
  Generic vdm_EXPR_others__e;
  Record vdm_EXPR_sel;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_CasesExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 4 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_sel = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_altns = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) {
            vdm_EXPR_others__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[4]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Sequence vdm_EXPR_alt__l;
    vdm_EXPR_alt__l = vdm_EXPR_altns;
    Sequence vdm_EXPR_pat__lp;
    Bool vdm_EXPR_cont;
    vdm_EXPR_cont = (Bool) true;
    Record vdm_EXPR_body__v;
    {
      Record vdm_EXPR_sel__v;
      vdm_EXPR_sel__v = vdm_EXPR_EvalExpr(vdm_EXPR_sel);
      {
        Bool whCrtl_9;
        while ( true){
          Bool var1_10;
          Sequence var2_13;
          var2_13 = Sequence();
          var1_10 = (Bool) (!(vdm_EXPR_alt__l == var2_13));
          if ((whCrtl_9 = var1_10).GetValue()) { whCrtl_9 = vdm_EXPR_cont; }
          if (whCrtl_9.GetValue()) {
            bool succ_14;
            Record tmpVal_15(vdm_AS_CaseAltn, length_AS_CaseAltn);
            tmpVal_15 = (Record) (vdm_EXPR_alt__l.Hd());
            Record vdm_EXPR_body__e;
            Sequence vdm_EXPR_match__lp;
            succ_14 = true;
            {
              succ_14 = false;
              if (tmpVal_15.IsRecord()) 
                if (vdm_AS_CaseAltn == tmpVal_15.GetTag()) {
                  Sequence e_l_17;
                  for (int i_18 = 1; i_18 <= tmpVal_15.Length(); i_18++) 
                    e_l_17.ImpAppend(tmpVal_15.GetField(i_18));
                  if (succ_14 = 2 == (Int) (e_l_17.Length())) {
                    Generic permI_19;
                    permI_19 = (Generic) (e_l_17.Hd());
                    succ_14 = true;
                    {
                      vdm_EXPR_match__lp = permI_19;
                      succ_14 = true;
                    }
                    permI_19 = (Generic) (e_l_17[2]);
                    if (succ_14) {
                      vdm_EXPR_body__e = permI_19;
                      succ_14 = true;
                    }
                  }
                }
            }
            if (!succ_14) 
              RunTime("Pattern match did not succeed in value definition");
            {
              Sequence rhs_20;
              rhs_20 = vdm_EXPR_match__lp;
              vdm_EXPR_pat__lp = rhs_20;
              {
                Bool whCrtl_21;
                while ( true){
                  Bool var1_22;
                  Sequence var2_25;
                  var2_25 = Sequence();
                  var1_22 = (Bool) (!(vdm_EXPR_pat__lp == var2_25));
                  if ((whCrtl_21 = var1_22).GetValue()) { whCrtl_21 = vdm_EXPR_cont; }
                  if (whCrtl_21.GetValue()) {
                    bool succ_26;
                    Record tmpVal_27;
                    tmpVal_27 = (Record) (vdm_EXPR_pat__lp.Hd());
                    Record vdm_EXPR_pat__p;
                    succ_26 = true;
                    {
                      vdm_EXPR_pat__p = tmpVal_27;
                      succ_26 = true;
                    }
                    if (!succ_26) 
                      RunTime("Pattern match did not succeed in value definition");
                    {
                      Set vdm_EXPR_env__s;
                      vdm_EXPR_env__s = vdm_EXPR_PatternMatch(vdm_EXPR_pat__p, vdm_EXPR_sel__v);
                      {
                        Bool cond_33;
                        {
                          Set var2_35;
                          var2_35 = Set();
                          cond_33 = (Bool) (!(vdm_EXPR_env__s == var2_35));
                        }
                        if (cond_33.GetValue()) {
                          Set tmpSet_36;
                          tmpSet_36 = vdm_EXPR_env__s;
                          Record vdm_EXPR_env(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
                          Bool tmpB_37;
                          bool succ_38 = false;
                          Generic tmpe_41;
                          for (int bb_40 = tmpSet_36.First(tmpe_41); bb_40 && !succ_38; bb_40 = tmpSet_36.Next(tmpe_41)) {
                            Record tmpElem_39 = tmpe_41;
                            {
                              succ_38 = true;
                              {
                                vdm_EXPR_env = tmpElem_39;
                                succ_38 = true;
                              }
                              if (succ_38) 
                                succ_38 = ((Bool) true).GetValue();
                            }
                          }
                          if (!succ_38) 
                            RunTime("The binding environment was empty");
                          {
                            Record tmpVar_42(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
                            tmpVar_42 = vdm_EXPR_env;
                            vdm_EXPR_PushBlkEnv(tmpVar_42);
                            {
                              Record rhs_43;
                              rhs_43 = vdm_EXPR_EvalExpr(vdm_EXPR_body__e);
                              vdm_EXPR_body__v = rhs_43;
                            }
                            vdm_EXPR_PopBlkEnv();
                            {
                              Bool rhs_45;
                              rhs_45 = (Bool) false;
                              vdm_EXPR_cont = rhs_45;
                            }
                          }
                        }
                        {
                          Sequence rhs_46;
                          rhs_46 = vdm_EXPR_pat__lp.Tl();
                          vdm_EXPR_pat__lp = rhs_46;
                        }
                      }
                    }
                  }
                  else 
                    break;
                }
              }
              {
                Sequence rhs_48;
                rhs_48 = vdm_EXPR_alt__l.Tl();
                vdm_EXPR_alt__l = rhs_48;
              }
            }
          }
          else 
            break;
        }
      }
    }
    {
      Bool cond_50;
      cond_50 = (Bool) (!vdm_EXPR_cont.GetValue());
      if (cond_50.GetValue()) {
        Record rexpr_56;
        rexpr_56 = vdm_EXPR_body__v;
        return rexpr_56;
      }
      else {
        Bool cond_52;
        cond_52 = (Bool) (!(vdm_EXPR_others__e == Nil()));
        if (cond_52.GetValue()) {
          Generic tmpVar_55;
          tmpVar_55 = vdm_EXPR_others__e;
          return vdm_EXPR_EvalExpr(tmpVar_55);
        }
        else { RunTime("Can not evaluate an error statement"); }
      }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalCasesExpr");
}

Record vdm_EXPR_EvalComposeExpr(Record vdm_EXPR_op1__e, Record vdm_EXPR_op2__e) {
  Record vdm_EXPR_op1__v;
  vdm_EXPR_op1__v = vdm_EXPR_EvalExpr(vdm_EXPR_op1__e);
  Record vdm_EXPR_op2__v;
  vdm_EXPR_op2__v = vdm_EXPR_EvalExpr(vdm_EXPR_op2__e);
  {
    Bool cond_9;
    {
      Bool var1_10;
      Record argTmp_12;
      argTmp_12 = vdm_EXPR_op1__v;
      if (argTmp_12.IsRecord()) 
        var1_10 = vdm_SEM_ExplFN == argTmp_12.GetTag();
      else 
        var1_10 = false;
      if ((cond_9 = var1_10).GetValue()) {
        Bool var2_11;
        Record argTmp_13;
        argTmp_13 = vdm_EXPR_op2__v;
        if (argTmp_13.IsRecord()) 
          var2_11 = vdm_SEM_ExplFN == argTmp_13.GetTag();
        else 
          var2_11 = false;
        cond_9 = var2_11;
      }
    }
    if (cond_9.GetValue()) {
      Record tmpVar_61;
      tmpVar_61 = vdm_EXPR_op1__e;
      Record tmpVar_62;
      tmpVar_62 = vdm_EXPR_op2__e;
      return vdm_EXPR_EvalComposeFctExpr(tmpVar_61, tmpVar_62);
    }
    else {
      Bool var1_56;
      Record argTmp_58;
      argTmp_58 = vdm_EXPR_op1__v;
      if (argTmp_58.IsRecord()) 
        var1_56 = vdm_SEM_ImplFN == argTmp_58.GetTag();
      else 
        var1_56 = false;
      if (!(cond_9 = var1_56).GetValue()) {
        Bool var2_57;
        Record argTmp_59;
        argTmp_59 = vdm_EXPR_op2__v;
        if (argTmp_59.IsRecord()) 
          var2_57 = vdm_SEM_ImplFN == argTmp_59.GetTag();
        else 
          var2_57 = false;
        cond_9 = var2_57;
      }
      if (cond_9.GetValue()) {
        Record rexpr_60(vdm_SEM_ImplFN, length_SEM_ImplFN);
        rexpr_60 = Record(vdm_SEM_ImplFN, length_SEM_ImplFN);
        return rexpr_60;
      }
      else {
        Bool var1_14;
        Record argTmp_16;
        argTmp_16 = vdm_EXPR_op1__v;
        if (argTmp_16.IsRecord()) 
          var1_14 = vdm_SEM_MAP == argTmp_16.GetTag();
        else 
          var1_14 = false;
        if ((cond_9 = var1_14).GetValue()) {
          Bool var2_15;
          Record argTmp_17;
          argTmp_17 = vdm_EXPR_op2__v;
          if (argTmp_17.IsRecord()) 
            var2_15 = vdm_SEM_MAP == argTmp_17.GetTag();
          else 
            var2_15 = false;
          cond_9 = var2_15;
        }
        if (cond_9.GetValue()) {
          bool succ_18;
          Record tmpVal_19;
          tmpVal_19 = vdm_EXPR_op1__v;
          Map vdm_EXPR_map1__v;
          succ_18 = true;
          {
            succ_18 = false;
            if (tmpVal_19.IsRecord()) 
              if (vdm_SEM_MAP == ((Record) tmpVal_19).GetTag()) {
                Sequence e_l_20;
                for (int i_21 = 1; i_21 <= ((Record) tmpVal_19).Length(); i_21++) 
                  e_l_20.ImpAppend(((Record) tmpVal_19).GetField(i_21));
                if (succ_18 = 1 == (Int) (e_l_20.Length())) {
                  Map permI_22;
                  permI_22 = (Map) (e_l_20.Hd());
                  succ_18 = true;
                  {
                    vdm_EXPR_map1__v = permI_22;
                    succ_18 = true;
                  }
                }
              }
          }
          if (!succ_18) 
            RunTime("Pattern match did not succeed in value definition");
          Record tmpVal_23;
          tmpVal_23 = vdm_EXPR_op2__v;
          Map vdm_EXPR_map2__v;
          succ_18 = true;
          {
            succ_18 = false;
            if (tmpVal_23.IsRecord()) 
              if (vdm_SEM_MAP == ((Record) tmpVal_23).GetTag()) {
                Sequence e_l_24;
                for (int i_25 = 1; i_25 <= ((Record) tmpVal_23).Length(); i_25++) 
                  e_l_24.ImpAppend(((Record) tmpVal_23).GetField(i_25));
                if (succ_18 = 1 == (Int) (e_l_24.Length())) {
                  Map permI_26;
                  permI_26 = (Map) (e_l_24.Hd());
                  succ_18 = true;
                  {
                    vdm_EXPR_map2__v = permI_26;
                    succ_18 = true;
                  }
                }
              }
          }
          if (!succ_18) 
            RunTime("Pattern match did not succeed in value definition");
          {
            Bool cond_27;
{ cond_27 = vdm_EXPR_map2__v.Rng().SubSet(vdm_EXPR_map1__v.Dom()); }
            if (cond_27.GetValue()) {
              Record rexpr_32(vdm_SEM_MAP, length_SEM_MAP);
              {
                rexpr_32 = Record(vdm_SEM_MAP, length_SEM_MAP);
                Map tmpVar_33;
                {
                  Map res_m_34;
                  Record mr_36;
                  {
                    Sequence seq_lv_43;
                    bool succ_41;
                    Bool tsucc_44;
                    tsucc_44 = true;
                    {
                      Set tmpVar_v_42;
                      tmpVar_v_42 = vdm_EXPR_map2__v.Dom();
{ seq_lv_43.ImpAppend(tmpVar_v_42); }
                    }
                    Set allComb_45 = GenAllComb(seq_lv_43);
                    Record vdm_EXPR_i;
                    Generic tmpe_55;
                    for (int bb_54 = allComb_45.First(tmpe_55); bb_54; bb_54 = allComb_45.Next(tmpe_55)) {
                      Sequence tmp_52 = tmpe_55;
                      {
                        if (succ_41 = 1 == (Int) (tmp_52.Length())) {
                          Record permI_53;
                          permI_53 = (Record) (tmp_52.Hd());
                          succ_41 = true;
                          {
                            vdm_EXPR_i = permI_53;
                            succ_41 = true;
                          }
                        }
                        if (succ_41) {
                          Map tmp_m_37;
                          tmp_m_37 = vdm_EXPR_map1__v;
                          Record tmppar_38;
                          {
                            Map tmp_m_39;
                            tmp_m_39 = vdm_EXPR_map2__v;
                            tmppar_38 = (Record) (((Map) tmp_m_39)[vdm_EXPR_i]);
                          }
                          mr_36 = (Record) (((Map) tmp_m_37)[tmppar_38]);
                          res_m_34.Insert(vdm_EXPR_i, mr_36);
                        }
                      }
                    }
                  }
                  tmpVar_33 = res_m_34;
                }
                rexpr_32.SetField(1, tmpVar_33);
              }
              return rexpr_32;
            }
            else { RunTime("Can not evaluate an error statement"); }
          }
        }
        else { RunTime("Can not evaluate an error statement"); }
      }
    }
  }
}

Record vdm_EXPR_EvalComposeFctExpr(Record vdm_EXPR_fn1__e, Record vdm_EXPR_fn2__e) {
  bool succ_4;
  Record tmpVal_5;
  tmpVal_5 = vdm_EXPR_EvalExpr(vdm_EXPR_fn1__e);
  Sequence vdm_EXPR_parms1;
  Record vdm_EXPR_tp1;
  succ_4 = true;
  {
    succ_4 = false;
    if (tmpVal_5.IsRecord()) 
      if (vdm_SEM_ExplFN == ((Record) tmpVal_5).GetTag()) {
        Sequence e_l_7;
        for (int i_8 = 1; i_8 <= ((Record) tmpVal_5).Length(); i_8++) 
          e_l_7.ImpAppend(((Record) tmpVal_5).GetField(i_8));
        if (succ_4 = 10 == (Int) (e_l_7.Length())) {
          Generic permI_9;
          permI_9 = (Generic) (e_l_7.Hd());
          succ_4 = true;
          {
            vdm_EXPR_tp1 = permI_9;
            succ_4 = true;
          }
          permI_9 = (Generic) (e_l_7[2]);
          if (succ_4) {
            vdm_EXPR_parms1 = permI_9;
            succ_4 = true;
          }
          permI_9 = (Generic) (e_l_7[3]);
          if (succ_4) 
            succ_4 = true;
          permI_9 = (Generic) (e_l_7[4]);
          if (succ_4) 
            succ_4 = true;
          permI_9 = (Generic) (e_l_7[5]);
          if (succ_4) 
            succ_4 = true;
          permI_9 = (Generic) (e_l_7[6]);
          if (succ_4) 
            succ_4 = true;
          permI_9 = (Generic) (e_l_7[7]);
          if (succ_4) 
            succ_4 = true;
          permI_9 = (Generic) (e_l_7[8]);
          if (succ_4) 
            succ_4 = true;
          permI_9 = (Generic) (e_l_7[9]);
          if (succ_4) 
            succ_4 = true;
          permI_9 = (Generic) (e_l_7[10]);
          if (succ_4) 
            succ_4 = true;
        }
      }
  }
  if (!succ_4) 
    RunTime("Pattern match did not succeed in value definition");
  Record tmpVal_10;
  tmpVal_10 = vdm_EXPR_EvalExpr(vdm_EXPR_fn2__e);
  Sequence vdm_EXPR_parms2;
  Record vdm_EXPR_tp2;
  succ_4 = true;
  {
    succ_4 = false;
    if (tmpVal_10.IsRecord()) 
      if (vdm_SEM_ExplFN == ((Record) tmpVal_10).GetTag()) {
        Sequence e_l_12;
        for (int i_13 = 1; i_13 <= ((Record) tmpVal_10).Length(); i_13++) 
          e_l_12.ImpAppend(((Record) tmpVal_10).GetField(i_13));
        if (succ_4 = 10 == (Int) (e_l_12.Length())) {
          Generic permI_14;
          permI_14 = (Generic) (e_l_12.Hd());
          succ_4 = true;
          {
            vdm_EXPR_tp2 = permI_14;
            succ_4 = true;
          }
          permI_14 = (Generic) (e_l_12[2]);
          if (succ_4) {
            vdm_EXPR_parms2 = permI_14;
            succ_4 = true;
          }
          permI_14 = (Generic) (e_l_12[3]);
          if (succ_4) 
            succ_4 = true;
          permI_14 = (Generic) (e_l_12[4]);
          if (succ_4) 
            succ_4 = true;
          permI_14 = (Generic) (e_l_12[5]);
          if (succ_4) 
            succ_4 = true;
          permI_14 = (Generic) (e_l_12[6]);
          if (succ_4) 
            succ_4 = true;
          permI_14 = (Generic) (e_l_12[7]);
          if (succ_4) 
            succ_4 = true;
          permI_14 = (Generic) (e_l_12[8]);
          if (succ_4) 
            succ_4 = true;
          permI_14 = (Generic) (e_l_12[9]);
          if (succ_4) 
            succ_4 = true;
          permI_14 = (Generic) (e_l_12[10]);
          if (succ_4) 
            succ_4 = true;
        }
      }
  }
  if (!succ_4) 
    RunTime("Pattern match did not succeed in value definition");
  {
    bool succ_15;
    Record vdm_EXPR_let__pat;
    if (((Bool) ((Int) (((Sequence) (vdm_EXPR_parms1.Hd())).Length()) == (Int) 1)).GetValue()) 
      vdm_EXPR_let__pat = (Record) (((Sequence) (vdm_EXPR_parms1.Hd())).Hd());
    else {
      vdm_EXPR_let__pat = Record(vdm_AS_TuplePattern, length_AS_TuplePattern);
      vdm_EXPR_let__pat.SetField(1, (Sequence) (vdm_EXPR_parms1.Hd()));
      vdm_EXPR_let__pat.SetField(2, Nil());
    }
    Sequence vdm_EXPR_fn1__prm;
    {
      Sequence vdm_EXPR_tmp;
      vdm_EXPR_tmp = (Sequence) (vdm_EXPR_parms1.Hd());
      {
        Sequence res_l_31;
        Record reselem_32;
        Set resBind_s_34;
        {
          Set riseq_39;
          int max_40 = (Int) (vdm_EXPR_tmp.Length());
          for (int i_41 = 1; i_41 <= max_40; i_41++) 
            riseq_39.Insert((Int) i_41);
          resBind_s_34 = riseq_39;
        }
        Sequence bind_l_33;
        if ((Int) (resBind_s_34.Card()) != (Int) 0) 
          bind_l_33 = Sort(resBind_s_34);
        bool succ_35 = true;
        Int vdm_EXPR_i;
        Generic tmpe_46;
        for (int i_45 = bind_l_33.First(tmpe_46); i_45; i_45 = bind_l_33.Next(tmpe_46)) {
          Int e_37 = tmpe_46;
          {
            vdm_EXPR_i = e_37;
            succ_35 = true;
            if (succ_35) {
              Record tmpVar_42;
              {
                Sequence tmpseq_43;
                tmpseq_43 = vdm_EXPR_tmp;
                tmpVar_42 = (Record) (tmpseq_43[vdm_EXPR_i.GetValue()]);
              }
              reselem_32 = vdm_EXPR_GetExpr(tmpVar_42);
              res_l_31.ImpAppend(reselem_32);
            }
          }
        }
        vdm_EXPR_fn1__prm = res_l_31;
      }
    }
    Sequence vdm_EXPR_fn2__prm;
    {
      Sequence vdm_EXPR_tmp;
      vdm_EXPR_tmp = (Sequence) (vdm_EXPR_parms2.Hd());
      {
        Sequence res_l_51;
        Record reselem_52;
        Set resBind_s_54;
        {
          Set riseq_59;
          int max_60 = (Int) (vdm_EXPR_tmp.Length());
          for (int i_61 = 1; i_61 <= max_60; i_61++) 
            riseq_59.Insert((Int) i_61);
          resBind_s_54 = riseq_59;
        }
        Sequence bind_l_53;
        if ((Int) (resBind_s_54.Card()) != (Int) 0) 
          bind_l_53 = Sort(resBind_s_54);
        bool succ_55 = true;
        Int vdm_EXPR_i;
        Generic tmpe_66;
        for (int i_65 = bind_l_53.First(tmpe_66); i_65; i_65 = bind_l_53.Next(tmpe_66)) {
          Int e_57 = tmpe_66;
          {
            vdm_EXPR_i = e_57;
            succ_55 = true;
            if (succ_55) {
              Record tmpVar_62;
              {
                Sequence tmpseq_63;
                tmpseq_63 = vdm_EXPR_tmp;
                tmpVar_62 = (Record) (tmpseq_63[vdm_EXPR_i.GetValue()]);
              }
              reselem_52 = vdm_EXPR_GetExpr(tmpVar_62);
              res_l_51.ImpAppend(reselem_52);
            }
          }
        }
        vdm_EXPR_fn2__prm = res_l_51;
      }
    }
    Record tmpVal_67(vdm_AS_Name, length_AS_Name);
    tmpVal_67 = vdm_EXPR_CurrentModule();
    Record vdm_EXPR_modName(vdm_AS_Name, length_AS_Name);
    succ_15 = true;
    {
      vdm_EXPR_modName = tmpVal_67;
      succ_15 = true;
    }
    if (!succ_15) 
      RunTime("Pattern match did not succeed in value definition");
    {
      Record vdm_EXPR_let__in(vdm_AS_ApplyExpr, length_AS_ApplyExpr);
      vdm_EXPR_let__in = Record(vdm_AS_ApplyExpr, length_AS_ApplyExpr);
      vdm_EXPR_let__in.SetField(1, vdm_EXPR_fn1__e);
      vdm_EXPR_let__in.SetField(2, vdm_EXPR_fn1__prm);
      vdm_EXPR_let__in.SetField(3, Nil());
      Sequence vdm_EXPR_localdef;
      Record tmpVar_74(vdm_AS_ValueDef, length_AS_ValueDef);
      tmpVar_74 = Record(vdm_AS_ValueDef, length_AS_ValueDef);
      tmpVar_74.SetField(1, vdm_EXPR_let__pat);
      tmpVar_74.SetField(2, Nil());
      Record tmpVar_77(vdm_AS_ApplyExpr, length_AS_ApplyExpr);
      {
        tmpVar_77 = Record(vdm_AS_ApplyExpr, length_AS_ApplyExpr);
        tmpVar_77.SetField(1, vdm_EXPR_fn2__e);
        tmpVar_77.SetField(2, vdm_EXPR_fn2__prm);
        tmpVar_77.SetField(3, Nil());
      }
      tmpVar_74.SetField(3, tmpVar_77);
      vdm_EXPR_localdef = Sequence().ImpAppend(tmpVar_74);
      {
        Record rexpr_81(vdm_SEM_ExplFN, length_SEM_ExplFN);
        {
          rexpr_81 = Record(vdm_SEM_ExplFN, length_SEM_ExplFN);
          Record tmpVar_82(vdm_AS_PartialFnType, length_AS_PartialFnType);
          {
            tmpVar_82 = Record(vdm_AS_PartialFnType, length_AS_PartialFnType);
            Sequence tmpVar_83;
            {
              Record tmpRec_84;
              tmpRec_84 = vdm_EXPR_tp2;
              if (((Record) tmpRec_84).Is(vdm_AS_TotalFnType)) 
                tmpVar_83 = ((Record) tmpRec_84).GetField(pos_AS_TotalFnType_fndom);
              else 
                if (((Record) tmpRec_84).Is(vdm_AS_PartialFnType)) 
                  tmpVar_83 = ((Record) tmpRec_84).GetField(pos_AS_PartialFnType_fndom);
                else 
                  RunTime("Unknown record field selector");
            }
            tmpVar_82.SetField(1, tmpVar_83);
            Record tmpVar_85;
            {
              Record tmpRec_86;
              tmpRec_86 = vdm_EXPR_tp1;
              if (((Record) tmpRec_86).Is(vdm_AS_TotalFnType)) 
                tmpVar_85 = ((Record) tmpRec_86).GetField(pos_AS_TotalFnType_fnrng);
              else 
                if (((Record) tmpRec_86).Is(vdm_AS_PartialFnType)) 
                  tmpVar_85 = ((Record) tmpRec_86).GetField(pos_AS_PartialFnType_fnrng);
                else 
                  RunTime("Unknown record field selector");
            }
            tmpVar_82.SetField(2, tmpVar_85);
          }
          rexpr_81.SetField(1, tmpVar_82);
          rexpr_81.SetField(2, vdm_EXPR_parms2);
          Record tmpVar_88(vdm_AS_LetExpr, length_AS_LetExpr);
          {
            tmpVar_88 = Record(vdm_AS_LetExpr, length_AS_LetExpr);
            tmpVar_88.SetField(1, vdm_EXPR_localdef);
            tmpVar_88.SetField(2, vdm_EXPR_let__in);
            tmpVar_88.SetField(3, Nil());
          }
          rexpr_81.SetField(3, tmpVar_88);
          rexpr_81.SetField(4, Nil());
          rexpr_81.SetField(5, Nil());
          rexpr_81.SetField(6, vdm_EXPR_MkEmptyBlkEnv((Quote) "READ_ONLY"));
          Map tmpVar_96;
          tmpVar_96 = Map();
          rexpr_81.SetField(7, tmpVar_96);
          rexpr_81.SetField(8, Nil());
          rexpr_81.SetField(9, vdm_EXPR_modName);
          rexpr_81.SetField(10, Nil());
        }
        return rexpr_81;
      }
    }
  }
}

Record vdm_EXPR_EvalDefExpr(Record var_1_1) {
  Sequence vdm_EXPR_def__l;
  Record vdm_EXPR_in__e;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_DefExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 3 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_def__l = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_in__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Sequence vdm_EXPR_pat__lp;
    vdm_EXPR_pat__lp = Sequence();
    Sequence vdm_EXPR_val__lv;
    vdm_EXPR_val__lv = Sequence();
    {
      Sequence sq_6;
      sq_6 = vdm_EXPR_def__l;
      Record vdm_EXPR_pat__p;
      Record vdm_EXPR_val__e;
      bool succ_8;
      Generic tmpe_67;
      for (int i_66 = sq_6.First(tmpe_67); i_66; i_66 = sq_6.Next(tmpe_67)) {
        Tuple elem_7 = tmpe_67;
        {
          succ_8 = true;
          {
            succ_8 = false;
            if (elem_7.IsTuple()) {
              Sequence e_l_63;
              for (int i_64 = 1; i_64 <= ((Tuple) elem_7).Length(); i_64++) 
                e_l_63.ImpAppend(((Tuple) elem_7).GetField(i_64));
              if (succ_8 = 2 == (Int) (e_l_63.Length())) {
                Record permI_65;
                permI_65 = (Record) (e_l_63.Hd());
                succ_8 = true;
                {
                  vdm_EXPR_pat__p = permI_65;
                  succ_8 = true;
                }
                permI_65 = (Record) (e_l_63[2]);
                if (succ_8) {
                  vdm_EXPR_val__e = permI_65;
                  succ_8 = true;
                }
              }
            }
          }
          if (succ_8) {
            bool succ_9;
            Record tmpVal_10;
            tmpVal_10 = vdm_EXPR_EvalExpr(vdm_EXPR_val__e);
            Record vdm_EXPR_val__v;
            succ_9 = true;
            {
              vdm_EXPR_val__v = tmpVal_10;
              succ_9 = true;
            }
            if (!succ_9) 
              RunTime("Pattern match did not succeed in value definition");
            {
              Bool cond_12;
              {
                Record argTmp_13;
                argTmp_13 = vdm_EXPR_val__v;
                if (argTmp_13.IsRecord()) 
                  cond_12 = vdm_SEM_EXIT == argTmp_13.GetTag();
                else 
                  cond_12 = false;
              }
              if (cond_12.GetValue()) {
                Record rexpr_18;
                rexpr_18 = vdm_EXPR_val__v;
                return rexpr_18;
              }
              else {
                Sequence rhs_14;
                {
                  Sequence var2_16;
                  var2_16 = Sequence().ImpAppend(vdm_EXPR_val__v);
                  rhs_14.ImpConc(vdm_EXPR_val__lv).ImpConc(var2_16);
                }
                vdm_EXPR_val__lv = rhs_14;
              }
              {
                Bool cond_19;
                {
                  Record argTmp_20;
                  argTmp_20 = vdm_EXPR_pat__p;
                  if (argTmp_20.IsRecord()) 
                    cond_19 = vdm_AS_TypeBind == argTmp_20.GetTag();
                  else 
                    cond_19 = false;
                }
                if (cond_19.GetValue()) {
                  bool succ_48;
                  Record tmpVal_49;
                  tmpVal_49 = vdm_EXPR_pat__p;
                  Record vdm_EXPR_pat;
                  Record vdm_EXPR_tp;
                  succ_48 = true;
                  {
                    succ_48 = false;
                    if (tmpVal_49.IsRecord()) 
                      if (vdm_AS_TypeBind == ((Record) tmpVal_49).GetTag()) {
                        Sequence e_l_50;
                        for (int i_51 = 1; i_51 <= ((Record) tmpVal_49).Length(); i_51++) 
                          e_l_50.ImpAppend(((Record) tmpVal_49).GetField(i_51));
                        if (succ_48 = 2 == (Int) (e_l_50.Length())) {
                          Record permI_52;
                          permI_52 = (Record) (e_l_50.Hd());
                          succ_48 = true;
                          {
                            vdm_EXPR_pat = permI_52;
                            succ_48 = true;
                          }
                          permI_52 = (Record) (e_l_50[2]);
                          if (succ_48) {
                            vdm_EXPR_tp = permI_52;
                            succ_48 = true;
                          }
                        }
                      }
                  }
                  if (!succ_48) 
                    RunTime("Pattern match did not succeed in value definition");
                  {
                    Bool cond_53;
{ if ((cond_53 = vdm_EXPR_DTC()).GetValue()) {
   Bool var2_55;
   Bool unArg_56;
   unArg_56 = vdm_EXPR_SubType(vdm_EXPR_val__v, vdm_EXPR_tp);
   var2_55 = (Bool) (!unArg_56.GetValue());
   cond_53 = var2_55;
 } }
                    if (cond_53.GetValue()) 
                      RunTime("Can not evaluate an error statement");
                    else {
                      Sequence rhs_59;
                      {
                        Sequence var2_61;
                        var2_61 = Sequence().ImpAppend(vdm_EXPR_pat);
                        rhs_59.ImpConc(vdm_EXPR_pat__lp).ImpConc(var2_61);
                      }
                      vdm_EXPR_pat__lp = rhs_59;
                    }
                  }
                }
                else {
                  Record argTmp_25;
                  argTmp_25 = vdm_EXPR_pat__p;
                  if (argTmp_25.IsRecord()) 
                    cond_19 = vdm_AS_SetBind == argTmp_25.GetTag();
                  else 
                    cond_19 = false;
                  if (cond_19.GetValue()) {
                    bool succ_26;
                    Record tmpVal_27;
                    tmpVal_27 = vdm_EXPR_pat__p;
                    Record vdm_EXPR_pat;
                    Record vdm_EXPR_set__e;
                    succ_26 = true;
                    {
                      succ_26 = false;
                      if (tmpVal_27.IsRecord()) 
                        if (vdm_AS_SetBind == ((Record) tmpVal_27).GetTag()) {
                          Sequence e_l_28;
                          for (int i_29 = 1; i_29 <= ((Record) tmpVal_27).Length(); i_29++) 
                            e_l_28.ImpAppend(((Record) tmpVal_27).GetField(i_29));
                          if (succ_26 = 2 == (Int) (e_l_28.Length())) {
                            Record permI_30;
                            permI_30 = (Record) (e_l_28.Hd());
                            succ_26 = true;
                            {
                              vdm_EXPR_pat = permI_30;
                              succ_26 = true;
                            }
                            permI_30 = (Record) (e_l_28[2]);
                            if (succ_26) {
                              vdm_EXPR_set__e = permI_30;
                              succ_26 = true;
                            }
                          }
                        }
                    }
                    if (!succ_26) 
                      RunTime("Pattern match did not succeed in value definition");
                    {
                      Bool cond_31;
{ if ((cond_31 = vdm_EXPR_DTC()).GetValue()) {
   Bool var2_33;
   {
     Record vdm_EXPR_set__v;
     vdm_EXPR_set__v = vdm_EXPR_EvalExpr(vdm_EXPR_set__e);
     {
       Bool unArg_37;
       Bool var1_38;
       Record argTmp_40;
       argTmp_40 = vdm_EXPR_set__v;
       if (argTmp_40.IsRecord()) 
         var1_38 = vdm_SEM_SET == argTmp_40.GetTag();
       else 
         var1_38 = false;
       if ((unArg_37 = var1_38).GetValue()) {
         Bool var2_39;
         Generic var2_42;
         Record tmpRec_43;
         tmpRec_43 = vdm_EXPR_set__v;
         if (((Record) tmpRec_43).Is(vdm_SEM_TUPLE)) 
           var2_42 = ((Record) tmpRec_43).GetField(pos_SEM_TUPLE_v);
         else 
           if (((Record) tmpRec_43).Is(vdm_SEM_TOKEN)) 
             var2_42 = ((Record) tmpRec_43).GetField(pos_SEM_TOKEN_v);
           else 
             if (((Record) tmpRec_43).Is(vdm_SEM_SET)) 
               var2_42 = ((Record) tmpRec_43).GetField(pos_SEM_SET_v);
             else 
               if (((Record) tmpRec_43).Is(vdm_SEM_SEQ)) 
                 var2_42 = ((Record) tmpRec_43).GetField(pos_SEM_SEQ_v);
               else 
                 if (((Record) tmpRec_43).Is(vdm_SEM_REC)) 
                   var2_42 = ((Record) tmpRec_43).GetField(pos_SEM_REC_v);
                 else 
                   if (((Record) tmpRec_43).Is(vdm_SEM_QUOTE)) 
                     var2_42 = ((Record) tmpRec_43).GetField(pos_SEM_QUOTE_v);
                   else 
                     if (((Record) tmpRec_43).Is(vdm_SEM_NUM)) 
                       var2_42 = ((Record) tmpRec_43).GetField(pos_SEM_NUM_v);
                     else 
                       if (((Record) tmpRec_43).Is(vdm_SEM_MAP)) 
                         var2_42 = ((Record) tmpRec_43).GetField(pos_SEM_MAP_v);
                       else 
                         if (((Record) tmpRec_43).Is(vdm_SEM_ExtVAL)) 
                           var2_42 = ((Record) tmpRec_43).GetField(pos_SEM_ExtVAL_v);
                         else 
                           if (((Record) tmpRec_43).Is(vdm_SEM_EXIT)) 
                             var2_42 = ((Record) tmpRec_43).GetField(pos_SEM_EXIT_v);
                           else 
                             if (((Record) tmpRec_43).Is(vdm_SEM_CHAR)) 
                               var2_42 = ((Record) tmpRec_43).GetField(pos_SEM_CHAR_v);
                             else 
                               if (((Record) tmpRec_43).Is(vdm_SEM_BOOL)) 
                                 var2_42 = ((Record) tmpRec_43).GetField(pos_SEM_BOOL_v);
                               else 
                                 RunTime("Unknown record field selector");
         if (!var2_42.IsSet()) 
           RunTime("A set was expected");
         var2_39 = (Bool) (((Set) var2_42).InSet(vdm_EXPR_val__v));
         unArg_37 = var2_39;
       }
       var2_33 = (Bool) (!unArg_37.GetValue());
     }
   }
   cond_31 = var2_33;
 } }
                      if (cond_31.GetValue()) 
                        RunTime("Can not evaluate an error statement");
                      else {
                        Sequence rhs_44;
                        {
                          Sequence var2_46;
                          var2_46 = Sequence().ImpAppend(vdm_EXPR_pat);
                          rhs_44.ImpConc(vdm_EXPR_pat__lp).ImpConc(var2_46);
                        }
                        vdm_EXPR_pat__lp = rhs_44;
                      }
                    }
                  }
                  else {
                    Sequence rhs_21;
                    {
                      Sequence var2_23;
                      var2_23 = Sequence().ImpAppend(vdm_EXPR_pat__p);
                      rhs_21.ImpConc(vdm_EXPR_pat__lp).ImpConc(var2_23);
                    }
                    vdm_EXPR_pat__lp = rhs_21;
                  }
                }
              }
            }
          }
          else 
            RunTime("Pattern did not match in sequence for loop");
        }
      }
    }
    {
      Set vdm_EXPR_env__s;
      vdm_EXPR_env__s = vdm_EXPR_MatchLists(vdm_EXPR_pat__lp, vdm_EXPR_val__lv);
      {
        Bool cond_72;
        {
          Set var2_74;
          var2_74 = Set();
          cond_72 = (Bool) (!(vdm_EXPR_env__s == var2_74));
        }
        if (cond_72.GetValue()) {
          Set tmpSet_75;
          tmpSet_75 = vdm_EXPR_env__s;
          Record vdm_EXPR_env(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
          Bool tmpB_76;
          bool succ_77 = false;
          Generic tmpe_80;
          for (int bb_79 = tmpSet_75.First(tmpe_80); bb_79 && !succ_77; bb_79 = tmpSet_75.Next(tmpe_80)) {
            Record tmpElem_78 = tmpe_80;
            {
              succ_77 = true;
              {
                vdm_EXPR_env = tmpElem_78;
                succ_77 = true;
              }
              if (succ_77) 
                succ_77 = ((Bool) true).GetValue();
            }
          }
          if (!succ_77) 
            RunTime("The binding environment was empty");
          {
            Record tmpVar_81(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
            tmpVar_81 = vdm_EXPR_env;
            vdm_EXPR_PushBlkEnv(tmpVar_81);
            {
              Record vdm_EXPR_in__v;
              vdm_EXPR_in__v = vdm_EXPR_EvalExpr(vdm_EXPR_in__e);
              {
                vdm_EXPR_PopBlkEnv();
                {
                  Record rexpr_85;
                  rexpr_85 = vdm_EXPR_in__v;
                  return rexpr_85;
                }
              }
            }
          }
        }
        else { RunTime("Can not evaluate an error statement"); }
      }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalDefExpr");
}

Record vdm_EXPR_EvalExistsUniqueExpr(Record var_1_1) {
  Record vdm_EXPR_bind;
  Record vdm_EXPR_pred__e;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_ExistsUniqueExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 4 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_bind = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_pred__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) 
            succ_2 = true;
          permI_5 = (Generic) (e_l_3[4]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Set vdm_EXPR_env__s;
    Bool vdm_EXPR_cont;
    vdm_EXPR_cont = (Bool) true;
    Bool vdm_EXPR_found;
    vdm_EXPR_found = (Bool) false;
    {
      Record vdm_EXPR_new__bind;
      Record tmpVar_9(vdm_AS_Name, length_AS_Name);
      {
        tmpVar_9 = Record(vdm_AS_Name, length_AS_Name);
        Sequence tmpVar_10;
        tmpVar_10 = Sequence().ImpAppend(Sequence("1"));
        tmpVar_9.SetField(1, tmpVar_10);
        tmpVar_9.SetField(2, Nil());
      }
      vdm_EXPR_new__bind = vdm_EXPR_DoCarePattern(vdm_EXPR_bind, tmpVar_9);
      {
        Set tmpSet_13;
        tmpSet_13 = vdm_EXPR_EvalBind(vdm_EXPR_new__bind, (Quote) "DO_PARTITION");
        Generic vdm_EXPR_env__s_q;
        Bool tmpB_14;
        bool succ_15 = false;
        Generic tmpe_20;
        for (int bb_19 = tmpSet_13.First(tmpe_20); bb_19 && !succ_15; bb_19 = tmpSet_13.Next(tmpe_20)) {
          Generic tmpElem_16 = tmpe_20;
          {
            succ_15 = true;
            {
              vdm_EXPR_env__s_q = tmpElem_16;
              succ_15 = true;
            }
            if (succ_15) 
              succ_15 = ((Bool) true).GetValue();
          }
        }
        if (!succ_15) 
          RunTime("The binding environment was empty");
        {
          Generic rhs_21;
          rhs_21 = vdm_EXPR_env__s_q;
          vdm_EXPR_env__s = rhs_21;
        }
      }
    }
    {
      Bool whCrtl_22;
      while ( true){
        Bool var1_23;
        Set var2_26;
        var2_26 = Set();
        var1_23 = (Bool) (!(vdm_EXPR_env__s == var2_26));
        if ((whCrtl_22 = var1_23).GetValue()) { whCrtl_22 = vdm_EXPR_cont; }
        if (whCrtl_22.GetValue()) {
          Set tmpSet_27;
          tmpSet_27 = vdm_EXPR_env__s;
          Record vdm_EXPR_env(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
          Bool tmpB_28;
          bool succ_29 = false;
          Generic tmpe_32;
          for (int bb_31 = tmpSet_27.First(tmpe_32); bb_31 && !succ_29; bb_31 = tmpSet_27.Next(tmpe_32)) {
            Record tmpElem_30 = tmpe_32;
            {
              succ_29 = true;
              {
                vdm_EXPR_env = tmpElem_30;
                succ_29 = true;
              }
              if (succ_29) 
                succ_29 = ((Bool) true).GetValue();
            }
          }
          if (!succ_29) 
            RunTime("The binding environment was empty");
          {
            Record tmpVar_33(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
            tmpVar_33 = vdm_EXPR_env;
            vdm_EXPR_PushBlkEnv(tmpVar_33);
            {
              Record vdm_EXPR_pred__v;
              vdm_EXPR_pred__v = vdm_EXPR_EvalExpr(vdm_EXPR_pred__e);
              {
                Bool cond_37;
                {
                  Record argTmp_38;
                  argTmp_38 = vdm_EXPR_pred__v;
                  if (argTmp_38.IsRecord()) 
                    cond_37 = vdm_SEM_BOOL == argTmp_38.GetTag();
                  else 
                    cond_37 = false;
                }
                if (cond_37.GetValue()) {
                  bool succ_39;
                  Record tmpVal_40;
                  tmpVal_40 = vdm_EXPR_pred__v;
                  Bool vdm_EXPR_b;
                  succ_39 = true;
                  {
                    succ_39 = false;
                    if (tmpVal_40.IsRecord()) 
                      if (vdm_SEM_BOOL == ((Record) tmpVal_40).GetTag()) {
                        Sequence e_l_41;
                        for (int i_42 = 1; i_42 <= ((Record) tmpVal_40).Length(); i_42++) 
                          e_l_41.ImpAppend(((Record) tmpVal_40).GetField(i_42));
                        if (succ_39 = 1 == (Int) (e_l_41.Length())) {
                          Bool permI_43;
                          permI_43 = (Bool) (e_l_41.Hd());
                          succ_39 = true;
                          {
                            vdm_EXPR_b = permI_43;
                            succ_39 = true;
                          }
                        }
                      }
                  }
                  if (!succ_39) 
                    RunTime("Pattern match did not succeed in value definition");
                  {
                    Bool cond_44;
                    cond_44 = vdm_EXPR_b;
                    if (cond_44.GetValue()) {
                      Bool cond_45;
                      cond_45 = vdm_EXPR_found;
                      if (cond_45.GetValue()) {
                        Bool rhs_47;
                        rhs_47 = (Bool) false;
                        vdm_EXPR_cont = rhs_47;
                      }
                      else {
                        Bool rhs_46;
                        rhs_46 = (Bool) true;
                        vdm_EXPR_found = rhs_46;
                      }
                    }
                  }
                }
                else { RunTime("Can not evaluate an error statement"); }
              }
            }
            {
              Set rhs_48;
              {
                Set var2_50;
                var2_50 = Set().Insert(vdm_EXPR_env);
                rhs_48 = vdm_EXPR_env__s;
                rhs_48.ImpDiff(var2_50);
              }
              vdm_EXPR_env__s = rhs_48;
            }
            vdm_EXPR_PopBlkEnv();
          }
        }
        else 
          break;
      }
    }
    {
      Record rexpr_52(vdm_SEM_BOOL, length_SEM_BOOL);
      {
        rexpr_52 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
        Bool tmpVar_53;
{ if ((tmpVar_53 = vdm_EXPR_found).GetValue()) { tmpVar_53 = vdm_EXPR_cont; } }
        rexpr_52.SetField(1, tmpVar_53);
      }
      return rexpr_52;
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalExistsUniqueExpr");
}

Record vdm_EXPR_EvalExpr(Record vdm_EXPR_expr) {
  Bool selRes_3;
  selRes_3 = (Bool) true;
  bool succ_4 = true;
  {
    Bool tmpVal_5;
    {
      Record argTmp_6;
      argTmp_6 = vdm_EXPR_expr;
      if (argTmp_6.IsRecord()) 
        tmpVal_5 = vdm_AS_DefExpr == argTmp_6.GetTag();
      else 
        tmpVal_5 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_5)).GetValue();
    if (succ_4) {
      Record tmpVar_7;
      tmpVar_7 = vdm_EXPR_expr;
      return vdm_EXPR_EvalDefExpr(tmpVar_7);
    }
  }
  if (!succ_4) {
    Bool tmpVal_8;
    {
      Record argTmp_9;
      argTmp_9 = vdm_EXPR_expr;
      if (argTmp_9.IsRecord()) 
        tmpVal_8 = vdm_AS_LetExpr == argTmp_9.GetTag();
      else 
        tmpVal_8 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_8)).GetValue();
    if (succ_4) {
      Record tmpVar_10;
      tmpVar_10 = vdm_EXPR_expr;
      return vdm_EXPR_EvalLetExpr(tmpVar_10);
    }
  }
  if (!succ_4) {
    Bool tmpVal_11;
    {
      Record argTmp_12;
      argTmp_12 = vdm_EXPR_expr;
      if (argTmp_12.IsRecord()) 
        tmpVal_11 = vdm_AS_LetBeSTExpr == argTmp_12.GetTag();
      else 
        tmpVal_11 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_11)).GetValue();
    if (succ_4) {
      Record tmpVar_13;
      tmpVar_13 = vdm_EXPR_expr;
      return vdm_EXPR_EvalLetBeSTExpr(tmpVar_13);
    }
  }
  if (!succ_4) {
    Bool tmpVal_14;
    {
      Record argTmp_15;
      argTmp_15 = vdm_EXPR_expr;
      if (argTmp_15.IsRecord()) 
        tmpVal_14 = vdm_AS_IfExpr == argTmp_15.GetTag();
      else 
        tmpVal_14 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_14)).GetValue();
    if (succ_4) {
      Record tmpVar_16;
      tmpVar_16 = vdm_EXPR_expr;
      return vdm_EXPR_EvalIfExpr(tmpVar_16);
    }
  }
  if (!succ_4) {
    Bool tmpVal_17;
    {
      Record argTmp_18;
      argTmp_18 = vdm_EXPR_expr;
      if (argTmp_18.IsRecord()) 
        tmpVal_17 = vdm_AS_CasesExpr == argTmp_18.GetTag();
      else 
        tmpVal_17 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_17)).GetValue();
    if (succ_4) {
      Record tmpVar_19;
      tmpVar_19 = vdm_EXPR_expr;
      return vdm_EXPR_EvalCasesExpr(tmpVar_19);
    }
  }
  if (!succ_4) {
    Bool tmpVal_20;
    {
      Record argTmp_21;
      argTmp_21 = vdm_EXPR_expr;
      if (argTmp_21.IsRecord()) 
        tmpVal_20 = vdm_AS_PrefixExpr == argTmp_21.GetTag();
      else 
        tmpVal_20 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_20)).GetValue();
    if (succ_4) {
      Record tmpVar_22;
      tmpVar_22 = vdm_EXPR_expr;
      return vdm_EXPR_EvalPrefixExpr(tmpVar_22);
    }
  }
  if (!succ_4) {
    Bool tmpVal_23;
    {
      Record argTmp_24;
      argTmp_24 = vdm_EXPR_expr;
      if (argTmp_24.IsRecord()) 
        tmpVal_23 = vdm_AS_MapInverseExpr == argTmp_24.GetTag();
      else 
        tmpVal_23 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_23)).GetValue();
    if (succ_4) {
      Record tmpVar_25;
      tmpVar_25 = vdm_EXPR_expr;
      return vdm_EXPR_EvalMapInverseExpr(tmpVar_25);
    }
  }
  if (!succ_4) {
    Bool tmpVal_26;
    {
      Record argTmp_27;
      argTmp_27 = vdm_EXPR_expr;
      if (argTmp_27.IsRecord()) 
        tmpVal_26 = vdm_AS_BinaryExpr == argTmp_27.GetTag();
      else 
        tmpVal_26 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_26)).GetValue();
    if (succ_4) {
      Record tmpVar_28;
      tmpVar_28 = vdm_EXPR_expr;
      return vdm_EXPR_EvalBinaryExpr(tmpVar_28);
    }
  }
  if (!succ_4) {
    Bool tmpVal_29;
    {
      Record argTmp_30;
      argTmp_30 = vdm_EXPR_expr;
      if (argTmp_30.IsRecord()) 
        tmpVal_29 = vdm_AS_AllOrExistsExpr == argTmp_30.GetTag();
      else 
        tmpVal_29 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_29)).GetValue();
    if (succ_4) {
      Record tmpVar_31;
      tmpVar_31 = vdm_EXPR_expr;
      return vdm_EXPR_EvalAllOrExistsExpr(tmpVar_31);
    }
  }
  if (!succ_4) {
    Bool tmpVal_32;
    {
      Record argTmp_33;
      argTmp_33 = vdm_EXPR_expr;
      if (argTmp_33.IsRecord()) 
        tmpVal_32 = vdm_AS_ExistsUniqueExpr == argTmp_33.GetTag();
      else 
        tmpVal_32 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_32)).GetValue();
    if (succ_4) {
      Record tmpVar_34;
      tmpVar_34 = vdm_EXPR_expr;
      return vdm_EXPR_EvalExistsUniqueExpr(tmpVar_34);
    }
  }
  if (!succ_4) {
    Bool tmpVal_35;
    {
      Record argTmp_36;
      argTmp_36 = vdm_EXPR_expr;
      if (argTmp_36.IsRecord()) 
        tmpVal_35 = vdm_AS_SetEnumerationExpr == argTmp_36.GetTag();
      else 
        tmpVal_35 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_35)).GetValue();
    if (succ_4) {
      Record tmpVar_37;
      tmpVar_37 = vdm_EXPR_expr;
      return vdm_EXPR_EvalSetEnumerationExpr(tmpVar_37);
    }
  }
  if (!succ_4) {
    Bool tmpVal_38;
    {
      Record argTmp_39;
      argTmp_39 = vdm_EXPR_expr;
      if (argTmp_39.IsRecord()) 
        tmpVal_38 = vdm_AS_SetComprehensionExpr == argTmp_39.GetTag();
      else 
        tmpVal_38 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_38)).GetValue();
    if (succ_4) {
      Record tmpVar_40;
      tmpVar_40 = vdm_EXPR_expr;
      return vdm_EXPR_EvalSetComprehensionExpr(tmpVar_40);
    }
  }
  if (!succ_4) {
    Bool tmpVal_41;
    {
      Record argTmp_42;
      argTmp_42 = vdm_EXPR_expr;
      if (argTmp_42.IsRecord()) 
        tmpVal_41 = vdm_AS_SetRangeExpr == argTmp_42.GetTag();
      else 
        tmpVal_41 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_41)).GetValue();
    if (succ_4) {
      Record tmpVar_43;
      tmpVar_43 = vdm_EXPR_expr;
      return vdm_EXPR_EvalSetRangeExpr(tmpVar_43);
    }
  }
  if (!succ_4) {
    Bool tmpVal_44;
    {
      Record argTmp_45;
      argTmp_45 = vdm_EXPR_expr;
      if (argTmp_45.IsRecord()) 
        tmpVal_44 = vdm_AS_SeqEnumerationExpr == argTmp_45.GetTag();
      else 
        tmpVal_44 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_44)).GetValue();
    if (succ_4) {
      Record tmpVar_46;
      tmpVar_46 = vdm_EXPR_expr;
      return vdm_EXPR_EvalSeqEnumerationExpr(tmpVar_46);
    }
  }
  if (!succ_4) {
    Bool tmpVal_47;
    {
      Record argTmp_48;
      argTmp_48 = vdm_EXPR_expr;
      if (argTmp_48.IsRecord()) 
        tmpVal_47 = vdm_AS_SeqComprehensionExpr == argTmp_48.GetTag();
      else 
        tmpVal_47 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_47)).GetValue();
    if (succ_4) {
      Record tmpVar_49;
      tmpVar_49 = vdm_EXPR_expr;
      return vdm_EXPR_EvalSeqComprehensionExpr(tmpVar_49);
    }
  }
  if (!succ_4) {
    Bool tmpVal_50;
    {
      Record argTmp_51;
      argTmp_51 = vdm_EXPR_expr;
      if (argTmp_51.IsRecord()) 
        tmpVal_50 = vdm_AS_SubSequenceExpr == argTmp_51.GetTag();
      else 
        tmpVal_50 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_50)).GetValue();
    if (succ_4) {
      Record tmpVar_52;
      tmpVar_52 = vdm_EXPR_expr;
      return vdm_EXPR_EvalSubSequenceExpr(tmpVar_52);
    }
  }
  if (!succ_4) {
    Bool tmpVal_53;
    {
      Record argTmp_54;
      argTmp_54 = vdm_EXPR_expr;
      if (argTmp_54.IsRecord()) 
        tmpVal_53 = vdm_AS_SeqModifyMapOverrideExpr == argTmp_54.GetTag();
      else 
        tmpVal_53 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_53)).GetValue();
    if (succ_4) {
      Record tmpVar_55;
      tmpVar_55 = vdm_EXPR_expr;
      return vdm_EXPR_EvalSeqModifyMapOverrideExpr(tmpVar_55);
    }
  }
  if (!succ_4) {
    Bool tmpVal_56;
    {
      Record argTmp_57;
      argTmp_57 = vdm_EXPR_expr;
      if (argTmp_57.IsRecord()) 
        tmpVal_56 = vdm_AS_MapEnumerationExpr == argTmp_57.GetTag();
      else 
        tmpVal_56 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_56)).GetValue();
    if (succ_4) {
      Record tmpVar_58;
      tmpVar_58 = vdm_EXPR_expr;
      return vdm_EXPR_EvalMapEnumerationExpr(tmpVar_58);
    }
  }
  if (!succ_4) {
    Bool tmpVal_59;
    {
      Record argTmp_60;
      argTmp_60 = vdm_EXPR_expr;
      if (argTmp_60.IsRecord()) 
        tmpVal_59 = vdm_AS_MapComprehensionExpr == argTmp_60.GetTag();
      else 
        tmpVal_59 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_59)).GetValue();
    if (succ_4) {
      Record tmpVar_61;
      tmpVar_61 = vdm_EXPR_expr;
      return vdm_EXPR_EvalMapComprehensionExpr(tmpVar_61);
    }
  }
  if (!succ_4) {
    Bool tmpVal_62;
    {
      Record argTmp_63;
      argTmp_63 = vdm_EXPR_expr;
      if (argTmp_63.IsRecord()) 
        tmpVal_62 = vdm_AS_TupleConstructorExpr == argTmp_63.GetTag();
      else 
        tmpVal_62 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_62)).GetValue();
    if (succ_4) {
      Record tmpVar_64;
      tmpVar_64 = vdm_EXPR_expr;
      return vdm_EXPR_EvalTupleConstructorExpr(tmpVar_64);
    }
  }
  if (!succ_4) {
    Bool tmpVal_65;
    {
      Record argTmp_66;
      argTmp_66 = vdm_EXPR_expr;
      if (argTmp_66.IsRecord()) 
        tmpVal_65 = vdm_AS_RecordConstructorExpr == argTmp_66.GetTag();
      else 
        tmpVal_65 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_65)).GetValue();
    if (succ_4) {
      Record tmpVar_67;
      tmpVar_67 = vdm_EXPR_expr;
      return vdm_EXPR_EvalRecordConstructorExpr(tmpVar_67);
    }
  }
  if (!succ_4) {
    Bool tmpVal_68;
    {
      Record argTmp_69;
      argTmp_69 = vdm_EXPR_expr;
      if (argTmp_69.IsRecord()) 
        tmpVal_68 = vdm_AS_RecordModifierExpr == argTmp_69.GetTag();
      else 
        tmpVal_68 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_68)).GetValue();
    if (succ_4) {
      Record tmpVar_70;
      tmpVar_70 = vdm_EXPR_expr;
      return vdm_EXPR_EvalRecordModifierExpr(tmpVar_70);
    }
  }
  if (!succ_4) {
    Bool tmpVal_71;
    {
      Record argTmp_72;
      argTmp_72 = vdm_EXPR_expr;
      if (argTmp_72.IsRecord()) 
        tmpVal_71 = vdm_AS_TokenConstructorExpr == argTmp_72.GetTag();
      else 
        tmpVal_71 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_71)).GetValue();
    if (succ_4) {
      Record tmpVar_73;
      tmpVar_73 = vdm_EXPR_expr;
      return vdm_EXPR_EvalTokenConstructorExpr(tmpVar_73);
    }
  }
  if (!succ_4) {
    Bool tmpVal_74;
    {
      Record argTmp_75;
      argTmp_75 = vdm_EXPR_expr;
      if (argTmp_75.IsRecord()) 
        tmpVal_74 = vdm_AS_ApplyExpr == argTmp_75.GetTag();
      else 
        tmpVal_74 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_74)).GetValue();
    if (succ_4) {
      Record tmpVar_76;
      tmpVar_76 = vdm_EXPR_expr;
      Generic tmpVar_77;
      tmpVar_77 = Nil();
      return vdm_EXPR_EvalApplyExpr(tmpVar_76, tmpVar_77);
    }
  }
  if (!succ_4) {
    Bool tmpVal_78;
    {
      Record argTmp_79;
      argTmp_79 = vdm_EXPR_expr;
      if (argTmp_79.IsRecord()) 
        tmpVal_78 = vdm_AS_FieldSelectExpr == argTmp_79.GetTag();
      else 
        tmpVal_78 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_78)).GetValue();
    if (succ_4) {
      Record tmpVar_80;
      tmpVar_80 = vdm_EXPR_expr;
      return vdm_EXPR_EvalFieldSelectExpr(tmpVar_80);
    }
  }
  if (!succ_4) {
    Bool tmpVal_81;
    {
      Record argTmp_82;
      argTmp_82 = vdm_EXPR_expr;
      if (argTmp_82.IsRecord()) 
        tmpVal_81 = vdm_AS_LambdaExpr == argTmp_82.GetTag();
      else 
        tmpVal_81 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_81)).GetValue();
    if (succ_4) {
      Record tmpVar_83;
      tmpVar_83 = vdm_EXPR_expr;
      return vdm_EXPR_EvalLambdaExpr(tmpVar_83);
    }
  }
  if (!succ_4) {
    Bool tmpVal_84;
    {
      Record argTmp_85;
      argTmp_85 = vdm_EXPR_expr;
      if (argTmp_85.IsRecord()) 
        tmpVal_84 = vdm_AS_IsExpr == argTmp_85.GetTag();
      else 
        tmpVal_84 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_84)).GetValue();
    if (succ_4) {
      Record tmpVar_86;
      tmpVar_86 = vdm_EXPR_expr;
      return vdm_EXPR_EvalIsExpr(tmpVar_86);
    }
  }
  if (!succ_4) {
    Bool tmpVal_87;
    {
      Record argTmp_88;
      argTmp_88 = vdm_EXPR_expr;
      if (argTmp_88.IsRecord()) 
        tmpVal_87 = vdm_AS_BoolLit == argTmp_88.GetTag();
      else 
        tmpVal_87 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_87)).GetValue();
    if (!succ_4) {
      Bool tmpVal_89;
      {
        Record argTmp_90;
        argTmp_90 = vdm_EXPR_expr;
        if (argTmp_90.IsRecord()) 
          tmpVal_89 = vdm_AS_CharLit == argTmp_90.GetTag();
        else 
          tmpVal_89 = false;
      }
      succ_4 = ((Bool) (selRes_3 == tmpVal_89)).GetValue();
    }
    if (!succ_4) {
      Bool tmpVal_91;
      {
        Record argTmp_92;
        argTmp_92 = vdm_EXPR_expr;
        if (argTmp_92.IsRecord()) 
          tmpVal_91 = vdm_AS_TextLit == argTmp_92.GetTag();
        else 
          tmpVal_91 = false;
      }
      succ_4 = ((Bool) (selRes_3 == tmpVal_91)).GetValue();
    }
    if (!succ_4) {
      Bool tmpVal_93;
      {
        Record argTmp_94;
        argTmp_94 = vdm_EXPR_expr;
        if (argTmp_94.IsRecord()) 
          tmpVal_93 = vdm_AS_QuoteLit == argTmp_94.GetTag();
        else 
          tmpVal_93 = false;
      }
      succ_4 = ((Bool) (selRes_3 == tmpVal_93)).GetValue();
    }
    if (!succ_4) {
      Bool tmpVal_95;
      {
        Record argTmp_96;
        argTmp_96 = vdm_EXPR_expr;
        if (argTmp_96.IsRecord()) 
          tmpVal_95 = vdm_AS_RealLit == argTmp_96.GetTag();
        else 
          tmpVal_95 = false;
      }
      succ_4 = ((Bool) (selRes_3 == tmpVal_95)).GetValue();
    }
    if (!succ_4) {
      Bool tmpVal_97;
      {
        Record argTmp_98;
        argTmp_98 = vdm_EXPR_expr;
        if (argTmp_98.IsRecord()) 
          tmpVal_97 = vdm_AS_NilLit == argTmp_98.GetTag();
        else 
          tmpVal_97 = false;
      }
      succ_4 = ((Bool) (selRes_3 == tmpVal_97)).GetValue();
    }
    if (succ_4) {
      Record tmpVar_99;
      tmpVar_99 = vdm_EXPR_expr;
      return vdm_EXPR_EvalLiteral(tmpVar_99);
    }
  }
  if (!succ_4) {
    Bool tmpVal_100;
    {
      Record argTmp_101;
      argTmp_101 = vdm_EXPR_expr;
      if (argTmp_101.IsRecord()) 
        tmpVal_100 = vdm_AS_Name == argTmp_101.GetTag();
      else 
        tmpVal_100 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_100)).GetValue();
    if (succ_4) {
      Record tmpVar_102;
      tmpVar_102 = vdm_EXPR_expr;
      return vdm_EXPR_LookUp(tmpVar_102);
    }
  }
  if (!succ_4) {
    Bool tmpVal_103;
    {
      Record argTmp_104;
      argTmp_104 = vdm_EXPR_expr;
      if (argTmp_104.IsRecord()) 
        tmpVal_103 = vdm_AS_OldName == argTmp_104.GetTag();
      else 
        tmpVal_103 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_103)).GetValue();
    if (succ_4) {
      Record tmpVar_105;
      tmpVar_105 = vdm_EXPR_expr;
      return vdm_EXPR_EvalOldName(tmpVar_105);
    }
  }
  if (!succ_4) {
    Bool tmpVal_106;
    {
      Record argTmp_107;
      argTmp_107 = vdm_EXPR_expr;
      if (argTmp_107.IsRecord()) 
        tmpVal_106 = vdm_AS_UndefinedExpr == argTmp_107.GetTag();
      else 
        tmpVal_106 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_106)).GetValue();
    if (succ_4) 
      RunTime("Can not evaluate an error statement");
  }
  if (!succ_4) {
    Bool tmpVal_108;
    {
      Record argTmp_109;
      argTmp_109 = vdm_EXPR_expr;
      if (argTmp_109.IsRecord()) 
        tmpVal_108 = vdm_AS_IotaExpr == argTmp_109.GetTag();
      else 
        tmpVal_108 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_108)).GetValue();
    if (succ_4) {
      Record tmpVar_110;
      tmpVar_110 = vdm_EXPR_expr;
      return vdm_EXPR_EvalIotaExpr(tmpVar_110);
    }
  }
  if (!succ_4) {
    Bool tmpVal_111;
    {
      Record argTmp_112;
      argTmp_112 = vdm_EXPR_expr;
      if (argTmp_112.IsRecord()) 
        tmpVal_111 = vdm_AS_FctTypeInstExpr == argTmp_112.GetTag();
      else 
        tmpVal_111 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_111)).GetValue();
    if (succ_4) {
      Record tmpVar_113;
      tmpVar_113 = vdm_EXPR_expr;
      return vdm_EXPR_EvalFctTypeInstExpr(tmpVar_113);
    }
  }
  if (!succ_4) {
    Bool tmpVal_114;
    {
      Record argTmp_115;
      argTmp_115 = vdm_EXPR_expr;
      if (argTmp_115.IsRecord()) 
        tmpVal_114 = vdm_AS_BracketedExpr == argTmp_115.GetTag();
      else 
        tmpVal_114 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_114)).GetValue();
    if (succ_4) {
      Record tmpVar_116;
      tmpVar_116 = vdm_EXPR_expr;
      return vdm_EXPR_EvalBracketedExpr(tmpVar_116);
    }
  }
  if (!succ_4) 
    RunTime("Can not evaluate an error statement");
}

// 20060105
//Record vdm_EXPR_EvalExtBody(Record vdm_EXPR_loc, Sequence vdm_EXPR_arg__l) {
//  Record rexpr_4;
//  rexpr_4 = vdm_EXPR_APPROXVal(vdm_EXPR_loc, vdm_EXPR_arg__l);
//  return rexpr_4;
//}

Record vdm_EXPR_EvalFieldSelectExpr(Record var_1_1) {
  Record vdm_EXPR_field(vdm_AS_Name, length_AS_Name);
  Record vdm_EXPR_record__e;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_FieldSelectExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 3 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_record__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_field = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Record vdm_EXPR_record__v;
    vdm_EXPR_record__v = vdm_EXPR_EvalExpr(vdm_EXPR_record__e);
    {
      Bool cond_9;
      {
        Record argTmp_10;
        argTmp_10 = vdm_EXPR_record__v;
        if (argTmp_10.IsRecord()) 
          cond_9 = vdm_SEM_REC == argTmp_10.GetTag();
        else 
          cond_9 = false;
      }
      if (cond_9.GetValue()) {
        bool succ_11;
        Record tmpVal_12;
        tmpVal_12 = vdm_EXPR_record__v;
        Sequence vdm_EXPR_bd__lv;
        Record vdm_EXPR_tag(vdm_AS_Name, length_AS_Name);
        succ_11 = true;
        {
          succ_11 = false;
          if (tmpVal_12.IsRecord()) 
            if (vdm_SEM_REC == ((Record) tmpVal_12).GetTag()) {
              Sequence e_l_13;
              for (int i_14 = 1; i_14 <= ((Record) tmpVal_12).Length(); i_14++) 
                e_l_13.ImpAppend(((Record) tmpVal_12).GetField(i_14));
              if (succ_11 = 2 == (Int) (e_l_13.Length())) {
                Generic permI_15;
                permI_15 = (Generic) (e_l_13.Hd());
                succ_11 = true;
                {
                  vdm_EXPR_tag = permI_15;
                  succ_11 = true;
                }
                permI_15 = (Generic) (e_l_13[2]);
                if (succ_11) {
                  vdm_EXPR_bd__lv = permI_15;
                  succ_11 = true;
                }
              }
            }
        }
        if (!succ_11) 
          RunTime("Pattern match did not succeed in value definition");
        {
          Bool cond_16;
          cond_16 = vdm_EXPR_IsTypeStructExported(vdm_EXPR_tag);
          if (cond_16.GetValue()) {
            Bool cond_18;
            cond_18 = vdm_EXPR_IsRecSel(vdm_EXPR_tag);
            if (cond_18.GetValue()) {
              bool succ_20;
              Tuple tmpVal_21(3);
              tmpVal_21 = vdm_EXPR_LookUpRecSel(vdm_EXPR_tag);
              Map vdm_EXPR_pos;
              succ_20 = true;
              {
                succ_20 = false;
                if (tmpVal_21.IsTuple()) {
                  Sequence e_l_23;
                  for (int i_24 = 1; i_24 <= ((Tuple) tmpVal_21).Length(); i_24++) 
                    e_l_23.ImpAppend(((Tuple) tmpVal_21).GetField(i_24));
                  if (succ_20 = 3 == (Int) (e_l_23.Length())) {
                    Generic permI_25;
                    permI_25 = (Generic) (e_l_23.Hd());
                    succ_20 = true;
                    succ_20 = true;
                    permI_25 = (Generic) (e_l_23[2]);
                    if (succ_20) {
                      vdm_EXPR_pos = permI_25;
                      succ_20 = true;
                    }
                    permI_25 = (Generic) (e_l_23[3]);
                    if (succ_20) 
                      succ_20 = true;
                  }
                }
              }
              if (!succ_20) 
                RunTime("Pattern match did not succeed in value definition");
              {
                Bool cond_26;
{ cond_26 = (Bool) (vdm_EXPR_pos.Dom().InSet(vdm_EXPR_field)); }
                if (cond_26.GetValue()) {
                  Record rexpr_30;
                  {
                    Sequence tmpseq_31;
                    tmpseq_31 = vdm_EXPR_bd__lv;
                    Int tmppar_32;
                    {
                      Map tmp_m_33;
                      tmp_m_33 = vdm_EXPR_pos;
                      tmppar_32 = (Int) (((Map) tmp_m_33)[vdm_EXPR_field]);
                    }
                    rexpr_30 = (Record) (vdm_EXPR_bd__lv[tmppar_32.GetValue()]);
                  }
                  return rexpr_30;
                }
                else { RunTime("Can not evaluate an error statement"); }
              }
            }
            else { RunTime("Can not evaluate an error statement"); }
          }
          else { RunTime("Can not evaluate an error statement"); }
        }
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalFieldSelectExpr");
}

Record vdm_EXPR_EvalFloor(Record var_1_1) {
  Real vdm_EXPR_n;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_NUM == ((Record) var_1_1).GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= ((Record) var_1_1).Length(); i_4++) 
          e_l_3.ImpAppend(((Record) var_1_1).GetField(i_4));
        if (succ_2 = 1 == (Int) (e_l_3.Length())) {
          Real permI_5;
          permI_5 = (Real) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_n = permI_5;
            succ_2 = true;
          }
        }
      }
  }
  if (succ_2) {
    Record rexpr_6(vdm_SEM_NUM, length_SEM_NUM);
    {
      rexpr_6 = Record(vdm_SEM_NUM, length_SEM_NUM);
      Int tmpVar_7;
      if (vdm_EXPR_n.IsReal()) {
        double tmp_9 = ((Real) vdm_EXPR_n).GetValue();
        tmpVar_7 = (Int) ((int) (floor(tmp_9)));
      }
      else 
        tmpVar_7 = vdm_EXPR_n;
      rexpr_6.SetField(1, tmpVar_7);
    }
    return rexpr_6;
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalFloor");
}

Record vdm_EXPR_EvalIfExpr(Record var_1_1) {
  Record vdm_EXPR_altn;
  Record vdm_EXPR_cons;
  Sequence vdm_EXPR_elif;
  Record vdm_EXPR_test;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_IfExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 5 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_test = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_cons = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) {
            vdm_EXPR_elif = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[4]);
          if (succ_2) {
            vdm_EXPR_altn = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[5]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Record vdm_EXPR_test__v;
    vdm_EXPR_test__v = vdm_EXPR_EvalExpr(vdm_EXPR_test);
    {
      Bool cond_9;
      {
        Record argTmp_10;
        argTmp_10 = vdm_EXPR_test__v;
        if (argTmp_10.IsRecord()) 
          cond_9 = vdm_SEM_BOOL == argTmp_10.GetTag();
        else 
          cond_9 = false;
      }
      if (cond_9.GetValue()) {
        bool succ_11;
        Record tmpVal_12;
        tmpVal_12 = vdm_EXPR_test__v;
        Bool vdm_EXPR_b;
        succ_11 = true;
        {
          succ_11 = false;
          if (tmpVal_12.IsRecord()) 
            if (vdm_SEM_BOOL == ((Record) tmpVal_12).GetTag()) {
              Sequence e_l_13;
              for (int i_14 = 1; i_14 <= ((Record) tmpVal_12).Length(); i_14++) 
                e_l_13.ImpAppend(((Record) tmpVal_12).GetField(i_14));
              if (succ_11 = 1 == (Int) (e_l_13.Length())) {
                Bool permI_15;
                permI_15 = (Bool) (e_l_13.Hd());
                succ_11 = true;
                {
                  vdm_EXPR_b = permI_15;
                  succ_11 = true;
                }
              }
            }
        }
        if (!succ_11) 
          RunTime("Pattern match did not succeed in value definition");
        {
          Bool cond_16;
          cond_16 = vdm_EXPR_b;
          if (cond_16.GetValue()) {
            Record tmpVar_45;
            tmpVar_45 = vdm_EXPR_cons;
            return vdm_EXPR_EvalExpr(tmpVar_45);
          }
          else {
            Sequence var2_19;
            var2_19 = Sequence();
            cond_16 = (Bool) (!(vdm_EXPR_elif == var2_19));
            if (cond_16.GetValue()) {
              Sequence vdm_EXPR_elif__l;
              vdm_EXPR_elif__l = vdm_EXPR_elif;
              {
                Bool whCrtl_20;
                while ( true){
                  Sequence var2_22;
                  var2_22 = Sequence();
                  whCrtl_20 = (Bool) (!(vdm_EXPR_elif__l == var2_22));
                  if (whCrtl_20.GetValue()) {
                    bool succ_23;
                    Record tmpVal_24(vdm_AS_ElseifExpr, length_AS_ElseifExpr);
                    tmpVal_24 = (Record) (vdm_EXPR_elif__l.Hd());
                    Record vdm_EXPR_cons__e;
                    Record vdm_EXPR_test__e;
                    succ_23 = true;
                    {
                      succ_23 = false;
                      if (tmpVal_24.IsRecord()) 
                        if (vdm_AS_ElseifExpr == tmpVal_24.GetTag()) {
                          Sequence e_l_26;
                          for (int i_27 = 1; i_27 <= tmpVal_24.Length(); i_27++) 
                            e_l_26.ImpAppend(tmpVal_24.GetField(i_27));
                          if (succ_23 = 2 == (Int) (e_l_26.Length())) {
                            Record permI_28;
                            permI_28 = (Record) (e_l_26.Hd());
                            succ_23 = true;
                            {
                              vdm_EXPR_test__e = permI_28;
                              succ_23 = true;
                            }
                            permI_28 = (Record) (e_l_26[2]);
                            if (succ_23) {
                              vdm_EXPR_cons__e = permI_28;
                              succ_23 = true;
                            }
                          }
                        }
                    }
                    if (!succ_23) 
                      RunTime("Pattern match did not succeed in value definition");
                    {
                      bool succ_29;
                      Record tmpVal_30;
                      tmpVal_30 = vdm_EXPR_EvalExpr(vdm_EXPR_test__e);
                      Record vdm_EXPR_test__v;
                      succ_29 = true;
                      {
                        vdm_EXPR_test__v = tmpVal_30;
                        succ_29 = true;
                      }
                      if (!succ_29) 
                        RunTime("Pattern match did not succeed in value definition");
                      {
                        Bool cond_32;
                        {
                          Bool unArg_33;
                          Record argTmp_34;
                          argTmp_34 = vdm_EXPR_test__v;
                          if (argTmp_34.IsRecord()) 
                            unArg_33 = vdm_SEM_BOOL == argTmp_34.GetTag();
                          else 
                            unArg_33 = false;
                          cond_32 = (Bool) (!unArg_33.GetValue());
                        }
                        if (cond_32.GetValue()) 
                          RunTime("Can not evaluate an error statement");
                        else {
                          bool succ_35;
                          Record tmpVal_36;
                          tmpVal_36 = vdm_EXPR_test__v;
                          Bool vdm_EXPR_b;
                          succ_35 = true;
                          {
                            succ_35 = false;
                            if (tmpVal_36.IsRecord()) 
                              if (vdm_SEM_BOOL == ((Record) tmpVal_36).GetTag()) {
                                Sequence e_l_37;
                                for (int i_38 = 1; i_38 <= ((Record) tmpVal_36).Length(); i_38++) 
                                  e_l_37.ImpAppend(((Record) tmpVal_36).GetField(i_38));
                                if (succ_35 = 1 == (Int) (e_l_37.Length())) {
                                  Bool permI_39;
                                  permI_39 = (Bool) (e_l_37.Hd());
                                  succ_35 = true;
                                  {
                                    vdm_EXPR_b = permI_39;
                                    succ_35 = true;
                                  }
                                }
                              }
                          }
                          if (!succ_35) 
                            RunTime("Pattern match did not succeed in value definition");
                          {
                            Bool cond_40;
                            cond_40 = vdm_EXPR_b;
                            if (cond_40.GetValue()) {
                              Record tmpVar_41;
                              tmpVar_41 = vdm_EXPR_cons__e;
                              return vdm_EXPR_EvalExpr(tmpVar_41);
                            }
                          }
                        }
                      }
                    }
                    {
                      Sequence rhs_42;
                      rhs_42 = vdm_EXPR_elif__l.Tl();
                      vdm_EXPR_elif__l = rhs_42;
                    }
                  }
                  else 
                    break;
                }
              }
              {
                Record tmpVar_44;
                tmpVar_44 = vdm_EXPR_altn;
                return vdm_EXPR_EvalExpr(tmpVar_44);
              }
            }
            else {
              Record tmpVar_17;
              tmpVar_17 = vdm_EXPR_altn;
              return vdm_EXPR_EvalExpr(tmpVar_17);
            }
          }
        }
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalIfExpr");
}

Record vdm_EXPR_EvalInSet(Record var_1_1, Record var_2_2) {
  Record vdm_EXPR_op1__v;
  Set vdm_EXPR_op2__sv;
  bool succ_3 = true;
  {
    vdm_EXPR_op1__v = var_1_1;
    succ_3 = true;
  }
  {
    succ_3 = false;
    if (var_2_2.IsRecord()) 
      if (vdm_SEM_SET == ((Record) var_2_2).GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= ((Record) var_2_2).Length(); i_5++) 
          e_l_4.ImpAppend(((Record) var_2_2).GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Set permI_6;
          permI_6 = (Set) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op2__sv = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  if (succ_3) {
    Bool vdm_EXPR_b;
    vdm_EXPR_b = (Bool) (vdm_EXPR_op2__sv.InSet(vdm_EXPR_op1__v));
    {
      Record rexpr_11(vdm_SEM_BOOL, length_SEM_BOOL);
      {
        rexpr_11 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
        rexpr_11.SetField(1, vdm_EXPR_b);
      }
      return rexpr_11;
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalInSet");
}

Record vdm_EXPR_EvalIntDiv(Record var_1_1, Record var_2_2) {
  Real vdm_EXPR_n1;
  Real vdm_EXPR_n2;
  bool succ_3 = true;
  {
    succ_3 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_NUM == ((Record) var_1_1).GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= ((Record) var_1_1).Length(); i_5++) 
          e_l_4.ImpAppend(((Record) var_1_1).GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Real permI_6;
          permI_6 = (Real) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_n1 = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  {
    succ_3 = false;
    if (var_2_2.IsRecord()) 
      if (vdm_SEM_NUM == ((Record) var_2_2).GetTag()) {
        Sequence e_l_7;
        for (int i_8 = 1; i_8 <= ((Record) var_2_2).Length(); i_8++) 
          e_l_7.ImpAppend(((Record) var_2_2).GetField(i_8));
        if (succ_3 = 1 == (Int) (e_l_7.Length())) {
          Real permI_9;
          permI_9 = (Real) (e_l_7.Hd());
          succ_3 = true;
          {
            vdm_EXPR_n2 = permI_9;
            succ_3 = true;
          }
        }
      }
  }
  if (succ_3) {
    Bool cond_10;
    {
      Bool var1_11;
      Real argTmp_13;
      argTmp_13 = vdm_EXPR_n1;
      var1_11 = (Bool) (IsInteger(argTmp_13));
      if ((cond_10 = var1_11).GetValue()) {
        Bool var2_12;
        Real argTmp_14;
        argTmp_14 = vdm_EXPR_n2;
        var2_12 = (Bool) (IsInteger(argTmp_14));
        cond_10 = var2_12;
      }
    }
    if (cond_10.GetValue()) {
      Bool cond_15;
      cond_15 = (Bool) (!(vdm_EXPR_n2 == (Int) 0));
      if (cond_15.GetValue()) {
        Record rexpr_18(vdm_SEM_NUM, length_SEM_NUM);
        {
          rexpr_18 = Record(vdm_SEM_NUM, length_SEM_NUM);
          rexpr_18.SetField(1, (Int) (vdm_EXPR_n1 / vdm_EXPR_n2));
        }
        return rexpr_18;
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
    else { RunTime("Can not evaluate an error statement"); }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalIntDiv");
}

Record vdm_EXPR_EvalIotaExpr(Record var_1_1) {
  Record vdm_EXPR_bind;
  Record vdm_EXPR_pred__e;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_IotaExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 3 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_bind = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_pred__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Set vdm_EXPR_env__s;
    Bool vdm_EXPR_cont;
    vdm_EXPR_cont = (Bool) true;
    Bool vdm_EXPR_found;
    vdm_EXPR_found = (Bool) false;
    Record vdm_EXPR_val__v;
    {
      Record vdm_EXPR_new__bind;
      Record tmpVar_9(vdm_AS_Name, length_AS_Name);
      {
        tmpVar_9 = Record(vdm_AS_Name, length_AS_Name);
        Sequence tmpVar_10;
        tmpVar_10 = Sequence().ImpAppend(Sequence("1"));
        tmpVar_9.SetField(1, tmpVar_10);
        tmpVar_9.SetField(2, Nil());
      }
      vdm_EXPR_new__bind = vdm_EXPR_DoCarePattern(vdm_EXPR_bind, tmpVar_9);
      {
        Set tmpSet_13;
        tmpSet_13 = vdm_EXPR_EvalBind(vdm_EXPR_new__bind, (Quote) "DO_PARTITION");
        Generic vdm_EXPR_env__s_q;
        Bool tmpB_14;
        bool succ_15 = false;
        Generic tmpe_20;
        for (int bb_19 = tmpSet_13.First(tmpe_20); bb_19 && !succ_15; bb_19 = tmpSet_13.Next(tmpe_20)) {
          Generic tmpElem_16 = tmpe_20;
          {
            succ_15 = true;
            {
              vdm_EXPR_env__s_q = tmpElem_16;
              succ_15 = true;
            }
            if (succ_15) 
              succ_15 = ((Bool) true).GetValue();
          }
        }
        if (!succ_15) 
          RunTime("The binding environment was empty");
        {
          Generic rhs_21;
          rhs_21 = vdm_EXPR_env__s_q;
          vdm_EXPR_env__s = rhs_21;
        }
        {
          Bool whCrtl_22;
          while ( true){
            Bool var1_23;
            Set var2_26;
            var2_26 = Set();
            var1_23 = (Bool) (!(vdm_EXPR_env__s == var2_26));
            if ((whCrtl_22 = var1_23).GetValue()) { whCrtl_22 = vdm_EXPR_cont; }
            if (whCrtl_22.GetValue()) {
              Set tmpSet_27;
              tmpSet_27 = vdm_EXPR_env__s;
              Record vdm_EXPR_env(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
              Bool tmpB_28;
              bool succ_29 = false;
              Generic tmpe_32;
              for (int bb_31 = tmpSet_27.First(tmpe_32); bb_31 && !succ_29; bb_31 = tmpSet_27.Next(tmpe_32)) {
                Record tmpElem_30 = tmpe_32;
                {
                  succ_29 = true;
                  {
                    vdm_EXPR_env = tmpElem_30;
                    succ_29 = true;
                  }
                  if (succ_29) 
                    succ_29 = ((Bool) true).GetValue();
                }
              }
              if (!succ_29) 
                RunTime("The binding environment was empty");
              {
                Record tmpVar_33(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
                tmpVar_33 = vdm_EXPR_env;
                vdm_EXPR_PushBlkEnv(tmpVar_33);
                {
                  Record vdm_EXPR_pred__v;
                  vdm_EXPR_pred__v = vdm_EXPR_EvalExpr(vdm_EXPR_pred__e);
                  {
                    Bool cond_37;
                    {
                      Record argTmp_38;
                      argTmp_38 = vdm_EXPR_pred__v;
                      if (argTmp_38.IsRecord()) 
                        cond_37 = vdm_SEM_BOOL == argTmp_38.GetTag();
                      else 
                        cond_37 = false;
                    }
                    if (cond_37.GetValue()) {
                      bool succ_39;
                      Record tmpVal_40;
                      tmpVal_40 = vdm_EXPR_pred__v;
                      Bool vdm_EXPR_b;
                      succ_39 = true;
                      {
                        succ_39 = false;
                        if (tmpVal_40.IsRecord()) 
                          if (vdm_SEM_BOOL == ((Record) tmpVal_40).GetTag()) {
                            Sequence e_l_41;
                            for (int i_42 = 1; i_42 <= ((Record) tmpVal_40).Length(); i_42++) 
                              e_l_41.ImpAppend(((Record) tmpVal_40).GetField(i_42));
                            if (succ_39 = 1 == (Int) (e_l_41.Length())) {
                              Bool permI_43;
                              permI_43 = (Bool) (e_l_41.Hd());
                              succ_39 = true;
                              {
                                vdm_EXPR_b = permI_43;
                                succ_39 = true;
                              }
                            }
                          }
                      }
                      if (!succ_39) 
                        RunTime("Pattern match did not succeed in value definition");
                      {
                        Bool cond_44;
                        cond_44 = vdm_EXPR_b;
                        if (cond_44.GetValue()) {
                          Bool cond_45;
                          cond_45 = vdm_EXPR_found;
                          if (cond_45.GetValue()) {
                            Bool rhs_51;
                            rhs_51 = (Bool) false;
                            vdm_EXPR_cont = rhs_51;
                          }
                          else {
                            Bool rhs_46;
                            rhs_46 = (Bool) true;
                            vdm_EXPR_found = rhs_46;
                            {
                              Record rhs_47;
                              rhs_47 = vdm_EXPR_EvalExpr(vdm_EXPR_GetExpr(vdm_EXPR_SelPattern(vdm_EXPR_new__bind)));
                              vdm_EXPR_val__v = rhs_47;
                            }
                          }
                        }
                      }
                    }
                    else { RunTime("Can not evaluate an error statement"); }
                  }
                }
                {
                  Set rhs_52;
                  {
                    Set var2_54;
                    var2_54 = Set().Insert(vdm_EXPR_env);
                    rhs_52 = vdm_EXPR_env__s;
                    rhs_52.ImpDiff(var2_54);
                  }
                  vdm_EXPR_env__s = rhs_52;
                }
                vdm_EXPR_PopBlkEnv();
              }
            }
            else 
              break;
          }
        }
        {
          Bool cond_56;
{ if ((cond_56 = vdm_EXPR_found).GetValue()) { cond_56 = vdm_EXPR_cont; } }
          if (cond_56.GetValue()) {
            Record rexpr_59;
            rexpr_59 = vdm_EXPR_val__v;
            return rexpr_59;
          }
          else { RunTime("Can not evaluate an error statement"); }
        }
      }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalIotaExpr");
}

Record vdm_EXPR_EvalIsExpr(Record var_1_1) {
  Record vdm_EXPR_Type;
  Record vdm_EXPR_arg__e;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_IsExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 3 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_Type = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_arg__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Record vdm_EXPR_arg__v;
    vdm_EXPR_arg__v = vdm_EXPR_EvalExpr(vdm_EXPR_arg__e);
    {
      Bool cond_9;
      {
        Record argTmp_10;
        argTmp_10 = vdm_EXPR_Type;
        if (argTmp_10.IsRecord()) 
          cond_9 = vdm_AS_BasicType == argTmp_10.GetTag();
        else 
          cond_9 = false;
      }
      if (cond_9.GetValue()) {
        Bool vdm_EXPR_v;
        Bool var1_29;
        Bool var1_31;
        Bool var1_33;
        Bool var1_35;
        Bool var1_37;
        Bool var1_39;
        Bool var1_41;
        Bool var1_43;
        Record argTmp_45;
        argTmp_45 = vdm_EXPR_arg__v;
        if (argTmp_45.IsRecord()) 
          var1_43 = vdm_SEM_BOOL == argTmp_45.GetTag();
        else 
          var1_43 = false;
        if ((var1_41 = var1_43).GetValue()) {
          Bool var2_44;
          Record var2_47(vdm_AS_BasicType, length_AS_BasicType);
          var2_47 = Record(vdm_AS_BasicType, length_AS_BasicType);
          var2_47.SetField(1, (Quote) "BOOLEAN");
          var2_44 = (Bool) (vdm_EXPR_Type == var2_47);
          var1_41 = var2_44;
        }
        if (!(var1_39 = var1_41).GetValue()) {
          Bool var2_42;
          if ((var2_42 = vdm_EXPR_IsNat(vdm_EXPR_arg__v)).GetValue()) {
            Bool var2_50;
            Record var2_53(vdm_AS_BasicType, length_AS_BasicType);
            var2_53 = Record(vdm_AS_BasicType, length_AS_BasicType);
            var2_53.SetField(1, (Quote) "NAT");
            var2_50 = (Bool) (vdm_EXPR_Type == var2_53);
            var2_42 = var2_50;
          }
          var1_39 = var2_42;
        }
        if (!(var1_37 = var1_39).GetValue()) {
          Bool var2_40;
          if ((var2_40 = vdm_EXPR_IsNatOne(vdm_EXPR_arg__v)).GetValue()) {
            Bool var2_56;
            Record var2_59(vdm_AS_BasicType, length_AS_BasicType);
            var2_59 = Record(vdm_AS_BasicType, length_AS_BasicType);
            var2_59.SetField(1, (Quote) "NATONE");
            var2_56 = (Bool) (vdm_EXPR_Type == var2_59);
            var2_40 = var2_56;
          }
          var1_37 = var2_40;
        }
        if (!(var1_35 = var1_37).GetValue()) {
          Bool var2_38;
          if ((var2_38 = vdm_EXPR_IsInt(vdm_EXPR_arg__v)).GetValue()) {
            Bool var2_62;
            Record var2_65(vdm_AS_BasicType, length_AS_BasicType);
            var2_65 = Record(vdm_AS_BasicType, length_AS_BasicType);
            var2_65.SetField(1, (Quote) "INTEGER");
            var2_62 = (Bool) (vdm_EXPR_Type == var2_65);
            var2_38 = var2_62;
          }
          var1_35 = var2_38;
        }
        if (!(var1_33 = var1_35).GetValue()) {
          Bool var2_36;
          if ((var2_36 = vdm_EXPR_IsReal(vdm_EXPR_arg__v)).GetValue()) {
            Bool var2_68;
            Record var2_71(vdm_AS_BasicType, length_AS_BasicType);
            var2_71 = Record(vdm_AS_BasicType, length_AS_BasicType);
            var2_71.SetField(1, (Quote) "REAL");
            var2_68 = (Bool) (vdm_EXPR_Type == var2_71);
            var2_36 = var2_68;
          }
          var1_33 = var2_36;
        }
        if (!(var1_31 = var1_33).GetValue()) {
          Bool var2_34;
          if ((var2_34 = vdm_EXPR_IsReal(vdm_EXPR_arg__v)).GetValue()) {
            Bool var2_74;
            Record var2_77(vdm_AS_BasicType, length_AS_BasicType);
            var2_77 = Record(vdm_AS_BasicType, length_AS_BasicType);
            var2_77.SetField(1, (Quote) "RAT");
            var2_74 = (Bool) (vdm_EXPR_Type == var2_77);
            var2_34 = var2_74;
          }
          var1_31 = var2_34;
        }
        if (!(var1_29 = var1_31).GetValue()) {
          Bool var2_32;
          Bool var1_79;
          Record argTmp_81;
          argTmp_81 = vdm_EXPR_arg__v;
          if (argTmp_81.IsRecord()) 
            var1_79 = vdm_SEM_TOKEN == argTmp_81.GetTag();
          else 
            var1_79 = false;
          if ((var2_32 = var1_79).GetValue()) {
            Bool var2_80;
            Record var2_83(vdm_AS_BasicType, length_AS_BasicType);
            var2_83 = Record(vdm_AS_BasicType, length_AS_BasicType);
            var2_83.SetField(1, (Quote) "TOKEN");
            var2_80 = (Bool) (vdm_EXPR_Type == var2_83);
            var2_32 = var2_80;
          }
          var1_29 = var2_32;
        }
        if (!(vdm_EXPR_v = var1_29).GetValue()) {
          Bool var2_30;
          Bool var1_85;
          Record argTmp_87;
          argTmp_87 = vdm_EXPR_arg__v;
          if (argTmp_87.IsRecord()) 
            var1_85 = vdm_SEM_CHAR == argTmp_87.GetTag();
          else 
            var1_85 = false;
          if ((var2_30 = var1_85).GetValue()) {
            Bool var2_86;
            Record var2_89(vdm_AS_BasicType, length_AS_BasicType);
            var2_89 = Record(vdm_AS_BasicType, length_AS_BasicType);
            var2_89.SetField(1, (Quote) "CHAR");
            var2_86 = (Bool) (vdm_EXPR_Type == var2_89);
            var2_30 = var2_86;
          }
          vdm_EXPR_v = var2_30;
        }
        {
          Record rexpr_91(vdm_SEM_BOOL, length_SEM_BOOL);
          {
            rexpr_91 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
            rexpr_91.SetField(1, vdm_EXPR_v);
          }
          return rexpr_91;
        }
      }
      else {
        Bool cond_11;
        {
          Record argTmp_12;
          argTmp_12 = vdm_EXPR_Type;
          if (argTmp_12.IsRecord()) 
            cond_11 = vdm_AS_Name == argTmp_12.GetTag();
          else 
            cond_11 = false;
        }
        if (cond_11.GetValue()) {
          Bool cond_13;
          {
            Record argTmp_14;
            argTmp_14 = vdm_EXPR_arg__v;
            if (argTmp_14.IsRecord()) 
              cond_13 = vdm_SEM_REC == argTmp_14.GetTag();
            else 
              cond_13 = false;
          }
          if (cond_13.GetValue()) {
            bool succ_17;
            Record tmpVal_18;
            tmpVal_18 = vdm_EXPR_arg__v;
            Record vdm_EXPR_tag(vdm_AS_Name, length_AS_Name);
            succ_17 = true;
            {
              succ_17 = false;
              if (tmpVal_18.IsRecord()) 
                if (vdm_SEM_REC == ((Record) tmpVal_18).GetTag()) {
                  Sequence e_l_19;
                  for (int i_20 = 1; i_20 <= ((Record) tmpVal_18).Length(); i_20++) 
                    e_l_19.ImpAppend(((Record) tmpVal_18).GetField(i_20));
                  if (succ_17 = 2 == (Int) (e_l_19.Length())) {
                    Generic permI_21;
                    permI_21 = (Generic) (e_l_19.Hd());
                    succ_17 = true;
                    {
                      vdm_EXPR_tag = permI_21;
                      succ_17 = true;
                    }
                    permI_21 = (Generic) (e_l_19[2]);
                    if (succ_17) 
                      succ_17 = true;
                  }
                }
            }
            if (!succ_17) 
              RunTime("Pattern match did not succeed in value definition");
            {
              Record rexpr_22(vdm_SEM_BOOL, length_SEM_BOOL);
              {
                rexpr_22 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
                rexpr_22.SetField(1, (Bool) (vdm_EXPR_tag == vdm_AUX_UniqueTagName(vdm_EXPR_Type)));
              }
              return rexpr_22;
            }
          }
          else {
            Record rexpr_15(vdm_SEM_BOOL, length_SEM_BOOL);
            {
              rexpr_15 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
              rexpr_15.SetField(1, (Bool) false);
            }
            return rexpr_15;
          }
        }
        else { RunTime("Can not evaluate an error statement"); }
      }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalIsExpr");
}

Record vdm_EXPR_EvalIterateExpr(Record vdm_EXPR_op1__e, Record vdm_EXPR_op2__e) {
  bool succ_4;
  Record tmpVal_5;
  tmpVal_5 = vdm_EXPR_EvalExpr(vdm_EXPR_op1__e);
  Record vdm_EXPR_op1__v;
  succ_4 = true;
  {
    vdm_EXPR_op1__v = tmpVal_5;
    succ_4 = true;
  }
  if (!succ_4) 
    RunTime("Pattern match did not succeed in value definition");
  Record vdm_EXPR_op2__v;
  vdm_EXPR_op2__v = vdm_EXPR_EvalExpr(vdm_EXPR_op2__e);
  {
    Bool cond_9;
    {
      Bool var1_10;
      Record argTmp_12;
      argTmp_12 = vdm_EXPR_op1__v;
      if (argTmp_12.IsRecord()) 
        var1_10 = vdm_SEM_ExplFN == argTmp_12.GetTag();
      else 
        var1_10 = false;
      if ((cond_9 = var1_10).GetValue()) { cond_9 = vdm_EXPR_IsNat(vdm_EXPR_op2__v); }
    }
    if (cond_9.GetValue()) {
      Record tmpVar_37;
      tmpVar_37 = vdm_EXPR_op1__e;
      Record tmpVar_38;
      tmpVar_38 = vdm_EXPR_op2__v;
      return vdm_EXPR_IterateFct(tmpVar_37, tmpVar_38);
    }
    else {
      Bool var1_32;
      Record argTmp_34;
      argTmp_34 = vdm_EXPR_op1__v;
      if (argTmp_34.IsRecord()) 
        var1_32 = vdm_SEM_ImplFN == argTmp_34.GetTag();
      else 
        var1_32 = false;
      if ((cond_9 = var1_32).GetValue()) { cond_9 = vdm_EXPR_IsNat(vdm_EXPR_op2__v); }
      if (cond_9.GetValue()) {
        Record rexpr_36(vdm_SEM_ImplFN, length_SEM_ImplFN);
        rexpr_36 = Record(vdm_SEM_ImplFN, length_SEM_ImplFN);
        return rexpr_36;
      }
      else {
        Bool var1_21;
        Record argTmp_23;
        argTmp_23 = vdm_EXPR_op1__v;
        if (argTmp_23.IsRecord()) 
          var1_21 = vdm_SEM_MAP == argTmp_23.GetTag();
        else 
          var1_21 = false;
        if ((cond_9 = var1_21).GetValue()) { cond_9 = vdm_EXPR_IsNat(vdm_EXPR_op2__v); }
        if (cond_9.GetValue()) {
          bool succ_25;
          Record tmpVal_26;
          tmpVal_26 = vdm_EXPR_op2__v;
          Real vdm_EXPR_n;
          succ_25 = true;
          {
            succ_25 = false;
            if (tmpVal_26.IsRecord()) 
              if (vdm_SEM_NUM == ((Record) tmpVal_26).GetTag()) {
                Sequence e_l_27;
                for (int i_28 = 1; i_28 <= ((Record) tmpVal_26).Length(); i_28++) 
                  e_l_27.ImpAppend(((Record) tmpVal_26).GetField(i_28));
                if (succ_25 = 1 == (Int) (e_l_27.Length())) {
                  Real permI_29;
                  permI_29 = (Real) (e_l_27.Hd());
                  succ_25 = true;
                  {
                    vdm_EXPR_n = permI_29;
                    succ_25 = true;
                  }
                }
              }
          }
          if (!succ_25) 
            RunTime("Pattern match did not succeed in value definition");
          {
            Record tmpVar_30;
            tmpVar_30 = vdm_EXPR_op1__v;
            Real tmpVar_31;
            tmpVar_31 = vdm_EXPR_n;
            return vdm_EXPR_IterateMap(tmpVar_30, tmpVar_31);
          }
        }
        else {
          Bool var1_14;
          Record argTmp_16;
          argTmp_16 = vdm_EXPR_op1__v;
          if (argTmp_16.IsRecord()) 
            var1_14 = vdm_SEM_NUM == argTmp_16.GetTag();
          else 
            var1_14 = false;
          if ((cond_9 = var1_14).GetValue()) {
            Bool var2_15;
            Record argTmp_17;
            argTmp_17 = vdm_EXPR_op2__v;
            if (argTmp_17.IsRecord()) 
              var2_15 = vdm_SEM_NUM == argTmp_17.GetTag();
            else 
              var2_15 = false;
            cond_9 = var2_15;
          }
          if (cond_9.GetValue()) {
            Record tmpVar_18;
            tmpVar_18 = vdm_EXPR_op1__v;
            Quote tmpVar_19;
            tmpVar_19 = (Quote) "NUMEXP";
            Record tmpVar_20;
            tmpVar_20 = vdm_EXPR_op2__v;
            return vdm_EXPR_EvalNumBinOp(tmpVar_18, tmpVar_19, tmpVar_20);
          }
          else { RunTime("Can not evaluate an error statement"); }
        }
      }
    }
  }
}

Record vdm_EXPR_EvalLambdaExpr(Record var_1_1) {
  Record vdm_EXPR_body;
  Sequence vdm_EXPR_type__l;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_LambdaExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 3 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_type__l = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_body = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Set vdm_EXPR_id__s;
    vdm_EXPR_id__s = Set();
    Sequence vdm_EXPR_pat__l;
    vdm_EXPR_pat__l = Sequence();
    Sequence vdm_EXPR_tp__l;
    vdm_EXPR_tp__l = Sequence();
    {
      Sequence sq_6;
      sq_6 = vdm_EXPR_type__l;
      Record vdm_EXPR_pat;
      Record vdm_EXPR_tp;
      bool succ_8;
      Generic tmpe_25;
      for (int i_24 = sq_6.First(tmpe_25); i_24; i_24 = sq_6.Next(tmpe_25)) {
        Record elem_7 = tmpe_25;
        {
          succ_8 = true;
          {
            succ_8 = false;
            if (elem_7.IsRecord()) 
              if (vdm_AS_TypeBind == elem_7.GetTag()) {
                Sequence e_l_21;
                for (int i_22 = 1; i_22 <= elem_7.Length(); i_22++) 
                  e_l_21.ImpAppend(elem_7.GetField(i_22));
                if (succ_8 = 2 == (Int) (e_l_21.Length())) {
                  Record permI_23;
                  permI_23 = (Record) (e_l_21.Hd());
                  succ_8 = true;
                  {
                    vdm_EXPR_pat = permI_23;
                    succ_8 = true;
                  }
                  permI_23 = (Record) (e_l_21[2]);
                  if (succ_8) {
                    vdm_EXPR_tp = permI_23;
                    succ_8 = true;
                  }
                }
              }
          }
          if (succ_8) {
            Set rhs_9;
            {
              rhs_9 = vdm_EXPR_id__s;
              rhs_9.ImpUnion(vdm_EXPR_IdentInPattern(vdm_EXPR_pat));
            }
            vdm_EXPR_id__s = rhs_9;
            {
              Sequence rhs_13;
              {
                Sequence var2_15;
                var2_15 = Sequence().ImpAppend(vdm_EXPR_pat);
                rhs_13.ImpConc(vdm_EXPR_pat__l).ImpConc(var2_15);
              }
              vdm_EXPR_pat__l = rhs_13;
            }
            {
              Sequence rhs_17;
              {
                Sequence var2_19;
                var2_19 = Sequence().ImpAppend(vdm_EXPR_tp);
                rhs_17.ImpConc(vdm_EXPR_tp__l).ImpConc(var2_19);
              }
              vdm_EXPR_tp__l = rhs_17;
            }
          }
          else 
            RunTime("Pattern did not match in sequence for loop");
        }
      }
    }
    {
      bool succ_26;
      Record tmpVal_27(vdm_AS_Name, length_AS_Name);
      tmpVal_27 = vdm_EXPR_CurrentModule();
      Record vdm_EXPR_modName(vdm_AS_Name, length_AS_Name);
      succ_26 = true;
      {
        vdm_EXPR_modName = tmpVal_27;
        succ_26 = true;
      }
      if (!succ_26) 
        RunTime("Pattern match did not succeed in value definition");
      Record tmpVal_28(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
      tmpVal_28 = vdm_EXPR_FreeMapToBlkEnv(vdm_EXPR_FreeInExpr(vdm_EXPR_body, vdm_EXPR_id__s));
      Record vdm_EXPR_env(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
      succ_26 = true;
      {
        vdm_EXPR_env = tmpVal_28;
        succ_26 = true;
      }
      if (!succ_26) 
        RunTime("Pattern match did not succeed in value definition");
      {
        Record rexpr_32(vdm_SEM_ExplFN, length_SEM_ExplFN);
        {
          rexpr_32 = Record(vdm_SEM_ExplFN, length_SEM_ExplFN);
          Record tmpVar_33(vdm_AS_TotalFnType, length_AS_TotalFnType);
          {
            tmpVar_33 = Record(vdm_AS_TotalFnType, length_AS_TotalFnType);
            tmpVar_33.SetField(1, vdm_EXPR_tp__l);
            tmpVar_33.SetField(2, Record(vdm_AS_AllType, length_AS_AllType));
            tmpVar_33.SetField(3, -1);
          }
          rexpr_32.SetField(1, tmpVar_33);
          Sequence tmpVar_36;
          tmpVar_36 = Sequence().ImpAppend(vdm_EXPR_pat__l);
          rexpr_32.SetField(2, tmpVar_36);
          rexpr_32.SetField(3, vdm_EXPR_body);
          rexpr_32.SetField(4, Nil());
          rexpr_32.SetField(5, Nil());
          rexpr_32.SetField(6, vdm_EXPR_env);
          Map tmpVar_42;
          tmpVar_42 = Map();
          rexpr_32.SetField(7, tmpVar_42);
          rexpr_32.SetField(8, Nil());
          rexpr_32.SetField(9, vdm_EXPR_modName);
          rexpr_32.SetField(10, Nil());
        }
        return rexpr_32;
      }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalLambdaExpr");
}

Record vdm_EXPR_EvalLetBeSTExpr(Record var_1_1) {
  Record vdm_EXPR_in__e;
  Record vdm_EXPR_lhs;
  Generic vdm_EXPR_st__e;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_LetBeSTExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 4 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_lhs = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_st__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) {
            vdm_EXPR_in__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[4]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Set vdm_EXPR_env__s;
    vdm_EXPR_env__s = Set();
    {
      Bool cond_6;
      cond_6 = (Bool) (vdm_EXPR_st__e == Nil());
      if (cond_6.GetValue()) {
        Set rhs_32;
        rhs_32 = vdm_EXPR_EvalBind(vdm_EXPR_lhs, (Quote) "DONT_PARTITION");
        vdm_EXPR_env__s = rhs_32;
      }
      else {
        Set iset_9;
        iset_9 = vdm_EXPR_EvalBind(vdm_EXPR_lhs, (Quote) "DONT_PARTITION");
        Generic vdm_EXPR_env;
        bool succ_11;
        Generic tmpe_31;
        for (int bb_30 = iset_9.First(tmpe_31); bb_30; bb_30 = iset_9.Next(tmpe_31)) {
          Generic elem_10 = tmpe_31;
          {
            succ_11 = true;
            {
              vdm_EXPR_env = elem_10;
              succ_11 = true;
            }
            if (succ_11) {
              Generic tmpVar_14;
              tmpVar_14 = vdm_EXPR_env;
              vdm_EXPR_PushBlkEnv(tmpVar_14);
              {
                Record vdm_EXPR_st__v;
                vdm_EXPR_st__v = vdm_EXPR_EvalExpr(vdm_EXPR_st__e);
                {
                  Bool cond_18;
                  {
                    Record argTmp_19;
                    argTmp_19 = vdm_EXPR_st__v;
                    if (argTmp_19.IsRecord()) 
                      cond_18 = vdm_SEM_BOOL == argTmp_19.GetTag();
                    else 
                      cond_18 = false;
                  }
                  if (cond_18.GetValue()) {
                    bool succ_20;
                    Record tmpVal_21;
                    tmpVal_21 = vdm_EXPR_st__v;
                    Bool vdm_EXPR_b;
                    succ_20 = true;
                    {
                      succ_20 = false;
                      if (tmpVal_21.IsRecord()) 
                        if (vdm_SEM_BOOL == ((Record) tmpVal_21).GetTag()) {
                          Sequence e_l_22;
                          for (int i_23 = 1; i_23 <= ((Record) tmpVal_21).Length(); i_23++) 
                            e_l_22.ImpAppend(((Record) tmpVal_21).GetField(i_23));
                          if (succ_20 = 1 == (Int) (e_l_22.Length())) {
                            Bool permI_24;
                            permI_24 = (Bool) (e_l_22.Hd());
                            succ_20 = true;
                            {
                              vdm_EXPR_b = permI_24;
                              succ_20 = true;
                            }
                          }
                        }
                    }
                    if (!succ_20) 
                      RunTime("Pattern match did not succeed in value definition");
                    {
                      Bool cond_25;
                      cond_25 = vdm_EXPR_b;
                      if (cond_25.GetValue()) {
                        Set rhs_26;
                        {
                          Set var2_28;
                          var2_28 = Set().Insert(vdm_EXPR_env);
                          rhs_26 = vdm_EXPR_env__s;
                          rhs_26.ImpUnion(var2_28);
                        }
                        vdm_EXPR_env__s = rhs_26;
                      }
                    }
                  }
                  else { RunTime("Can not evaluate an error statement"); }
                }
              }
              vdm_EXPR_PopBlkEnv();
            }
            else 
              RunTime("Pattern did not match in set for loop");
          }
        }
      }
    }
    {
      Bool cond_35;
      {
        Set var2_37;
        var2_37 = Set();
        cond_35 = (Bool) (!(vdm_EXPR_env__s == var2_37));
      }
      if (cond_35.GetValue()) {
        Set tmpSet_38;
        tmpSet_38 = vdm_EXPR_env__s;
        Record vdm_EXPR_env(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
        Bool tmpB_39;
        bool succ_40 = false;
        Generic tmpe_43;
        for (int bb_42 = tmpSet_38.First(tmpe_43); bb_42 && !succ_40; bb_42 = tmpSet_38.Next(tmpe_43)) {
          Record tmpElem_41 = tmpe_43;
          {
            succ_40 = true;
            {
              vdm_EXPR_env = tmpElem_41;
              succ_40 = true;
            }
            if (succ_40) 
              succ_40 = ((Bool) true).GetValue();
          }
        }
        if (!succ_40) 
          RunTime("The binding environment was empty");
        {
          Record tmpVar_44(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
          tmpVar_44 = vdm_EXPR_env;
          vdm_EXPR_PushBlkEnv(tmpVar_44);
          {
            Record vdm_EXPR_in__v;
            vdm_EXPR_in__v = vdm_EXPR_EvalExpr(vdm_EXPR_in__e);
            {
              vdm_EXPR_PopBlkEnv();
              {
                Record rexpr_48;
                rexpr_48 = vdm_EXPR_in__v;
                return rexpr_48;
              }
            }
          }
        }
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalLetBeSTExpr");
}

Record vdm_EXPR_EvalLetExpr(Record var_1_1) {
  Record vdm_EXPR_In;
  Sequence vdm_EXPR_localdef;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_LetExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 3 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_localdef = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_In = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Set vdm_EXPR_id__s;
    vdm_EXPR_id__s = Set();
    Record vdm_EXPR_blkenv(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
    vdm_EXPR_blkenv = vdm_EXPR_MkEmptyBlkEnv((Quote) "READ_ONLY");
    {
      Record tmpVar_7(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
      tmpVar_7 = vdm_EXPR_blkenv;
      vdm_EXPR_PushBlkEnv(tmpVar_7);
    }
    {
      Sequence sq_8;
      sq_8 = vdm_EXPR_localdef;
      Record vdm_EXPR_elm;
      bool succ_10;
      Generic tmpe_85;
      for (int i_84 = sq_8.First(tmpe_85); i_84; i_84 = sq_8.Next(tmpe_85)) {
        Record elem_9 = tmpe_85;
        {
          succ_10 = true;
          {
            vdm_EXPR_elm = elem_9;
            succ_10 = true;
          }
          if (succ_10) {
            Bool cond_11;
            {
              Record argTmp_12;
              argTmp_12 = vdm_EXPR_elm;
              if (argTmp_12.IsRecord()) 
                cond_11 = vdm_AS_ExplFnDef == argTmp_12.GetTag();
              else 
                cond_11 = false;
            }
            if (cond_11.GetValue()) {
              Set rhs_68;
              {
                Set var2_70;
                Record tmpVar_71(vdm_AS_Name, length_AS_Name);
                Record tmpRec_72;
                tmpRec_72 = vdm_EXPR_elm;
                if (((Record) tmpRec_72).Is(vdm_AS_ImplFnDef)) 
                  tmpVar_71 = ((Record) tmpRec_72).GetField(pos_AS_ImplFnDef_nm);
                else 
                  if (((Record) tmpRec_72).Is(vdm_AS_ExtExplFnDef)) 
                    tmpVar_71 = ((Record) tmpRec_72).GetField(pos_AS_ExtExplFnDef_nm);
                  else 
                    if (((Record) tmpRec_72).Is(vdm_AS_ExplFnDef)) 
                      tmpVar_71 = ((Record) tmpRec_72).GetField(pos_AS_ExplFnDef_nm);
                    else 
                      RunTime("Unknown record field selector");
                var2_70 = Set().Insert(tmpVar_71);
                rhs_68 = vdm_EXPR_id__s;
                rhs_68.ImpUnion(var2_70);
              }
              vdm_EXPR_id__s = rhs_68;
              {
                Record rhs_73(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
                {
                  Record tmpVar_74(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
                  {
                    Record tmpVar_75(vdm_AS_Name, length_AS_Name);
                    {
                      Record tmpRec_76;
                      tmpRec_76 = vdm_EXPR_elm;
                      if (((Record) tmpRec_76).Is(vdm_AS_ImplFnDef)) 
                        tmpVar_75 = ((Record) tmpRec_76).GetField(pos_AS_ImplFnDef_nm);
                      else 
                        if (((Record) tmpRec_76).Is(vdm_AS_ExtExplFnDef)) 
                          tmpVar_75 = ((Record) tmpRec_76).GetField(pos_AS_ExtExplFnDef_nm);
                        else 
                          if (((Record) tmpRec_76).Is(vdm_AS_ExplFnDef)) 
                            tmpVar_75 = ((Record) tmpRec_76).GetField(pos_AS_ExplFnDef_nm);
                          else 
                            RunTime("Unknown record field selector");
                    }
                    tmpVar_74 = vdm_EXPR_MkBlkEnv(tmpVar_75, vdm_EXPR_ConstructFN(vdm_EXPR_elm, vdm_EXPR_id__s), Nil(), (Quote) "READ_ONLY");
                  }
                  rhs_73 = vdm_EXPR_CombineBlkEnv(tmpVar_74, vdm_EXPR_blkenv);
                }
                vdm_EXPR_blkenv = rhs_73;
              }
            }
            else {
              Record argTmp_54;
              argTmp_54 = vdm_EXPR_elm;
              if (argTmp_54.IsRecord()) 
                cond_11 = vdm_AS_ImplFnDef == argTmp_54.GetTag();
              else 
                cond_11 = false;
              if (cond_11.GetValue()) {
                Set rhs_55;
                {
                  Set var2_57;
                  Record tmpVar_58(vdm_AS_Name, length_AS_Name);
                  Record tmpRec_59;
                  tmpRec_59 = vdm_EXPR_elm;
                  if (((Record) tmpRec_59).Is(vdm_AS_ImplFnDef)) 
                    tmpVar_58 = ((Record) tmpRec_59).GetField(pos_AS_ImplFnDef_nm);
                  else 
                    if (((Record) tmpRec_59).Is(vdm_AS_ExtExplFnDef)) 
                      tmpVar_58 = ((Record) tmpRec_59).GetField(pos_AS_ExtExplFnDef_nm);
                    else 
                      if (((Record) tmpRec_59).Is(vdm_AS_ExplFnDef)) 
                        tmpVar_58 = ((Record) tmpRec_59).GetField(pos_AS_ExplFnDef_nm);
                      else 
                        RunTime("Unknown record field selector");
                  var2_57 = Set().Insert(tmpVar_58);
                  rhs_55 = vdm_EXPR_id__s;
                  rhs_55.ImpUnion(var2_57);
                }
                vdm_EXPR_id__s = rhs_55;
                {
                  Record rhs_60(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
                  {
                    Record tmpVar_61(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
                    {
                      Record tmpVar_62(vdm_AS_Name, length_AS_Name);
                      {
                        Record tmpRec_63;
                        tmpRec_63 = vdm_EXPR_elm;
                        if (((Record) tmpRec_63).Is(vdm_AS_ImplFnDef)) 
                          tmpVar_62 = ((Record) tmpRec_63).GetField(pos_AS_ImplFnDef_nm);
                        else 
                          if (((Record) tmpRec_63).Is(vdm_AS_ExtExplFnDef)) 
                            tmpVar_62 = ((Record) tmpRec_63).GetField(pos_AS_ExtExplFnDef_nm);
                          else 
                            if (((Record) tmpRec_63).Is(vdm_AS_ExplFnDef)) 
                              tmpVar_62 = ((Record) tmpRec_63).GetField(pos_AS_ExplFnDef_nm);
                            else 
                              RunTime("Unknown record field selector");
                      }
                      tmpVar_61 = vdm_EXPR_MkBlkEnv(tmpVar_62, Record(vdm_SEM_ImplFN, length_SEM_ImplFN), Nil(), (Quote) "READ_ONLY");
                    }
                    rhs_60 = vdm_EXPR_CombineBlkEnv(tmpVar_61, vdm_EXPR_blkenv);
                  }
                  vdm_EXPR_blkenv = rhs_60;
                }
              }
              else {
                Set rhs_13;
                {
                  Set var2_15;
                  Record tmpVar_16;
                  {
                    Record tmpRec_17;
                    tmpRec_17 = vdm_EXPR_elm;
                    if (((Record) tmpRec_17).Is(vdm_AS_ValueDef)) 
                      tmpVar_16 = ((Record) tmpRec_17).GetField(pos_AS_ValueDef_pat);
                    else 
                      RunTime("Unknown record field selector");
                  }
                  var2_15 = vdm_EXPR_IdentInPattern(tmpVar_16);
                  rhs_13 = vdm_EXPR_id__s;
                  rhs_13.ImpUnion(var2_15);
                }
                vdm_EXPR_id__s = rhs_13;
                {
                  bool succ_18;
                  Record tmpVal_19;
                  tmpVal_19 = vdm_EXPR_elm;
                  Record vdm_EXPR_pat;
                  Generic vdm_EXPR_tp;
                  Record vdm_EXPR_val;
                  succ_18 = true;
                  {
                    succ_18 = false;
                    if (tmpVal_19.IsRecord()) 
                      if (vdm_AS_ValueDef == ((Record) tmpVal_19).GetTag()) {
                        Sequence e_l_20;
                        for (int i_21 = 1; i_21 <= ((Record) tmpVal_19).Length(); i_21++) 
                          e_l_20.ImpAppend(((Record) tmpVal_19).GetField(i_21));
                        if (succ_18 = 3 == (Int) (e_l_20.Length())) {
                          Generic permI_22;
                          permI_22 = (Generic) (e_l_20.Hd());
                          succ_18 = true;
                          {
                            vdm_EXPR_pat = permI_22;
                            succ_18 = true;
                          }
                          permI_22 = (Generic) (e_l_20[2]);
                          if (succ_18) {
                            vdm_EXPR_tp = permI_22;
                            succ_18 = true;
                          }
                          permI_22 = (Generic) (e_l_20[3]);
                          if (succ_18) {
                            vdm_EXPR_val = permI_22;
                            succ_18 = true;
                          }
                        }
                      }
                  }
                  if (!succ_18) 
                    RunTime("Pattern match did not succeed in value definition");
                  {
                    bool succ_23;
                    Record tmpVal_24;
                    tmpVal_24 = vdm_EXPR_EvalExpr(vdm_EXPR_val);
                    Record vdm_EXPR_val__v;
                    succ_23 = true;
                    {
                      vdm_EXPR_val__v = tmpVal_24;
                      succ_23 = true;
                    }
                    if (!succ_23) 
                      RunTime("Pattern match did not succeed in value definition");
                    {
                      Bool cond_26;
                      {
                        Record argTmp_27;
                        argTmp_27 = vdm_EXPR_val__v;
                        if (argTmp_27.IsRecord()) 
                          cond_26 = vdm_SEM_EXIT == argTmp_27.GetTag();
                        else 
                          cond_26 = false;
                      }
                      if (cond_26.GetValue()) {
                        Record rexpr_53;
                        rexpr_53 = vdm_EXPR_val__v;
                        return rexpr_53;
                      }
                      else {
                        Bool var1_44;
                        if ((var1_44 = vdm_EXPR_DTC()).GetValue()) { var1_44 = (Bool) (!(vdm_EXPR_tp == Nil())); }
                        if ((cond_26 = var1_44).GetValue()) {
                          Bool var2_45;
                          Bool unArg_50;
                          unArg_50 = vdm_EXPR_SubType(vdm_EXPR_val__v, vdm_EXPR_tp);
                          var2_45 = (Bool) (!unArg_50.GetValue());
                          cond_26 = var2_45;
                        }
                        if (cond_26.GetValue()) 
                          RunTime("Can not evaluate an error statement");
                        else {
                          Set vdm_EXPR_env__s;
                          vdm_EXPR_env__s = vdm_EXPR_PatternMatch(vdm_EXPR_pat, vdm_EXPR_val__v);
                          {
                            Bool cond_32;
                            {
                              Set var2_34;
                              var2_34 = Set();
                              cond_32 = (Bool) (!(vdm_EXPR_env__s == var2_34));
                            }
                            if (cond_32.GetValue()) {
                              Set tmpSet_35;
                              tmpSet_35 = vdm_EXPR_env__s;
                              Record vdm_EXPR_env(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
                              Bool tmpB_36;
                              bool succ_37 = false;
                              Generic tmpe_40;
                              for (int bb_39 = tmpSet_35.First(tmpe_40); bb_39 && !succ_37; bb_39 = tmpSet_35.Next(tmpe_40)) {
                                Record tmpElem_38 = tmpe_40;
                                {
                                  succ_37 = true;
                                  {
                                    vdm_EXPR_env = tmpElem_38;
                                    succ_37 = true;
                                  }
                                  if (succ_37) 
                                    succ_37 = ((Bool) true).GetValue();
                                }
                              }
                              if (!succ_37) 
                                RunTime("The binding environment was empty");
                              {
                                Record rhs_41(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
                                rhs_41 = vdm_EXPR_CombineBlkEnv(vdm_EXPR_env, vdm_EXPR_blkenv);
                                vdm_EXPR_blkenv = rhs_41;
                              }
                            }
                            else { RunTime("Can not evaluate an error statement"); }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
            vdm_EXPR_PopBlkEnv();
            {
              Record tmpVar_83(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
              tmpVar_83 = vdm_EXPR_blkenv;
              vdm_EXPR_PushBlkEnv(tmpVar_83);
            }
          }
          else 
            RunTime("Pattern did not match in sequence for loop");
        }
      }
    }
    {
      Record vdm_EXPR_in__v;
      vdm_EXPR_in__v = vdm_EXPR_EvalExpr(vdm_EXPR_In);
      {
        vdm_EXPR_PopBlkEnv();
        {
          Record rexpr_89;
          rexpr_89 = vdm_EXPR_in__v;
          return rexpr_89;
        }
      }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalLetExpr");
}

Record vdm_EXPR_EvalLiteral(Record vdm_EXPR_lit) {
  Bool selRes_3;
  selRes_3 = (Bool) true;
  bool succ_4 = true;
  {
    Bool tmpVal_5;
    {
      Record argTmp_6;
      argTmp_6 = vdm_EXPR_lit;
      if (argTmp_6.IsRecord()) 
        tmpVal_5 = vdm_AS_BoolLit == argTmp_6.GetTag();
      else 
        tmpVal_5 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_5)).GetValue();
    if (succ_4) {
      Record rexpr_7(vdm_SEM_BOOL, length_SEM_BOOL);
      {
        rexpr_7 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
        Generic tmpVar_8;
        {
          Record tmpRec_9;
          tmpRec_9 = vdm_EXPR_lit;
          if (((Record) tmpRec_9).Is(vdm_AS_TextLit)) 
            tmpVar_8 = ((Record) tmpRec_9).GetField(pos_AS_TextLit_val);
          else 
            if (((Record) tmpRec_9).Is(vdm_AS_RealLit)) 
              tmpVar_8 = ((Record) tmpRec_9).GetField(pos_AS_RealLit_val);
            else 
              if (((Record) tmpRec_9).Is(vdm_AS_QuoteLit)) 
                tmpVar_8 = ((Record) tmpRec_9).GetField(pos_AS_QuoteLit_val);
              else 
                if (((Record) tmpRec_9).Is(vdm_AS_CharLit)) 
                  tmpVar_8 = ((Record) tmpRec_9).GetField(pos_AS_CharLit_val);
                else 
                  if (((Record) tmpRec_9).Is(vdm_AS_BoolLit)) 
                    tmpVar_8 = ((Record) tmpRec_9).GetField(pos_AS_BoolLit_val);
                  else 
                    RunTime("Unknown record field selector");
        }
        rexpr_7.SetField(1, tmpVar_8);
      }
      return rexpr_7;
    }
  }
  if (!succ_4) {
    Bool tmpVal_10;
    {
      Record argTmp_11;
      argTmp_11 = vdm_EXPR_lit;
      if (argTmp_11.IsRecord()) 
        tmpVal_10 = vdm_AS_RealLit == argTmp_11.GetTag();
      else 
        tmpVal_10 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_10)).GetValue();
    if (succ_4) {
      Record rexpr_12(vdm_SEM_NUM, length_SEM_NUM);
      {
        rexpr_12 = Record(vdm_SEM_NUM, length_SEM_NUM);
        Generic tmpVar_13;
        {
          Record tmpRec_14;
          tmpRec_14 = vdm_EXPR_lit;
          if (((Record) tmpRec_14).Is(vdm_AS_TextLit)) 
            tmpVar_13 = ((Record) tmpRec_14).GetField(pos_AS_TextLit_val);
          else 
            if (((Record) tmpRec_14).Is(vdm_AS_RealLit)) 
              tmpVar_13 = ((Record) tmpRec_14).GetField(pos_AS_RealLit_val);
            else 
              if (((Record) tmpRec_14).Is(vdm_AS_QuoteLit)) 
                tmpVar_13 = ((Record) tmpRec_14).GetField(pos_AS_QuoteLit_val);
              else 
                if (((Record) tmpRec_14).Is(vdm_AS_CharLit)) 
                  tmpVar_13 = ((Record) tmpRec_14).GetField(pos_AS_CharLit_val);
                else 
                  if (((Record) tmpRec_14).Is(vdm_AS_BoolLit)) 
                    tmpVar_13 = ((Record) tmpRec_14).GetField(pos_AS_BoolLit_val);
                  else 
                    RunTime("Unknown record field selector");
        }
        rexpr_12.SetField(1, tmpVar_13);
      }
      return rexpr_12;
    }
  }
  if (!succ_4) {
    Bool tmpVal_15;
    {
      Record argTmp_16;
      argTmp_16 = vdm_EXPR_lit;
      if (argTmp_16.IsRecord()) 
        tmpVal_15 = vdm_AS_CharLit == argTmp_16.GetTag();
      else 
        tmpVal_15 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_15)).GetValue();
    if (succ_4) {
      Record rexpr_17(vdm_SEM_CHAR, length_SEM_CHAR);
      {
        rexpr_17 = Record(vdm_SEM_CHAR, length_SEM_CHAR);
        Generic tmpVar_18;
        {
          Record tmpRec_19;
          tmpRec_19 = vdm_EXPR_lit;
          if (((Record) tmpRec_19).Is(vdm_AS_TextLit)) 
            tmpVar_18 = ((Record) tmpRec_19).GetField(pos_AS_TextLit_val);
          else 
            if (((Record) tmpRec_19).Is(vdm_AS_RealLit)) 
              tmpVar_18 = ((Record) tmpRec_19).GetField(pos_AS_RealLit_val);
            else 
              if (((Record) tmpRec_19).Is(vdm_AS_QuoteLit)) 
                tmpVar_18 = ((Record) tmpRec_19).GetField(pos_AS_QuoteLit_val);
              else 
                if (((Record) tmpRec_19).Is(vdm_AS_CharLit)) 
                  tmpVar_18 = ((Record) tmpRec_19).GetField(pos_AS_CharLit_val);
                else 
                  if (((Record) tmpRec_19).Is(vdm_AS_BoolLit)) 
                    tmpVar_18 = ((Record) tmpRec_19).GetField(pos_AS_BoolLit_val);
                  else 
                    RunTime("Unknown record field selector");
        }
        rexpr_17.SetField(1, tmpVar_18);
      }
      return rexpr_17;
    }
  }
  if (!succ_4) {
    Bool tmpVal_20;
    {
      Record argTmp_21;
      argTmp_21 = vdm_EXPR_lit;
      if (argTmp_21.IsRecord()) 
        tmpVal_20 = vdm_AS_TextLit == argTmp_21.GetTag();
      else 
        tmpVal_20 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_20)).GetValue();
    if (succ_4) {
      Record rexpr_22(vdm_SEM_SEQ, length_SEM_SEQ);
      {
        rexpr_22 = Record(vdm_SEM_SEQ, length_SEM_SEQ);
        Sequence tmpVar_23;
        {
          Sequence res_l_24;
          Record reselem_25(vdm_SEM_CHAR, length_SEM_CHAR);
          Set resBind_s_27;
          {
            Generic unArg_31;
            Record tmpRec_32;
            tmpRec_32 = vdm_EXPR_lit;
            if (((Record) tmpRec_32).Is(vdm_AS_TextLit)) 
              unArg_31 = ((Record) tmpRec_32).GetField(pos_AS_TextLit_val);
            else 
              if (((Record) tmpRec_32).Is(vdm_AS_RealLit)) 
                unArg_31 = ((Record) tmpRec_32).GetField(pos_AS_RealLit_val);
              else 
                if (((Record) tmpRec_32).Is(vdm_AS_QuoteLit)) 
                  unArg_31 = ((Record) tmpRec_32).GetField(pos_AS_QuoteLit_val);
                else 
                  if (((Record) tmpRec_32).Is(vdm_AS_CharLit)) 
                    unArg_31 = ((Record) tmpRec_32).GetField(pos_AS_CharLit_val);
                  else 
                    if (((Record) tmpRec_32).Is(vdm_AS_BoolLit)) 
                      unArg_31 = ((Record) tmpRec_32).GetField(pos_AS_BoolLit_val);
                    else 
                      RunTime("Unknown record field selector");
            if (!unArg_31.IsSequence()) 
              RunTime("A sequence was expected");
            else {
              Set riseq_33;
              int max_34 = (Int) (((Sequence) unArg_31).Length());
              for (int i_35 = 1; i_35 <= max_34; i_35++) 
                riseq_33.Insert((Int) i_35);
              resBind_s_27 = riseq_33;
            }
          }
          Sequence bind_l_26;
          if ((Int) (resBind_s_27.Card()) != (Int) 0) 
            bind_l_26 = Sort(resBind_s_27);
          bool succ_28 = true;
          Int vdm_EXPR_i;
          Generic tmpe_42;
          for (int i_41 = bind_l_26.First(tmpe_42); i_41; i_41 = bind_l_26.Next(tmpe_42)) {
            Int e_30 = tmpe_42;
            {
              vdm_EXPR_i = e_30;
              succ_28 = true;
              if (succ_28) {
                reselem_25 = Record(vdm_SEM_CHAR, length_SEM_CHAR);
                Char tmpVar_36;
                {
                  Generic tmpGen_37;
                  {
                    Record tmpRec_40;
                    tmpRec_40 = vdm_EXPR_lit;
                    if (((Record) tmpRec_40).Is(vdm_AS_TextLit)) 
                      tmpGen_37 = ((Record) tmpRec_40).GetField(pos_AS_TextLit_val);
                    else 
                      if (((Record) tmpRec_40).Is(vdm_AS_RealLit)) 
                        tmpGen_37 = ((Record) tmpRec_40).GetField(pos_AS_RealLit_val);
                      else 
                        if (((Record) tmpRec_40).Is(vdm_AS_QuoteLit)) 
                          tmpGen_37 = ((Record) tmpRec_40).GetField(pos_AS_QuoteLit_val);
                        else 
                          if (((Record) tmpRec_40).Is(vdm_AS_CharLit)) 
                            tmpGen_37 = ((Record) tmpRec_40).GetField(pos_AS_CharLit_val);
                          else 
                            if (((Record) tmpRec_40).Is(vdm_AS_BoolLit)) 
                              tmpGen_37 = ((Record) tmpRec_40).GetField(pos_AS_BoolLit_val);
                            else 
                              RunTime("Unknown record field selector");
                  }
                  if (tmpGen_37.IsSequence()) {
                    Sequence tmpRes_39 = tmpGen_37;
                    tmpVar_36 = tmpRes_39[vdm_EXPR_i.GetValue()];
                  }
                  else 
                    RunTime("The argument could not be applied");
                }
                reselem_25.SetField(1, tmpVar_36);
                res_l_24.ImpAppend(reselem_25);
              }
            }
          }
          tmpVar_23 = res_l_24;
        }
        rexpr_22.SetField(1, tmpVar_23);
      }
      return rexpr_22;
    }
  }
  if (!succ_4) {
    Bool tmpVal_43;
    {
      Record argTmp_44;
      argTmp_44 = vdm_EXPR_lit;
      if (argTmp_44.IsRecord()) 
        tmpVal_43 = vdm_AS_QuoteLit == argTmp_44.GetTag();
      else 
        tmpVal_43 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_43)).GetValue();
    if (succ_4) {
      Record rexpr_45(vdm_SEM_QUOTE, length_SEM_QUOTE);
      {
        rexpr_45 = Record(vdm_SEM_QUOTE, length_SEM_QUOTE);
        Sequence tmpVar_46;
        {
          Sequence res_l_47;
          Char reselem_48;
          Set resBind_s_50;
          {
            Generic unArg_54;
            Record tmpRec_55;
            tmpRec_55 = vdm_EXPR_lit;
            if (((Record) tmpRec_55).Is(vdm_AS_TextLit)) 
              unArg_54 = ((Record) tmpRec_55).GetField(pos_AS_TextLit_val);
            else 
              if (((Record) tmpRec_55).Is(vdm_AS_RealLit)) 
                unArg_54 = ((Record) tmpRec_55).GetField(pos_AS_RealLit_val);
              else 
                if (((Record) tmpRec_55).Is(vdm_AS_QuoteLit)) 
                  unArg_54 = ((Record) tmpRec_55).GetField(pos_AS_QuoteLit_val);
                else 
                  if (((Record) tmpRec_55).Is(vdm_AS_CharLit)) 
                    unArg_54 = ((Record) tmpRec_55).GetField(pos_AS_CharLit_val);
                  else 
                    if (((Record) tmpRec_55).Is(vdm_AS_BoolLit)) 
                      unArg_54 = ((Record) tmpRec_55).GetField(pos_AS_BoolLit_val);
                    else 
                      RunTime("Unknown record field selector");
            if (!unArg_54.IsSequence()) 
              RunTime("A sequence was expected");
            else {
              Set riseq_56;
              int max_57 = (Int) (((Sequence) unArg_54).Length());
              for (int i_58 = 1; i_58 <= max_57; i_58++) 
                riseq_56.Insert((Int) i_58);
              resBind_s_50 = riseq_56;
            }
          }
          Sequence bind_l_49;
          if ((Int) (resBind_s_50.Card()) != (Int) 0) 
            bind_l_49 = Sort(resBind_s_50);
          bool succ_51 = true;
          Int vdm_EXPR_i;
          Generic tmpe_64;
          for (int i_63 = bind_l_49.First(tmpe_64); i_63; i_63 = bind_l_49.Next(tmpe_64)) {
            Int e_53 = tmpe_64;
            {
              vdm_EXPR_i = e_53;
              succ_51 = true;
              if (succ_51) {
                Generic tmpGen_59;
                {
                  Record tmpRec_62;
                  tmpRec_62 = vdm_EXPR_lit;
                  if (((Record) tmpRec_62).Is(vdm_AS_TextLit)) 
                    tmpGen_59 = ((Record) tmpRec_62).GetField(pos_AS_TextLit_val);
                  else 
                    if (((Record) tmpRec_62).Is(vdm_AS_RealLit)) 
                      tmpGen_59 = ((Record) tmpRec_62).GetField(pos_AS_RealLit_val);
                    else 
                      if (((Record) tmpRec_62).Is(vdm_AS_QuoteLit)) 
                        tmpGen_59 = ((Record) tmpRec_62).GetField(pos_AS_QuoteLit_val);
                      else 
                        if (((Record) tmpRec_62).Is(vdm_AS_CharLit)) 
                          tmpGen_59 = ((Record) tmpRec_62).GetField(pos_AS_CharLit_val);
                        else 
                          if (((Record) tmpRec_62).Is(vdm_AS_BoolLit)) 
                            tmpGen_59 = ((Record) tmpRec_62).GetField(pos_AS_BoolLit_val);
                          else 
                            RunTime("Unknown record field selector");
                }
                if (tmpGen_59.IsSequence()) {
                  Sequence tmpRes_61 = tmpGen_59;
                  reselem_48 = tmpRes_61[vdm_EXPR_i.GetValue()];
                }
                else 
                  RunTime("The argument could not be applied");
                res_l_47.ImpAppend(reselem_48);
              }
            }
          }
          tmpVar_46 = res_l_47;
        }
        rexpr_45.SetField(1, tmpVar_46);
      }
      return rexpr_45;
    }
  }
  if (!succ_4) {
    Bool tmpVal_65;
    {
      Record argTmp_66;
      argTmp_66 = vdm_EXPR_lit;
      if (argTmp_66.IsRecord()) 
        tmpVal_65 = vdm_AS_NilLit == argTmp_66.GetTag();
      else 
        tmpVal_65 = false;
    }
    succ_4 = ((Bool) (selRes_3 == tmpVal_65)).GetValue();
    if (succ_4) {
      Record rexpr_67(vdm_SEM_NIL, length_SEM_NIL);
      rexpr_67 = Record(vdm_SEM_NIL, length_SEM_NIL);
      return rexpr_67;
    }
  }
}

Record vdm_EXPR_EvalLogBinaryExpr(Record vdm_EXPR_op1__e, Generic vdm_EXPR_opr, Record vdm_EXPR_op2__e) {
  bool succ_5;
  Record tmpVal_6;
  tmpVal_6 = vdm_EXPR_EvalExpr(vdm_EXPR_op1__e);
  Record vdm_EXPR_op1__v;
  succ_5 = true;
  {
    vdm_EXPR_op1__v = tmpVal_6;
    succ_5 = true;
  }
  if (!succ_5) 
    RunTime("Pattern match did not succeed in value definition");
  {
    Bool cond_8;
    {
      Record argTmp_9;
      argTmp_9 = vdm_EXPR_op1__v;
      if (argTmp_9.IsRecord()) 
        cond_8 = vdm_SEM_BOOL == argTmp_9.GetTag();
      else 
        cond_8 = false;
    }
    if (cond_8.GetValue()) {
      bool succ_25;
      Record tmpVal_26;
      tmpVal_26 = vdm_EXPR_op1__v;
      Bool vdm_EXPR_b1;
      succ_25 = true;
      {
        succ_25 = false;
        if (tmpVal_26.IsRecord()) 
          if (vdm_SEM_BOOL == ((Record) tmpVal_26).GetTag()) {
            Sequence e_l_27;
            for (int i_28 = 1; i_28 <= ((Record) tmpVal_26).Length(); i_28++) 
              e_l_27.ImpAppend(((Record) tmpVal_26).GetField(i_28));
            if (succ_25 = 1 == (Int) (e_l_27.Length())) {
              Bool permI_29;
              permI_29 = (Bool) (e_l_27.Hd());
              succ_25 = true;
              {
                vdm_EXPR_b1 = permI_29;
                succ_25 = true;
              }
            }
          }
      }
      if (!succ_25) 
        RunTime("Pattern match did not succeed in value definition");
      {
        Generic selRes_30;
        selRes_30 = vdm_EXPR_opr;
        bool succ_31 = true;
        {
          Quote tmpVal_32;
          tmpVal_32 = (Quote) "AND";
          succ_31 = ((Bool) (selRes_30 == tmpVal_32)).GetValue();
          if (succ_31) {
            Bool cond_33;
            cond_33 = vdm_EXPR_b1;
            if (cond_33.GetValue()) {
              Record vdm_EXPR_op2__v;
              vdm_EXPR_op2__v = vdm_EXPR_EvalExpr(vdm_EXPR_op2__e);
              {
                Bool cond_39;
                {
                  Record argTmp_40;
                  argTmp_40 = vdm_EXPR_op2__v;
                  if (argTmp_40.IsRecord()) 
                    cond_39 = vdm_SEM_BOOL == argTmp_40.GetTag();
                  else 
                    cond_39 = false;
                }
                if (cond_39.GetValue()) {
                  bool succ_41;
                  Record tmpVal_42;
                  tmpVal_42 = vdm_EXPR_op2__v;
                  Bool vdm_EXPR_b2;
                  succ_41 = true;
                  {
                    succ_41 = false;
                    if (tmpVal_42.IsRecord()) 
                      if (vdm_SEM_BOOL == ((Record) tmpVal_42).GetTag()) {
                        Sequence e_l_43;
                        for (int i_44 = 1; i_44 <= ((Record) tmpVal_42).Length(); i_44++) 
                          e_l_43.ImpAppend(((Record) tmpVal_42).GetField(i_44));
                        if (succ_41 = 1 == (Int) (e_l_43.Length())) {
                          Bool permI_45;
                          permI_45 = (Bool) (e_l_43.Hd());
                          succ_41 = true;
                          {
                            vdm_EXPR_b2 = permI_45;
                            succ_41 = true;
                          }
                        }
                      }
                  }
                  if (!succ_41) 
                    RunTime("Pattern match did not succeed in value definition");
                  {
                    Record rexpr_46(vdm_SEM_BOOL, length_SEM_BOOL);
                    {
                      rexpr_46 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
                      rexpr_46.SetField(1, vdm_EXPR_b2);
                    }
                    return rexpr_46;
                  }
                }
                else { RunTime("Can not evaluate an error statement"); }
              }
            }
            else {
              Record rexpr_34(vdm_SEM_BOOL, length_SEM_BOOL);
              {
                rexpr_34 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
                rexpr_34.SetField(1, (Bool) false);
              }
              return rexpr_34;
            }
          }
        }
        if (!succ_31) {
          Quote tmpVal_48;
          tmpVal_48 = (Quote) "OR";
          succ_31 = ((Bool) (selRes_30 == tmpVal_48)).GetValue();
          if (succ_31) {
            Bool cond_49;
            cond_49 = (Bool) (!vdm_EXPR_b1.GetValue());
            if (cond_49.GetValue()) {
              Record vdm_EXPR_op2__v;
              vdm_EXPR_op2__v = vdm_EXPR_EvalExpr(vdm_EXPR_op2__e);
              {
                Bool cond_56;
                {
                  Record argTmp_57;
                  argTmp_57 = vdm_EXPR_op2__v;
                  if (argTmp_57.IsRecord()) 
                    cond_56 = vdm_SEM_BOOL == argTmp_57.GetTag();
                  else 
                    cond_56 = false;
                }
                if (cond_56.GetValue()) {
                  bool succ_58;
                  Record tmpVal_59;
                  tmpVal_59 = vdm_EXPR_op2__v;
                  Bool vdm_EXPR_b2;
                  succ_58 = true;
                  {
                    succ_58 = false;
                    if (tmpVal_59.IsRecord()) 
                      if (vdm_SEM_BOOL == ((Record) tmpVal_59).GetTag()) {
                        Sequence e_l_60;
                        for (int i_61 = 1; i_61 <= ((Record) tmpVal_59).Length(); i_61++) 
                          e_l_60.ImpAppend(((Record) tmpVal_59).GetField(i_61));
                        if (succ_58 = 1 == (Int) (e_l_60.Length())) {
                          Bool permI_62;
                          permI_62 = (Bool) (e_l_60.Hd());
                          succ_58 = true;
                          {
                            vdm_EXPR_b2 = permI_62;
                            succ_58 = true;
                          }
                        }
                      }
                  }
                  if (!succ_58) 
                    RunTime("Pattern match did not succeed in value definition");
                  {
                    Record rexpr_63(vdm_SEM_BOOL, length_SEM_BOOL);
                    {
                      rexpr_63 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
                      rexpr_63.SetField(1, vdm_EXPR_b2);
                    }
                    return rexpr_63;
                  }
                }
                else { RunTime("Can not evaluate an error statement"); }
              }
            }
            else {
              Record rexpr_51(vdm_SEM_BOOL, length_SEM_BOOL);
              {
                rexpr_51 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
                rexpr_51.SetField(1, (Bool) true);
              }
              return rexpr_51;
            }
          }
        }
        if (!succ_31) {
          Quote tmpVal_65;
          tmpVal_65 = (Quote) "IMPLY";
          succ_31 = ((Bool) (selRes_30 == tmpVal_65)).GetValue();
          if (succ_31) {
            Bool cond_66;
            cond_66 = vdm_EXPR_b1;
            if (cond_66.GetValue()) {
              Record vdm_EXPR_op2__v;
              vdm_EXPR_op2__v = vdm_EXPR_EvalExpr(vdm_EXPR_op2__e);
              {
                Bool cond_72;
                {
                  Record argTmp_73;
                  argTmp_73 = vdm_EXPR_op2__v;
                  if (argTmp_73.IsRecord()) 
                    cond_72 = vdm_SEM_BOOL == argTmp_73.GetTag();
                  else 
                    cond_72 = false;
                }
                if (cond_72.GetValue()) {
                  bool succ_74;
                  Record tmpVal_75;
                  tmpVal_75 = vdm_EXPR_op2__v;
                  Bool vdm_EXPR_b2;
                  succ_74 = true;
                  {
                    succ_74 = false;
                    if (tmpVal_75.IsRecord()) 
                      if (vdm_SEM_BOOL == ((Record) tmpVal_75).GetTag()) {
                        Sequence e_l_76;
                        for (int i_77 = 1; i_77 <= ((Record) tmpVal_75).Length(); i_77++) 
                          e_l_76.ImpAppend(((Record) tmpVal_75).GetField(i_77));
                        if (succ_74 = 1 == (Int) (e_l_76.Length())) {
                          Bool permI_78;
                          permI_78 = (Bool) (e_l_76.Hd());
                          succ_74 = true;
                          {
                            vdm_EXPR_b2 = permI_78;
                            succ_74 = true;
                          }
                        }
                      }
                  }
                  if (!succ_74) 
                    RunTime("Pattern match did not succeed in value definition");
                  {
                    Record rexpr_79(vdm_SEM_BOOL, length_SEM_BOOL);
                    {
                      rexpr_79 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
                      rexpr_79.SetField(1, vdm_EXPR_b2);
                    }
                    return rexpr_79;
                  }
                }
                else { RunTime("Can not evaluate an error statement"); }
              }
            }
            else {
              Record rexpr_67(vdm_SEM_BOOL, length_SEM_BOOL);
              {
                rexpr_67 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
                rexpr_67.SetField(1, (Bool) true);
              }
              return rexpr_67;
            }
          }
        }
        if (!succ_31) {
          Record vdm_EXPR_op2__v;
          vdm_EXPR_op2__v = vdm_EXPR_EvalExpr(vdm_EXPR_op2__e);
          {
            Bool cond_84;
            {
              Record argTmp_85;
              argTmp_85 = vdm_EXPR_op2__v;
              if (argTmp_85.IsRecord()) 
                cond_84 = vdm_SEM_BOOL == argTmp_85.GetTag();
              else 
                cond_84 = false;
            }
            if (cond_84.GetValue()) {
              bool succ_94;
              Record tmpVal_95;
              tmpVal_95 = vdm_EXPR_op2__v;
              Bool vdm_EXPR_b2;
              succ_94 = true;
              {
                succ_94 = false;
                if (tmpVal_95.IsRecord()) 
                  if (vdm_SEM_BOOL == ((Record) tmpVal_95).GetTag()) {
                    Sequence e_l_96;
                    for (int i_97 = 1; i_97 <= ((Record) tmpVal_95).Length(); i_97++) 
                      e_l_96.ImpAppend(((Record) tmpVal_95).GetField(i_97));
                    if (succ_94 = 1 == (Int) (e_l_96.Length())) {
                      Bool permI_98;
                      permI_98 = (Bool) (e_l_96.Hd());
                      succ_94 = true;
                      {
                        vdm_EXPR_b2 = permI_98;
                        succ_94 = true;
                      }
                    }
                  }
              }
              if (!succ_94) 
                RunTime("Pattern match did not succeed in value definition");
              {
                Generic selRes_99;
                selRes_99 = vdm_EXPR_opr;
                bool succ_100 = true;
                {
                  Quote tmpVal_101;
                  tmpVal_101 = (Quote) "EQUIV";
                  succ_100 = ((Bool) (selRes_99 == tmpVal_101)).GetValue();
                  if (succ_100) {
                    Record rexpr_102(vdm_SEM_BOOL, length_SEM_BOOL);
                    {
                      rexpr_102 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
                      rexpr_102.SetField(1, (Bool) (vdm_EXPR_b1 == vdm_EXPR_b2));
                    }
                    return rexpr_102;
                  }
                }
                if (!succ_100) {
                  Quote tmpVal_106;
                  tmpVal_106 = (Quote) "EQ";
                  succ_100 = ((Bool) (selRes_99 == tmpVal_106)).GetValue();
                  if (succ_100) {
                    Record rexpr_107(vdm_SEM_BOOL, length_SEM_BOOL);
                    {
                      rexpr_107 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
                      rexpr_107.SetField(1, (Bool) (vdm_EXPR_b1 == vdm_EXPR_b2));
                    }
                    return rexpr_107;
                  }
                }
                if (!succ_100) {
                  Quote tmpVal_111;
                  tmpVal_111 = (Quote) "NE";
                  succ_100 = ((Bool) (selRes_99 == tmpVal_111)).GetValue();
                  if (succ_100) {
                    Record rexpr_112(vdm_SEM_BOOL, length_SEM_BOOL);
                    {
                      rexpr_112 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
                      rexpr_112.SetField(1, (Bool) (!(vdm_EXPR_b1 == vdm_EXPR_b2)));
                    }
                    return rexpr_112;
                  }
                }
                if (!succ_100) 
                  RunTime("Can not evaluate an error statement");
              }
            }
            else {
              Generic selRes_86;
              selRes_86 = vdm_EXPR_opr;
              bool succ_87 = true;
              {
                Quote tmpVal_88;
                tmpVal_88 = (Quote) "EQ";
                succ_87 = ((Bool) (selRes_86 == tmpVal_88)).GetValue();
                if (succ_87) {
                  Record rexpr_89(vdm_SEM_BOOL, length_SEM_BOOL);
                  {
                    rexpr_89 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
                    rexpr_89.SetField(1, (Bool) false);
                  }
                  return rexpr_89;
                }
              }
              if (!succ_87) {
                Quote tmpVal_91;
                tmpVal_91 = (Quote) "NE";
                succ_87 = ((Bool) (selRes_86 == tmpVal_91)).GetValue();
                if (succ_87) {
                  Record rexpr_92(vdm_SEM_BOOL, length_SEM_BOOL);
                  {
                    rexpr_92 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
                    rexpr_92.SetField(1, (Bool) true);
                  }
                  return rexpr_92;
                }
              }
              if (!succ_87) 
                RunTime("Can not evaluate an error statement");
            }
          }
        }
      }
    }
    else {
      Record vdm_EXPR_op2__v;
      vdm_EXPR_op2__v = vdm_EXPR_EvalExpr(vdm_EXPR_op2__e);
      {
        Generic selRes_13;
        selRes_13 = vdm_EXPR_opr;
        bool succ_14 = true;
        {
          Quote tmpVal_15;
          tmpVal_15 = (Quote) "EQ";
          succ_14 = ((Bool) (selRes_13 == tmpVal_15)).GetValue();
          if (succ_14) {
            Record rexpr_16(vdm_SEM_BOOL, length_SEM_BOOL);
            {
              rexpr_16 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
              rexpr_16.SetField(1, (Bool) (vdm_EXPR_op1__v == vdm_EXPR_op2__v));
            }
            return rexpr_16;
          }
        }
        if (!succ_14) {
          Quote tmpVal_20;
          tmpVal_20 = (Quote) "NE";
          succ_14 = ((Bool) (selRes_13 == tmpVal_20)).GetValue();
          if (succ_14) {
            Record rexpr_21(vdm_SEM_BOOL, length_SEM_BOOL);
            {
              rexpr_21 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
              rexpr_21.SetField(1, (Bool) (!(vdm_EXPR_op1__v == vdm_EXPR_op2__v)));
            }
            return rexpr_21;
          }
        }
        if (!succ_14) 
          RunTime("Can not evaluate an error statement");
      }
    }
  }
}

Record vdm_EXPR_EvalLogUnaryExpr(Generic vdm_EXPR_opr, Record vdm_EXPR_op__v) {
  Bool cond_4;
  {
    Record argTmp_5;
    argTmp_5 = vdm_EXPR_op__v;
    if (argTmp_5.IsRecord()) 
      cond_4 = vdm_SEM_BOOL == argTmp_5.GetTag();
    else 
      cond_4 = false;
  }
  if (cond_4.GetValue()) {
    bool succ_6;
    Record tmpVal_7;
    tmpVal_7 = vdm_EXPR_op__v;
    Bool vdm_EXPR_b;
    succ_6 = true;
    {
      succ_6 = false;
      if (tmpVal_7.IsRecord()) 
        if (vdm_SEM_BOOL == ((Record) tmpVal_7).GetTag()) {
          Sequence e_l_8;
          for (int i_9 = 1; i_9 <= ((Record) tmpVal_7).Length(); i_9++) 
            e_l_8.ImpAppend(((Record) tmpVal_7).GetField(i_9));
          if (succ_6 = 1 == (Int) (e_l_8.Length())) {
            Bool permI_10;
            permI_10 = (Bool) (e_l_8.Hd());
            succ_6 = true;
            {
              vdm_EXPR_b = permI_10;
              succ_6 = true;
            }
          }
        }
    }
    if (!succ_6) 
      RunTime("Pattern match did not succeed in value definition");
    {
      Generic selRes_11;
      selRes_11 = vdm_EXPR_opr;
      bool succ_12 = true;
      {
        Quote tmpVal_13;
        tmpVal_13 = (Quote) "NOT";
        succ_12 = ((Bool) (selRes_11 == tmpVal_13)).GetValue();
        if (succ_12) {
          Record rexpr_14(vdm_SEM_BOOL, length_SEM_BOOL);
          {
            rexpr_14 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
            rexpr_14.SetField(1, (Bool) (!vdm_EXPR_b.GetValue()));
          }
          return rexpr_14;
        }
      }
    }
  }
  else { RunTime("Can not evaluate an error statement"); }
}

Record vdm_EXPR_EvalMapApply(Record var_1_1, Sequence var_2_2) {
  Sequence vdm_EXPR_arg__lv;
  Map vdm_EXPR_map__v;
  bool succ_3 = true;
  {
    succ_3 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_MAP == var_1_1.GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= var_1_1.Length(); i_5++) 
          e_l_4.ImpAppend(var_1_1.GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Map permI_6;
          permI_6 = (Map) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_map__v = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  {
    vdm_EXPR_arg__lv = var_2_2;
    succ_3 = true;
  }
  if (succ_3) {
    Bool cond_7;
    cond_7 = (Bool) ((Int) (vdm_EXPR_arg__lv.Length()) == (Int) 1);
    if (cond_7.GetValue()) {
      Bool cond_11;
      {
        Record var1_12;
        Sequence tmpseq_14;
        tmpseq_14 = vdm_EXPR_arg__lv;
        var1_12 = (Record) (tmpseq_14[((Int) 1).GetValue()]);
        cond_11 = (Bool) (vdm_EXPR_map__v.Dom().InSet(var1_12));
      }
      if (cond_11.GetValue()) {
        Record rexpr_17;
        {
          Map tmp_m_18;
          tmp_m_18 = vdm_EXPR_map__v;
          Record tmppar_19;
          {
            Sequence tmpseq_20;
            tmpseq_20 = vdm_EXPR_arg__lv;
            tmppar_19 = (Record) (tmpseq_20[((Int) 1).GetValue()]);
          }
          rexpr_17 = (Record) (((Map) tmp_m_18)[tmppar_19]);
        }
        return rexpr_17;
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
    else { RunTime("Can not evaluate an error statement"); }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalMapApply");
}

Record vdm_EXPR_EvalMapBinaryExpr(Record vdm_EXPR_op1__v, Generic vdm_EXPR_opr, Record vdm_EXPR_op2__v) {
  Generic selRes_5;
  selRes_5 = vdm_EXPR_opr;
  bool succ_6 = true;
  {
    Quote tmpVal_7;
    tmpVal_7 = (Quote) "MAPMERGE";
    succ_6 = ((Bool) (selRes_5 == tmpVal_7)).GetValue();
    if (succ_6) {
      Bool cond_8;
      {
        Bool var1_9;
        Record argTmp_11;
        argTmp_11 = vdm_EXPR_op1__v;
        if (argTmp_11.IsRecord()) 
          var1_9 = vdm_SEM_MAP == argTmp_11.GetTag();
        else 
          var1_9 = false;
        if ((cond_8 = var1_9).GetValue()) {
          Bool var2_10;
          Record argTmp_12;
          argTmp_12 = vdm_EXPR_op2__v;
          if (argTmp_12.IsRecord()) 
            var2_10 = vdm_SEM_MAP == argTmp_12.GetTag();
          else 
            var2_10 = false;
          cond_8 = var2_10;
        }
      }
      if (cond_8.GetValue()) {
        Record tmpVar_13;
        tmpVar_13 = vdm_EXPR_op1__v;
        Record tmpVar_14;
        tmpVar_14 = vdm_EXPR_op2__v;
        return vdm_EXPR_EvalMapMerge(tmpVar_13, tmpVar_14);
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
  if (!succ_6) {
    Quote tmpVal_15;
    tmpVal_15 = (Quote) "MAPDOMRESTTO";
    succ_6 = ((Bool) (selRes_5 == tmpVal_15)).GetValue();
    if (!succ_6) {
      Quote tmpVal_16;
      tmpVal_16 = (Quote) "MAPDOMRESTBY";
      succ_6 = ((Bool) (selRes_5 == tmpVal_16)).GetValue();
    }
    if (succ_6) {
      Bool cond_17;
      {
        Bool var1_18;
        Record argTmp_20;
        argTmp_20 = vdm_EXPR_op1__v;
        if (argTmp_20.IsRecord()) 
          var1_18 = vdm_SEM_SET == argTmp_20.GetTag();
        else 
          var1_18 = false;
        if ((cond_17 = var1_18).GetValue()) {
          Bool var2_19;
          Record argTmp_21;
          argTmp_21 = vdm_EXPR_op2__v;
          if (argTmp_21.IsRecord()) 
            var2_19 = vdm_SEM_MAP == argTmp_21.GetTag();
          else 
            var2_19 = false;
          cond_17 = var2_19;
        }
      }
      if (cond_17.GetValue()) {
        Generic selRes_22;
        selRes_22 = vdm_EXPR_opr;
        bool succ_23 = true;
        {
          Quote tmpVal_24;
          tmpVal_24 = (Quote) "MAPDOMRESTTO";
          succ_23 = ((Bool) (selRes_22 == tmpVal_24)).GetValue();
          if (succ_23) {
            Record tmpVar_25;
            tmpVar_25 = vdm_EXPR_op1__v;
            Record tmpVar_26;
            tmpVar_26 = vdm_EXPR_op2__v;
            return vdm_EXPR_EvalMapDomRestTo(tmpVar_25, tmpVar_26);
          }
        }
        if (!succ_23) {
          Quote tmpVal_27;
          tmpVal_27 = (Quote) "MAPDOMRESTBY";
          succ_23 = ((Bool) (selRes_22 == tmpVal_27)).GetValue();
          if (succ_23) {
            Record tmpVar_28;
            tmpVar_28 = vdm_EXPR_op1__v;
            Record tmpVar_29;
            tmpVar_29 = vdm_EXPR_op2__v;
            return vdm_EXPR_EvalMapDomRestBy(tmpVar_28, tmpVar_29);
          }
        }
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
  if (!succ_6) {
    Quote tmpVal_30;
    tmpVal_30 = (Quote) "MAPRNGRESTTO";
    succ_6 = ((Bool) (selRes_5 == tmpVal_30)).GetValue();
    if (!succ_6) {
      Quote tmpVal_31;
      tmpVal_31 = (Quote) "MAPRNGRESTBY";
      succ_6 = ((Bool) (selRes_5 == tmpVal_31)).GetValue();
    }
    if (succ_6) {
      Bool cond_32;
      {
        Bool var1_33;
        Record argTmp_35;
        argTmp_35 = vdm_EXPR_op1__v;
        if (argTmp_35.IsRecord()) 
          var1_33 = vdm_SEM_MAP == argTmp_35.GetTag();
        else 
          var1_33 = false;
        if ((cond_32 = var1_33).GetValue()) {
          Bool var2_34;
          Record argTmp_36;
          argTmp_36 = vdm_EXPR_op2__v;
          if (argTmp_36.IsRecord()) 
            var2_34 = vdm_SEM_SET == argTmp_36.GetTag();
          else 
            var2_34 = false;
          cond_32 = var2_34;
        }
      }
      if (cond_32.GetValue()) {
        Generic selRes_37;
        selRes_37 = vdm_EXPR_opr;
        bool succ_38 = true;
        {
          Quote tmpVal_39;
          tmpVal_39 = (Quote) "MAPRNGRESTTO";
          succ_38 = ((Bool) (selRes_37 == tmpVal_39)).GetValue();
          if (succ_38) {
            Record tmpVar_40;
            tmpVar_40 = vdm_EXPR_op1__v;
            Record tmpVar_41;
            tmpVar_41 = vdm_EXPR_op2__v;
            return vdm_EXPR_EvalMapRngRestTo(tmpVar_40, tmpVar_41);
          }
        }
        if (!succ_38) {
          Quote tmpVal_42;
          tmpVal_42 = (Quote) "MAPRNGRESTBY";
          succ_38 = ((Bool) (selRes_37 == tmpVal_42)).GetValue();
          if (succ_38) {
            Record tmpVar_43;
            tmpVar_43 = vdm_EXPR_op1__v;
            Record tmpVar_44;
            tmpVar_44 = vdm_EXPR_op2__v;
            return vdm_EXPR_EvalMapRngRestBy(tmpVar_43, tmpVar_44);
          }
        }
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
  if (!succ_6) 
    RunTime("Can not evaluate an error statement");
}

Record vdm_EXPR_EvalMapComprehensionExpr(Record var_1_1) {
  Sequence vdm_EXPR_bind__l;
  Record vdm_EXPR_elem(vdm_AS_Maplet, length_AS_Maplet);
  Record vdm_EXPR_pred__e;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_MapComprehensionExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 5 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_elem = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_bind__l = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) {
            vdm_EXPR_pred__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[4]);
          if (succ_2) 
            succ_2 = true;
          permI_5 = (Generic) (e_l_3[5]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Map vdm_EXPR_m;
    vdm_EXPR_m = Map();
    {
      bool succ_6;
      Record tmpVal_7(vdm_AS_Maplet, length_AS_Maplet);
      tmpVal_7 = vdm_EXPR_elem;
      Record vdm_EXPR_dom__e;
      Record vdm_EXPR_rng__e;
      succ_6 = true;
      {
        succ_6 = false;
        if (tmpVal_7.IsRecord()) 
          if (vdm_AS_Maplet == tmpVal_7.GetTag()) {
            Sequence e_l_8;
            for (int i_9 = 1; i_9 <= tmpVal_7.Length(); i_9++) 
              e_l_8.ImpAppend(tmpVal_7.GetField(i_9));
            if (succ_6 = 2 == (Int) (e_l_8.Length())) {
              Record permI_10;
              permI_10 = (Record) (e_l_8.Hd());
              succ_6 = true;
              {
                vdm_EXPR_dom__e = permI_10;
                succ_6 = true;
              }
              permI_10 = (Record) (e_l_8[2]);
              if (succ_6) {
                vdm_EXPR_rng__e = permI_10;
                succ_6 = true;
              }
            }
          }
      }
      if (!succ_6) 
        RunTime("Pattern match did not succeed in value definition");
      {
        Set tmpSet_11;
        tmpSet_11 = vdm_EXPR_EvalMultBindSeq(vdm_EXPR_bind__l, (Quote) "DO_PARTITION");
        Generic vdm_EXPR_tmp__s;
        Bool tmpB_12;
        bool succ_13 = false;
        Generic tmpe_18;
        for (int bb_17 = tmpSet_11.First(tmpe_18); bb_17 && !succ_13; bb_17 = tmpSet_11.Next(tmpe_18)) {
          Generic tmpElem_14 = tmpe_18;
          {
            succ_13 = true;
            {
              vdm_EXPR_tmp__s = tmpElem_14;
              succ_13 = true;
            }
            if (succ_13) 
              succ_13 = ((Bool) true).GetValue();
          }
        }
        if (!succ_13) 
          RunTime("The binding environment was empty");
        {
          Generic iset_19;
          iset_19 = vdm_EXPR_tmp__s;
          Record vdm_EXPR_env(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
          bool succ_21;
          Set tmpSet_22;
          if (iset_19.IsSet()) 
            tmpSet_22 = iset_19;
          else 
            RunTime("A set was expected in set for loop");
          Generic tmpe_61;
          for (int bb_60 = tmpSet_22.First(tmpe_61); bb_60; bb_60 = tmpSet_22.Next(tmpe_61)) {
            Record elem_20 = tmpe_61;
            {
              succ_21 = true;
              {
                vdm_EXPR_env = elem_20;
                succ_21 = true;
              }
              if (succ_21) {
                Record tmpVar_23(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
                tmpVar_23 = vdm_EXPR_env;
                vdm_EXPR_PushBlkEnv(tmpVar_23);
                {
                  Record vdm_EXPR_pred__v;
                  vdm_EXPR_pred__v = vdm_EXPR_EvalExpr(vdm_EXPR_pred__e);
                  {
                    Bool cond_27;
                    {
                      Record argTmp_28;
                      argTmp_28 = vdm_EXPR_pred__v;
                      if (argTmp_28.IsRecord()) 
                        cond_27 = vdm_SEM_BOOL == argTmp_28.GetTag();
                      else 
                        cond_27 = false;
                    }
                    if (cond_27.GetValue()) {
                      bool succ_29;
                      Record tmpVal_30;
                      tmpVal_30 = vdm_EXPR_pred__v;
                      Bool vdm_EXPR_b;
                      succ_29 = true;
                      {
                        succ_29 = false;
                        if (tmpVal_30.IsRecord()) 
                          if (vdm_SEM_BOOL == ((Record) tmpVal_30).GetTag()) {
                            Sequence e_l_31;
                            for (int i_32 = 1; i_32 <= ((Record) tmpVal_30).Length(); i_32++) 
                              e_l_31.ImpAppend(((Record) tmpVal_30).GetField(i_32));
                            if (succ_29 = 1 == (Int) (e_l_31.Length())) {
                              Bool permI_33;
                              permI_33 = (Bool) (e_l_31.Hd());
                              succ_29 = true;
                              {
                                vdm_EXPR_b = permI_33;
                                succ_29 = true;
                              }
                            }
                          }
                      }
                      if (!succ_29) 
                        RunTime("Pattern match did not succeed in value definition");
                      {
                        Bool cond_34;
                        cond_34 = vdm_EXPR_b;
                        if (cond_34.GetValue()) {
                          Record vdm_EXPR_dom__v;
                          vdm_EXPR_dom__v = vdm_EXPR_EvalExpr(vdm_EXPR_dom__e);
                          Record vdm_EXPR_rng__v;
                          vdm_EXPR_rng__v = vdm_EXPR_EvalExpr(vdm_EXPR_rng__e);
                          {
                            Bool cond_40;
{ cond_40 = !(Bool) (vdm_EXPR_m.Dom().InSet(vdm_EXPR_dom__v)); }
                            if (cond_40.GetValue()) {
                              Map rhs_49;
                              {
                                Map var2_51;
                                var2_51 = Map().Insert(vdm_EXPR_dom__v, vdm_EXPR_rng__v);
                                {
                                  Map m1_58 = vdm_EXPR_m;
                                  Map m2_59 = var2_51;
                                  Set com_54 = m1_58.Dom();
                                  com_54.ImpIntersect(m2_59.Dom());
                                  int all_applies_55 = 1;
                                  Generic d_56;
                                  for (int bb_57 = com_54.First(d_56); bb_57 && all_applies_55; bb_57 = com_54.Next(d_56)) 
                                    all_applies_55 *= m1_58[d_56] == m2_59[d_56];
                                  if (all_applies_55) 
                                    m1_58.ImpOverride(m2_59);
                                  else 
                                    RunTime("EvalMapMerge Duplicates not equal");
                                  rhs_49 = m1_58;
                                }
                              }
                              vdm_EXPR_m = rhs_49;
                            }
                            else {
                              Bool cond_44;
                              {
                                Record var1_45;
                                Map tmp_m_47;
                                tmp_m_47 = vdm_EXPR_m;
                                var1_45 = (Record) (((Map) tmp_m_47)[vdm_EXPR_dom__v]);
                                cond_44 = (Bool) (!(var1_45 == vdm_EXPR_rng__v));
                              }
                              if (cond_44.GetValue()) 
                                RunTime("Can not evaluate an error statement");
                            }
                          }
                        }
                      }
                    }
                    else { RunTime("Can not evaluate an error statement"); }
                  }
                }
                vdm_EXPR_PopBlkEnv();
              }
              else 
                RunTime("Pattern did not match in set for loop");
            }
          }
          {
            Record rexpr_62(vdm_SEM_MAP, length_SEM_MAP);
            {
              rexpr_62 = Record(vdm_SEM_MAP, length_SEM_MAP);
              rexpr_62.SetField(1, vdm_EXPR_m);
            }
            return rexpr_62;
          }
        }
      }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalMapComprehensionExpr");
}

Record vdm_EXPR_EvalMapDomRestBy(Record var_1_1, Record var_2_2) {
  Set vdm_EXPR_op1__sv;
  Map vdm_EXPR_op2;
  bool succ_3 = true;
  {
    succ_3 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_SET == ((Record) var_1_1).GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= ((Record) var_1_1).Length(); i_5++) 
          e_l_4.ImpAppend(((Record) var_1_1).GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Set permI_6;
          permI_6 = (Set) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op1__sv = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  {
    succ_3 = false;
    if (var_2_2.IsRecord()) 
      if (vdm_SEM_MAP == ((Record) var_2_2).GetTag()) {
        Sequence e_l_7;
        for (int i_8 = 1; i_8 <= ((Record) var_2_2).Length(); i_8++) 
          e_l_7.ImpAppend(((Record) var_2_2).GetField(i_8));
        if (succ_3 = 1 == (Int) (e_l_7.Length())) {
          Map permI_9;
          permI_9 = (Map) (e_l_7.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op2 = permI_9;
            succ_3 = true;
          }
        }
      }
  }
  if (succ_3) {
    Record rexpr_10(vdm_SEM_MAP, length_SEM_MAP);
    {
      rexpr_10 = Record(vdm_SEM_MAP, length_SEM_MAP);
      Map tmpVar_11;
      {
        tmpVar_11 = vdm_EXPR_op2;
        {
          Map tmpMap_14;
          Set domM_15 = tmpVar_11.Dom();
          Generic elm_16;
          for (int bb_17 = domM_15.First(elm_16); bb_17; bb_17 = domM_15.Next(elm_16)) 
            if (!vdm_EXPR_op1__sv.InSet(elm_16)) 
              tmpMap_14.Insert(elm_16, tmpVar_11[elm_16]);
          tmpVar_11 = tmpMap_14;
        }
      }
      rexpr_10.SetField(1, tmpVar_11);
    }
    return rexpr_10;
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalMapDomRestBy");
}

Record vdm_EXPR_EvalMapDomRestTo(Record var_1_1, Record var_2_2) {
  Set vdm_EXPR_op1__sv;
  Map vdm_EXPR_op2;
  bool succ_3 = true;
  {
    succ_3 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_SET == ((Record) var_1_1).GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= ((Record) var_1_1).Length(); i_5++) 
          e_l_4.ImpAppend(((Record) var_1_1).GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Set permI_6;
          permI_6 = (Set) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op1__sv = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  {
    succ_3 = false;
    if (var_2_2.IsRecord()) 
      if (vdm_SEM_MAP == ((Record) var_2_2).GetTag()) {
        Sequence e_l_7;
        for (int i_8 = 1; i_8 <= ((Record) var_2_2).Length(); i_8++) 
          e_l_7.ImpAppend(((Record) var_2_2).GetField(i_8));
        if (succ_3 = 1 == (Int) (e_l_7.Length())) {
          Map permI_9;
          permI_9 = (Map) (e_l_7.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op2 = permI_9;
            succ_3 = true;
          }
        }
      }
  }
  if (succ_3) {
    Record rexpr_10(vdm_SEM_MAP, length_SEM_MAP);
    {
      rexpr_10 = Record(vdm_SEM_MAP, length_SEM_MAP);
      Map tmpVar_11;
      {
        tmpVar_11 = vdm_EXPR_op2;
        {
          Map tmpMap_14;
          Set domM_15 = tmpVar_11.Dom();
          Generic elm_16;
          for (int bb_17 = domM_15.First(elm_16); bb_17; bb_17 = domM_15.Next(elm_16)) 
            if (vdm_EXPR_op1__sv.InSet(elm_16)) 
              tmpMap_14.Insert(elm_16, tmpVar_11[elm_16]);
          tmpVar_11 = tmpMap_14;
        }
      }
      rexpr_10.SetField(1, tmpVar_11);
    }
    return rexpr_10;
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalMapDomRestTo");
}

Record vdm_EXPR_EvalMapEnumerationExpr(Record var_1_1) {
  Sequence vdm_EXPR_els__l;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_MapEnumerationExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 2 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_els__l = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Map vdm_EXPR_m;
    vdm_EXPR_m = Map();
    {
      Sequence sq_6;
      sq_6 = vdm_EXPR_els__l;
      Record vdm_EXPR_dom__e;
      Record vdm_EXPR_rng__e;
      bool succ_8;
      Generic tmpe_38;
      for (int i_37 = sq_6.First(tmpe_38); i_37; i_37 = sq_6.Next(tmpe_38)) {
        Record elem_7 = tmpe_38;
        {
          succ_8 = true;
          {
            succ_8 = false;
            if (elem_7.IsRecord()) 
              if (vdm_AS_Maplet == elem_7.GetTag()) {
                Sequence e_l_34;
                for (int i_35 = 1; i_35 <= elem_7.Length(); i_35++) 
                  e_l_34.ImpAppend(elem_7.GetField(i_35));
                if (succ_8 = 2 == (Int) (e_l_34.Length())) {
                  Record permI_36;
                  permI_36 = (Record) (e_l_34.Hd());
                  succ_8 = true;
                  {
                    vdm_EXPR_dom__e = permI_36;
                    succ_8 = true;
                  }
                  permI_36 = (Record) (e_l_34[2]);
                  if (succ_8) {
                    vdm_EXPR_rng__e = permI_36;
                    succ_8 = true;
                  }
                }
              }
          }
          if (succ_8) {
            Record vdm_EXPR_dom__v;
            vdm_EXPR_dom__v = vdm_EXPR_EvalExpr(vdm_EXPR_dom__e);
            Record vdm_EXPR_rng__v;
            vdm_EXPR_rng__v = vdm_EXPR_EvalExpr(vdm_EXPR_rng__e);
            {
              Bool cond_14;
{ cond_14 = !(Bool) (vdm_EXPR_m.Dom().InSet(vdm_EXPR_dom__v)); }
              if (cond_14.GetValue()) {
                Map rhs_23;
                {
                  Map var2_25;
                  var2_25 = Map().Insert(vdm_EXPR_dom__v, vdm_EXPR_rng__v);
                  {
                    Map m1_32 = vdm_EXPR_m;
                    Map m2_33 = var2_25;
                    Set com_28 = m1_32.Dom();
                    com_28.ImpIntersect(m2_33.Dom());
                    int all_applies_29 = 1;
                    Generic d_30;
                    for (int bb_31 = com_28.First(d_30); bb_31 && all_applies_29; bb_31 = com_28.Next(d_30)) 
                      all_applies_29 *= m1_32[d_30] == m2_33[d_30];
                    if (all_applies_29) 
                      m1_32.ImpOverride(m2_33);
                    else 
                      RunTime("EvalMapMerge Duplicates not equal");
                    rhs_23 = m1_32;
                  }
                }
                vdm_EXPR_m = rhs_23;
              }
              else {
                Bool cond_18;
                {
                  Record var1_19;
                  Map tmp_m_21;
                  tmp_m_21 = vdm_EXPR_m;
                  var1_19 = (Record) (((Map) tmp_m_21)[vdm_EXPR_dom__v]);
                  cond_18 = (Bool) (!(var1_19 == vdm_EXPR_rng__v));
                }
                if (cond_18.GetValue()) 
                  RunTime("Can not evaluate an error statement");
              }
            }
          }
          else 
            RunTime("Pattern did not match in sequence for loop");
        }
      }
    }
    {
      Record rexpr_39(vdm_SEM_MAP, length_SEM_MAP);
      {
        rexpr_39 = Record(vdm_SEM_MAP, length_SEM_MAP);
        rexpr_39.SetField(1, vdm_EXPR_m);
      }
      return rexpr_39;
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalMapEnumerationExpr");
}

Record vdm_EXPR_EvalMapInverseExpr(Record var_1_1) {
  Record vdm_EXPR_op;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_MapInverseExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 2 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_op = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    bool succ_6;
    Record tmpVal_7;
    tmpVal_7 = vdm_EXPR_EvalExpr(vdm_EXPR_op);
    Record vdm_EXPR_val__v;
    succ_6 = true;
    {
      vdm_EXPR_val__v = tmpVal_7;
      succ_6 = true;
    }
    if (!succ_6) 
      RunTime("Pattern match did not succeed in value definition");
    {
      Bool cond_9;
      {
        Record argTmp_10;
        argTmp_10 = vdm_EXPR_val__v;
        if (argTmp_10.IsRecord()) 
          cond_9 = vdm_SEM_MAP == argTmp_10.GetTag();
        else 
          cond_9 = false;
      }
      if (cond_9.GetValue()) {
        bool succ_11;
        Record tmpVal_12;
        tmpVal_12 = vdm_EXPR_val__v;
        Map vdm_EXPR_map__v;
        succ_11 = true;
        {
          succ_11 = false;
          if (tmpVal_12.IsRecord()) 
            if (vdm_SEM_MAP == ((Record) tmpVal_12).GetTag()) {
              Sequence e_l_13;
              for (int i_14 = 1; i_14 <= ((Record) tmpVal_12).Length(); i_14++) 
                e_l_13.ImpAppend(((Record) tmpVal_12).GetField(i_14));
              if (succ_11 = 1 == (Int) (e_l_13.Length())) {
                Map permI_15;
                permI_15 = (Map) (e_l_13.Hd());
                succ_11 = true;
                {
                  vdm_EXPR_map__v = permI_15;
                  succ_11 = true;
                }
              }
            }
        }
        if (!succ_11) 
          RunTime("Pattern match did not succeed in value definition");
        {
          Bool cond_16;
          {
            Int var1_17;
            Set unArg_19;
            unArg_19 = vdm_EXPR_map__v.Dom();
            var1_17 = (Int) (unArg_19.Card());
            Int var2_18;
            Set unArg_21;
            unArg_21 = vdm_EXPR_map__v.Rng();
            var2_18 = (Int) (unArg_21.Card());
            cond_16 = (Bool) (var1_17 == var2_18);
          }
          if (cond_16.GetValue()) {
            Record rexpr_23(vdm_SEM_MAP, length_SEM_MAP);
            {
              rexpr_23 = Record(vdm_SEM_MAP, length_SEM_MAP);
              Map tmpVar_24;
              {
                Map res_m_25;
                Record md_26;
                {
                  Sequence seq_lv_32;
                  bool succ_30;
                  Bool tsucc_33;
                  tsucc_33 = true;
                  {
                    Set tmpVar_v_31;
                    tmpVar_v_31 = vdm_EXPR_map__v.Dom();
{ seq_lv_32.ImpAppend(tmpVar_v_31); }
                  }
                  Set allComb_34 = GenAllComb(seq_lv_32);
                  Record vdm_EXPR_d__v;
                  Generic tmpe_44;
                  for (int bb_43 = allComb_34.First(tmpe_44); bb_43; bb_43 = allComb_34.Next(tmpe_44)) {
                    Sequence tmp_41 = tmpe_44;
                    {
                      if (succ_30 = 1 == (Int) (tmp_41.Length())) {
                        Record permI_42;
                        permI_42 = (Record) (tmp_41.Hd());
                        succ_30 = true;
                        {
                          vdm_EXPR_d__v = permI_42;
                          succ_30 = true;
                        }
                      }
                      if (succ_30) {
                        Map tmp_m_28;
                        tmp_m_28 = vdm_EXPR_map__v;
                        md_26 = (Record) (((Map) tmp_m_28)[vdm_EXPR_d__v]);
                        res_m_25.Insert(md_26, vdm_EXPR_d__v);
                      }
                    }
                  }
                }
                tmpVar_24 = res_m_25;
              }
              rexpr_23.SetField(1, tmpVar_24);
            }
            return rexpr_23;
          }
          else { RunTime("Can not evaluate an error statement"); }
        }
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalMapInverseExpr");
}

Record vdm_EXPR_EvalMapMerge(Record var_1_1, Record var_2_2) {
  Map vdm_EXPR_op1;
  Map vdm_EXPR_op2;
  bool succ_3 = true;
  {
    succ_3 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_MAP == ((Record) var_1_1).GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= ((Record) var_1_1).Length(); i_5++) 
          e_l_4.ImpAppend(((Record) var_1_1).GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Map permI_6;
          permI_6 = (Map) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op1 = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  {
    succ_3 = false;
    if (var_2_2.IsRecord()) 
      if (vdm_SEM_MAP == ((Record) var_2_2).GetTag()) {
        Sequence e_l_7;
        for (int i_8 = 1; i_8 <= ((Record) var_2_2).Length(); i_8++) 
          e_l_7.ImpAppend(((Record) var_2_2).GetField(i_8));
        if (succ_3 = 1 == (Int) (e_l_7.Length())) {
          Map permI_9;
          permI_9 = (Map) (e_l_7.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op2 = permI_9;
            succ_3 = true;
          }
        }
      }
  }
  if (succ_3) {
    Bool cond_10;
    {
      bool tmpQuant_11 = true;
      {
        Sequence seq_lv_14;
        bool succ_12;
        Bool tsucc_15;
        tsucc_15 = true;
        {
          Set tmpVar_v_13;
          {
            tmpVar_v_13 = vdm_EXPR_op1.Dom();
            tmpVar_v_13.ImpIntersect(vdm_EXPR_op2.Dom());
          }
{ seq_lv_14.ImpAppend(tmpVar_v_13); }
        }
        Set allComb_16 = GenAllComb(seq_lv_14);
        Bool pred_25;
        Record vdm_EXPR_d;
        Generic tmpe_35;
        for (int bb_34 = allComb_16.First(tmpe_35); bb_34 && tmpQuant_11; bb_34 = allComb_16.Next(tmpe_35)) {
          Sequence tmp_26 = tmpe_35;
          {
            if (succ_12 = 1 == (Int) (tmp_26.Length())) {
              Record permI_33;
              permI_33 = (Record) (tmp_26.Hd());
              succ_12 = true;
              {
                vdm_EXPR_d = permI_33;
                succ_12 = true;
              }
            }
            if (succ_12) {
              Record var1_27;
              Map tmp_m_29;
              tmp_m_29 = vdm_EXPR_op1;
              var1_27 = (Record) (((Map) tmp_m_29)[vdm_EXPR_d]);
              Record var2_28;
              Map tmp_m_31;
              tmp_m_31 = vdm_EXPR_op2;
              var2_28 = (Record) (((Map) tmp_m_31)[vdm_EXPR_d]);
              pred_25 = (Bool) (var1_27 == var2_28);
              if (pred_25.GetValue()) {}
              else 
                tmpQuant_11 = false;
            }
          }
        }
      }
      cond_10 = (Bool) tmpQuant_11;
    }
    if (cond_10.GetValue()) {
      Record rexpr_36(vdm_SEM_MAP, length_SEM_MAP);
      {
        rexpr_36 = Record(vdm_SEM_MAP, length_SEM_MAP);
        Map tmpVar_37;
        {
          Map m1_44 = vdm_EXPR_op1;
          Map m2_45 = vdm_EXPR_op2;
          Set com_40 = m1_44.Dom();
          com_40.ImpIntersect(m2_45.Dom());
          int all_applies_41 = 1;
          Generic d_42;
          for (int bb_43 = com_40.First(d_42); bb_43 && all_applies_41; bb_43 = com_40.Next(d_42)) 
            all_applies_41 *= m1_44[d_42] == m2_45[d_42];
          if (all_applies_41) 
            m1_44.ImpOverride(m2_45);
          else 
            RunTime("EvalMapMerge Duplicates not equal");
          tmpVar_37 = m1_44;
        }
        rexpr_36.SetField(1, tmpVar_37);
      }
      return rexpr_36;
    }
    else { RunTime("Can not evaluate an error statement"); }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalMapMerge");
}

Record vdm_EXPR_EvalMapOverrideExpr(Record var_1_1, Record var_2_2) {
  Map vdm_EXPR_op1;
  Map vdm_EXPR_op2;
  bool succ_3 = true;
  {
    succ_3 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_MAP == ((Record) var_1_1).GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= ((Record) var_1_1).Length(); i_5++) 
          e_l_4.ImpAppend(((Record) var_1_1).GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Map permI_6;
          permI_6 = (Map) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op1 = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  {
    succ_3 = false;
    if (var_2_2.IsRecord()) 
      if (vdm_SEM_MAP == ((Record) var_2_2).GetTag()) {
        Sequence e_l_7;
        for (int i_8 = 1; i_8 <= ((Record) var_2_2).Length(); i_8++) 
          e_l_7.ImpAppend(((Record) var_2_2).GetField(i_8));
        if (succ_3 = 1 == (Int) (e_l_7.Length())) {
          Map permI_9;
          permI_9 = (Map) (e_l_7.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op2 = permI_9;
            succ_3 = true;
          }
        }
      }
  }
  if (succ_3) {
    Record rexpr_10(vdm_SEM_MAP, length_SEM_MAP);
    {
      rexpr_10 = Record(vdm_SEM_MAP, length_SEM_MAP);
      Map tmpVar_11;
      {
        Map seqmap_12;
        seqmap_12 = vdm_EXPR_op1;
        Map modmap_13;
        modmap_13 = vdm_EXPR_op2;
        seqmap_12.ImpOverride(modmap_13);
        tmpVar_11 = seqmap_12;
      }
      rexpr_10.SetField(1, tmpVar_11);
    }
    return rexpr_10;
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalMapOverrideExpr");
}

Record vdm_EXPR_EvalMapRngRestBy(Record var_1_1, Record var_2_2) {
  Map vdm_EXPR_op1;
  Set vdm_EXPR_op2__sv;
  bool succ_3 = true;
  {
    succ_3 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_MAP == ((Record) var_1_1).GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= ((Record) var_1_1).Length(); i_5++) 
          e_l_4.ImpAppend(((Record) var_1_1).GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Map permI_6;
          permI_6 = (Map) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op1 = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  {
    succ_3 = false;
    if (var_2_2.IsRecord()) 
      if (vdm_SEM_SET == ((Record) var_2_2).GetTag()) {
        Sequence e_l_7;
        for (int i_8 = 1; i_8 <= ((Record) var_2_2).Length(); i_8++) 
          e_l_7.ImpAppend(((Record) var_2_2).GetField(i_8));
        if (succ_3 = 1 == (Int) (e_l_7.Length())) {
          Set permI_9;
          permI_9 = (Set) (e_l_7.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op2__sv = permI_9;
            succ_3 = true;
          }
        }
      }
  }
  if (succ_3) {
    Record rexpr_10(vdm_SEM_MAP, length_SEM_MAP);
    {
      rexpr_10 = Record(vdm_SEM_MAP, length_SEM_MAP);
      Map tmpVar_11;
      {
        tmpVar_11 = vdm_EXPR_op1;
        {
          Map tmpMap_14;
          Set domM_15 = tmpVar_11.Dom();
          Generic elm_16;
          for (int bb_17 = domM_15.First(elm_16); bb_17; bb_17 = domM_15.Next(elm_16)) 
            if (!vdm_EXPR_op2__sv.InSet(tmpVar_11[elm_16])) 
              tmpMap_14.Insert(elm_16, tmpVar_11[elm_16]);
          tmpVar_11 = tmpMap_14;
        }
      }
      rexpr_10.SetField(1, tmpVar_11);
    }
    return rexpr_10;
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalMapRngRestBy");
}

Record vdm_EXPR_EvalMapRngRestTo(Record var_1_1, Record var_2_2) {
  Map vdm_EXPR_op1;
  Set vdm_EXPR_op2__sv;
  bool succ_3 = true;
  {
    succ_3 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_MAP == ((Record) var_1_1).GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= ((Record) var_1_1).Length(); i_5++) 
          e_l_4.ImpAppend(((Record) var_1_1).GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Map permI_6;
          permI_6 = (Map) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op1 = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  {
    succ_3 = false;
    if (var_2_2.IsRecord()) 
      if (vdm_SEM_SET == ((Record) var_2_2).GetTag()) {
        Sequence e_l_7;
        for (int i_8 = 1; i_8 <= ((Record) var_2_2).Length(); i_8++) 
          e_l_7.ImpAppend(((Record) var_2_2).GetField(i_8));
        if (succ_3 = 1 == (Int) (e_l_7.Length())) {
          Set permI_9;
          permI_9 = (Set) (e_l_7.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op2__sv = permI_9;
            succ_3 = true;
          }
        }
      }
  }
  if (succ_3) {
    Record rexpr_10(vdm_SEM_MAP, length_SEM_MAP);
    {
      rexpr_10 = Record(vdm_SEM_MAP, length_SEM_MAP);
      Map tmpVar_11;
      {
        tmpVar_11 = vdm_EXPR_op1;
        {
          Map tmpMap_14;
          Set domM_15 = tmpVar_11.Dom();
          Generic elm_16;
          for (int bb_17 = domM_15.First(elm_16); bb_17; bb_17 = domM_15.Next(elm_16)) 
            if (vdm_EXPR_op2__sv.InSet(tmpVar_11[elm_16])) 
              tmpMap_14.Insert(elm_16, tmpVar_11[elm_16]);
          tmpVar_11 = tmpMap_14;
        }
      }
      rexpr_10.SetField(1, tmpVar_11);
    }
    return rexpr_10;
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalMapRngRestTo");
}

Record vdm_EXPR_EvalMapUnaryExpr(Generic vdm_EXPR_opr, Record vdm_EXPR_op__v) {
  Generic selRes_4;
  selRes_4 = vdm_EXPR_opr;
  bool succ_5 = true;
  {
    Quote tmpVal_6;
    tmpVal_6 = (Quote) "MAPDOM";
    succ_5 = ((Bool) (selRes_4 == tmpVal_6)).GetValue();
    if (succ_5) {
      Bool cond_7;
      {
        Record argTmp_8;
        argTmp_8 = vdm_EXPR_op__v;
        if (argTmp_8.IsRecord()) 
          cond_7 = vdm_SEM_MAP == argTmp_8.GetTag();
        else 
          cond_7 = false;
      }
      if (cond_7.GetValue()) {
        bool succ_9;
        Record tmpVal_10;
        tmpVal_10 = vdm_EXPR_op__v;
        Map vdm_EXPR_map__v;
        succ_9 = true;
        {
          succ_9 = false;
          if (tmpVal_10.IsRecord()) 
            if (vdm_SEM_MAP == ((Record) tmpVal_10).GetTag()) {
              Sequence e_l_11;
              for (int i_12 = 1; i_12 <= ((Record) tmpVal_10).Length(); i_12++) 
                e_l_11.ImpAppend(((Record) tmpVal_10).GetField(i_12));
              if (succ_9 = 1 == (Int) (e_l_11.Length())) {
                Map permI_13;
                permI_13 = (Map) (e_l_11.Hd());
                succ_9 = true;
                {
                  vdm_EXPR_map__v = permI_13;
                  succ_9 = true;
                }
              }
            }
        }
        if (!succ_9) 
          RunTime("Pattern match did not succeed in value definition");
        {
          Record rexpr_14(vdm_SEM_SET, length_SEM_SET);
          {
            rexpr_14 = Record(vdm_SEM_SET, length_SEM_SET);
            rexpr_14.SetField(1, vdm_EXPR_map__v.Dom());
          }
          return rexpr_14;
        }
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
  if (!succ_5) {
    Quote tmpVal_17;
    tmpVal_17 = (Quote) "MAPRNG";
    succ_5 = ((Bool) (selRes_4 == tmpVal_17)).GetValue();
    if (succ_5) {
      Bool cond_18;
      {
        Record argTmp_19;
        argTmp_19 = vdm_EXPR_op__v;
        if (argTmp_19.IsRecord()) 
          cond_18 = vdm_SEM_MAP == argTmp_19.GetTag();
        else 
          cond_18 = false;
      }
      if (cond_18.GetValue()) {
        bool succ_20;
        Record tmpVal_21;
        tmpVal_21 = vdm_EXPR_op__v;
        Map vdm_EXPR_map__v;
        succ_20 = true;
        {
          succ_20 = false;
          if (tmpVal_21.IsRecord()) 
            if (vdm_SEM_MAP == ((Record) tmpVal_21).GetTag()) {
              Sequence e_l_22;
              for (int i_23 = 1; i_23 <= ((Record) tmpVal_21).Length(); i_23++) 
                e_l_22.ImpAppend(((Record) tmpVal_21).GetField(i_23));
              if (succ_20 = 1 == (Int) (e_l_22.Length())) {
                Map permI_24;
                permI_24 = (Map) (e_l_22.Hd());
                succ_20 = true;
                {
                  vdm_EXPR_map__v = permI_24;
                  succ_20 = true;
                }
              }
            }
        }
        if (!succ_20) 
          RunTime("Pattern match did not succeed in value definition");
        {
          Record rexpr_25(vdm_SEM_SET, length_SEM_SET);
          {
            rexpr_25 = Record(vdm_SEM_SET, length_SEM_SET);
            rexpr_25.SetField(1, vdm_EXPR_map__v.Rng());
          }
          return rexpr_25;
        }
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
  if (!succ_5) {
    Quote tmpVal_28;
    tmpVal_28 = (Quote) "MAPDISTRMERGE";
    succ_5 = ((Bool) (selRes_4 == tmpVal_28)).GetValue();
    if (succ_5) {
      Bool cond_29;
      {
        Record argTmp_30;
        argTmp_30 = vdm_EXPR_op__v;
        if (argTmp_30.IsRecord()) 
          cond_29 = vdm_SEM_SET == argTmp_30.GetTag();
        else 
          cond_29 = false;
      }
      if (cond_29.GetValue()) {
        bool succ_31;
        Record tmpVal_32;
        tmpVal_32 = vdm_EXPR_op__v;
        Set vdm_EXPR_op__sv;
        succ_31 = true;
        {
          succ_31 = false;
          if (tmpVal_32.IsRecord()) 
            if (vdm_SEM_SET == ((Record) tmpVal_32).GetTag()) {
              Sequence e_l_33;
              for (int i_34 = 1; i_34 <= ((Record) tmpVal_32).Length(); i_34++) 
                e_l_33.ImpAppend(((Record) tmpVal_32).GetField(i_34));
              if (succ_31 = 1 == (Int) (e_l_33.Length())) {
                Set permI_35;
                permI_35 = (Set) (e_l_33.Hd());
                succ_31 = true;
                {
                  vdm_EXPR_op__sv = permI_35;
                  succ_31 = true;
                }
              }
            }
        }
        if (!succ_31) 
          RunTime("Pattern match did not succeed in value definition");
        {
          Bool cond_36;
          {
            bool tmpQuant_37 = true;
            {
              Sequence seq_lv_40;
              bool succ_38;
              Bool tsucc_41;
              tsucc_41 = true;
              {
                Set tmpVar_v_39;
                tmpVar_v_39 = vdm_EXPR_op__sv;
{ seq_lv_40.ImpAppend(tmpVar_v_39); }
              }
              Set allComb_42 = GenAllComb(seq_lv_40);
              Bool pred_47;
              Record vdm_EXPR_elm__v;
              Generic tmpe_52;
              for (int bb_51 = allComb_42.First(tmpe_52); bb_51 && tmpQuant_37; bb_51 = allComb_42.Next(tmpe_52)) {
                Sequence tmp_48 = tmpe_52;
                {
                  if (succ_38 = 1 == (Int) (tmp_48.Length())) {
                    Record permI_50;
                    permI_50 = (Record) (tmp_48.Hd());
                    succ_38 = true;
                    {
                      vdm_EXPR_elm__v = permI_50;
                      succ_38 = true;
                    }
                  }
                  if (succ_38) {
                    Record argTmp_49;
                    argTmp_49 = vdm_EXPR_elm__v;
                    if (argTmp_49.IsRecord()) 
                      pred_47 = vdm_SEM_MAP == argTmp_49.GetTag();
                    else 
                      pred_47 = false;
                    if (pred_47.GetValue()) {}
                    else 
                      tmpQuant_37 = false;
                  }
                }
              }
            }
            cond_36 = (Bool) tmpQuant_37;
          }
          if (cond_36.GetValue()) {
            Set vdm_EXPR_mapsops;
            Set res_s_55;
            {
              Sequence seq_lv_64;
              bool succ_62;
              Bool tsucc_65;
              tsucc_65 = true;
              {
                Set tmpVar_v_63;
                tmpVar_v_63 = vdm_EXPR_op__sv;
{ seq_lv_64.ImpAppend(tmpVar_v_63); }
              }
              Set allComb_66 = GenAllComb(seq_lv_64);
              Record vdm_EXPR_elm__v;
              Generic tmpe_75;
              for (int bb_74 = allComb_66.First(tmpe_75); bb_74; bb_74 = allComb_66.Next(tmpe_75)) {
                Sequence tmp_72 = tmpe_75;
                {
                  if (succ_62 = 1 == (Int) (tmp_72.Length())) {
                    Record permI_73;
                    permI_73 = (Record) (tmp_72.Hd());
                    succ_62 = true;
                    {
                      vdm_EXPR_elm__v = permI_73;
                      succ_62 = true;
                    }
                  }
                  if (succ_62) {
                    Map elem_56;
                    {
                      bool succ_57;
                      Record tmpVal_58;
                      tmpVal_58 = vdm_EXPR_elm__v;
                      Map vdm_EXPR_elm;
                      succ_57 = true;
                      {
                        succ_57 = false;
                        if (tmpVal_58.IsRecord()) 
                          if (vdm_SEM_MAP == ((Record) tmpVal_58).GetTag()) {
                            Sequence e_l_59;
                            for (int i_60 = 1; i_60 <= ((Record) tmpVal_58).Length(); i_60++) 
                              e_l_59.ImpAppend(((Record) tmpVal_58).GetField(i_60));
                            if (succ_57 = 1 == (Int) (e_l_59.Length())) {
                              Map permI_61;
                              permI_61 = (Map) (e_l_59.Hd());
                              succ_57 = true;
                              {
                                vdm_EXPR_elm = permI_61;
                                succ_57 = true;
                              }
                            }
                          }
                      }
                      if (!succ_57) 
                        RunTime("Pattern match did not succeed in value definition");
                      elem_56 = vdm_EXPR_elm;
                    }
                    res_s_55.Insert(elem_56);
                  }
                }
              }
            }
            vdm_EXPR_mapsops = res_s_55;
            {
              Bool cond_76;
              {
                bool tmpQuant_77 = true;
                {
                  Sequence seq_lv_80;
                  bool succ_78;
                  Bool tsucc_81;
                  tsucc_81 = true;
                  {
                    Set tmpVar_v_79;
                    tmpVar_v_79 = vdm_EXPR_mapsops;
                    {
                      seq_lv_80.ImpAppend(tmpVar_v_79);
                      seq_lv_80.ImpAppend(tmpVar_v_79);
                    }
                  }
                  Set allComb_82 = GenAllComb(seq_lv_80);
                  Bool pred_90;
                  Map vdm_EXPR_m1;
                  Map vdm_EXPR_m2;
                  Generic tmpe_119;
                  for (int bb_118 = allComb_82.First(tmpe_119); bb_118 && tmpQuant_77; bb_118 = allComb_82.Next(tmpe_119)) {
                    Sequence tmp_91 = tmpe_119;
                    {
                      if (succ_78 = 2 == (Int) (tmp_91.Length())) {
                        Map permI_117;
                        permI_117 = (Map) (tmp_91.Hd());
                        succ_78 = true;
                        {
                          vdm_EXPR_m1 = permI_117;
                          succ_78 = true;
                        }
                        permI_117 = (Map) (tmp_91[2]);
                        if (succ_78) {
                          vdm_EXPR_m2 = permI_117;
                          succ_78 = true;
                        }
                      }
                      if (succ_78) {
                        bool tmpQuant_92 = true;
                        {
                          Sequence seq_lv_95;
                          bool succ_93;
                          Bool tsucc_96;
                          tsucc_96 = true;
                          {
                            Set tmpVar_v_94;
                            {
                              tmpVar_v_94 = vdm_EXPR_m1.Dom();
                              tmpVar_v_94.ImpIntersect(vdm_EXPR_m2.Dom());
                            }
{ seq_lv_95.ImpAppend(tmpVar_v_94); }
                          }
                          Set allComb_97 = GenAllComb(seq_lv_95);
                          Bool pred_106;
                          Record vdm_EXPR_d;
                          Generic tmpe_116;
                          for (int bb_115 = allComb_97.First(tmpe_116); bb_115 && tmpQuant_92; bb_115 = allComb_97.Next(tmpe_116)) {
                            Sequence tmp_107 = tmpe_116;
                            {
                              if (succ_93 = 1 == (Int) (tmp_107.Length())) {
                                Record permI_114;
                                permI_114 = (Record) (tmp_107.Hd());
                                succ_93 = true;
                                {
                                  vdm_EXPR_d = permI_114;
                                  succ_93 = true;
                                }
                              }
                              if (succ_93) {
                                Record var1_108;
                                Map tmp_m_110;
                                tmp_m_110 = vdm_EXPR_m1;
                                var1_108 = (Record) (((Map) tmp_m_110)[vdm_EXPR_d]);
                                Record var2_109;
                                Map tmp_m_112;
                                tmp_m_112 = vdm_EXPR_m2;
                                var2_109 = (Record) (((Map) tmp_m_112)[vdm_EXPR_d]);
                                pred_106 = (Bool) (var1_108 == var2_109);
                                if (pred_106.GetValue()) {}
                                else 
                                  tmpQuant_92 = false;
                              }
                            }
                          }
                        }
                        pred_90 = (Bool) tmpQuant_92;
                        if (pred_90.GetValue()) {}
                        else 
                          tmpQuant_77 = false;
                      }
                    }
                  }
                }
                cond_76 = (Bool) tmpQuant_77;
              }
              if (cond_76.GetValue()) {
                Record rexpr_120(vdm_SEM_MAP, length_SEM_MAP);
                {
                  rexpr_120 = Record(vdm_SEM_MAP, length_SEM_MAP);
                  Map tmpVar_121;
                  {
                    Map rdmmap_123;
                    Generic tmpe_132;
                    for (int bb_131 = vdm_EXPR_mapsops.First(tmpe_132); bb_131; bb_131 = vdm_EXPR_mapsops.Next(tmpe_132)) {
                      Map e_124 = tmpe_132;
                      {
                        Set eq_dom_126 = rdmmap_123.Dom();
                        eq_dom_126.ImpIntersect(e_124.Dom());
                        bool all_dup_eq_127 = true;
                        Generic tmpe_130;
                        for (int bb_129 = eq_dom_126.First(tmpe_130); bb_129 && all_dup_eq_127; bb_129 = eq_dom_126.Next(tmpe_130)) {
                          Record d_128 = tmpe_130;
{ all_dup_eq_127 = (Record) (rdmmap_123[d_128]) == (Record) (e_124[d_128]); }
                        }
                        if (!all_dup_eq_127) 
                          RunTime("Duplicate entries for 'merge' had different values");
                        rdmmap_123.ImpOverride(e_124);
                      }
                    }
                    tmpVar_121 = rdmmap_123;
                  }
                  rexpr_120.SetField(1, tmpVar_121);
                }
                return rexpr_120;
              }
              else { RunTime("Can not evaluate an error statement"); }
            }
          }
          else { RunTime("Can not evaluate an error statement"); }
        }
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
}

Record vdm_EXPR_EvalNotInSet(Record var_1_1, Record var_2_2) {
  Record vdm_EXPR_op1__v;
  Set vdm_EXPR_op2__sv;
  bool succ_3 = true;
  {
    vdm_EXPR_op1__v = var_1_1;
    succ_3 = true;
  }
  {
    succ_3 = false;
    if (var_2_2.IsRecord()) 
      if (vdm_SEM_SET == ((Record) var_2_2).GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= ((Record) var_2_2).Length(); i_5++) 
          e_l_4.ImpAppend(((Record) var_2_2).GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Set permI_6;
          permI_6 = (Set) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op2__sv = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  if (succ_3) {
    Bool vdm_EXPR_b;
    vdm_EXPR_b = !(Bool) (vdm_EXPR_op2__sv.InSet(vdm_EXPR_op1__v));
    {
      Record rexpr_11(vdm_SEM_BOOL, length_SEM_BOOL);
      {
        rexpr_11 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
        rexpr_11.SetField(1, vdm_EXPR_b);
      }
      return rexpr_11;
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalNotInSet");
}

Record vdm_EXPR_EvalNumBinOp(Record var_1_1, Generic var_2_2, Record var_3_3) {
  Real vdm_EXPR_n1;
  Real vdm_EXPR_n2;
  Generic vdm_EXPR_opr;
  bool succ_4 = true;
  {
    succ_4 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_NUM == ((Record) var_1_1).GetTag()) {
        Sequence e_l_5;
        for (int i_6 = 1; i_6 <= ((Record) var_1_1).Length(); i_6++) 
          e_l_5.ImpAppend(((Record) var_1_1).GetField(i_6));
        if (succ_4 = 1 == (Int) (e_l_5.Length())) {
          Real permI_7;
          permI_7 = (Real) (e_l_5.Hd());
          succ_4 = true;
          {
            vdm_EXPR_n1 = permI_7;
            succ_4 = true;
          }
        }
      }
  }
  {
    vdm_EXPR_opr = var_2_2;
    succ_4 = true;
  }
  {
    succ_4 = false;
    if (var_3_3.IsRecord()) 
      if (vdm_SEM_NUM == ((Record) var_3_3).GetTag()) {
        Sequence e_l_8;
        for (int i_9 = 1; i_9 <= ((Record) var_3_3).Length(); i_9++) 
          e_l_8.ImpAppend(((Record) var_3_3).GetField(i_9));
        if (succ_4 = 1 == (Int) (e_l_8.Length())) {
          Real permI_10;
          permI_10 = (Real) (e_l_8.Hd());
          succ_4 = true;
          {
            vdm_EXPR_n2 = permI_10;
            succ_4 = true;
          }
        }
      }
  }
  if (succ_4) {
    Generic selRes_11;
    selRes_11 = vdm_EXPR_opr;
    bool succ_12 = true;
    {
      Quote tmpVal_13;
      tmpVal_13 = (Quote) "NUMPLUS";
      succ_12 = ((Bool) (selRes_11 == tmpVal_13)).GetValue();
      if (succ_12) {
        Record rexpr_14(vdm_SEM_NUM, length_SEM_NUM);
        {
          rexpr_14 = Record(vdm_SEM_NUM, length_SEM_NUM);
          rexpr_14.SetField(1, vdm_EXPR_n1 + vdm_EXPR_n2);
        }
        return rexpr_14;
      }
    }
    if (!succ_12) {
      Quote tmpVal_18;
      tmpVal_18 = (Quote) "NUMMINUS";
      succ_12 = ((Bool) (selRes_11 == tmpVal_18)).GetValue();
      if (succ_12) {
        Record rexpr_19(vdm_SEM_NUM, length_SEM_NUM);
        {
          rexpr_19 = Record(vdm_SEM_NUM, length_SEM_NUM);
          rexpr_19.SetField(1, vdm_EXPR_n1 - vdm_EXPR_n2);
        }
        return rexpr_19;
      }
    }
    if (!succ_12) {
      Quote tmpVal_23;
      tmpVal_23 = (Quote) "NUMMULT";
      succ_12 = ((Bool) (selRes_11 == tmpVal_23)).GetValue();
      if (succ_12) {
        Record rexpr_24(vdm_SEM_NUM, length_SEM_NUM);
        {
          rexpr_24 = Record(vdm_SEM_NUM, length_SEM_NUM);
          rexpr_24.SetField(1, vdm_EXPR_n1 * vdm_EXPR_n2);
        }
        return rexpr_24;
      }
    }
    if (!succ_12) {
      Quote tmpVal_28;
      tmpVal_28 = (Quote) "NUMDIV";
      succ_12 = ((Bool) (selRes_11 == tmpVal_28)).GetValue();
      if (succ_12) {
        Bool cond_29;
        cond_29 = (Bool) (vdm_EXPR_n2 == (Int) 0);
        if (cond_29.GetValue()) 
          RunTime("Can not evaluate an error statement");
        else {
          Record rexpr_32(vdm_SEM_NUM, length_SEM_NUM);
          {
            rexpr_32 = Record(vdm_SEM_NUM, length_SEM_NUM);
            rexpr_32.SetField(1, vdm_EXPR_n1 / vdm_EXPR_n2);
          }
          return rexpr_32;
        }
      }
    }
    if (!succ_12) {
      Quote tmpVal_36;
      tmpVal_36 = (Quote) "NUMEXP";
      succ_12 = ((Bool) (selRes_11 == tmpVal_36)).GetValue();
      if (succ_12) {
        Bool cond_37;
        {
          Bool var1_38;
          Real argTmp_40;
          argTmp_40 = vdm_EXPR_n2;
          var1_38 = (Bool) (IsInteger(argTmp_40) || argTmp_40.IsReal());
          if ((cond_37 = var1_38).GetValue()) {
            Bool var2_39;
            Bool var1_41;
            if (!(var1_41 = (Bool) ((vdm_EXPR_n1.GetValue()) > (((Int) 0).GetValue()))).GetValue()) {
              Bool var2_44;
              if ((var2_44 = (Bool) (vdm_EXPR_n1 == (Int) 0)).GetValue()) { var2_44 = (Bool) ((vdm_EXPR_n2.GetValue()) > (((Int) 0).GetValue())); }
              var1_41 = var2_44;
            }
            if (!(var2_39 = var1_41).GetValue()) {
              Bool var2_42;
              if ((var2_42 = (Bool) ((vdm_EXPR_n1.GetValue()) < (((Int) 0).GetValue()))).GetValue()) {
                Bool var2_54;
                Real argTmp_57;
                argTmp_57 = vdm_EXPR_n2;
                var2_54 = (Bool) (IsInteger(argTmp_57));
                var2_42 = var2_54;
              }
              var2_39 = var2_42;
            }
            cond_37 = var2_39;
          }
        }
        if (cond_37.GetValue()) {
          Record rexpr_58(vdm_SEM_NUM, length_SEM_NUM);
          {
            rexpr_58 = Record(vdm_SEM_NUM, length_SEM_NUM);
            Real tmpVar_59;
{ tmpVar_59 = vdm_EXPR_n1.Exp(vdm_EXPR_n2); }
            rexpr_58.SetField(1, tmpVar_59);
          }
          return rexpr_58;
        }
      }
    }
    if (!succ_12) {
      Quote tmpVal_62;
      tmpVal_62 = (Quote) "NUMGE";
      succ_12 = ((Bool) (selRes_11 == tmpVal_62)).GetValue();
      if (succ_12) {
        Record rexpr_63(vdm_SEM_BOOL, length_SEM_BOOL);
        {
          rexpr_63 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
          rexpr_63.SetField(1, (Bool) ((vdm_EXPR_n1.GetValue()) >= (vdm_EXPR_n2.GetValue())));
        }
        return rexpr_63;
      }
    }
    if (!succ_12) {
      Quote tmpVal_67;
      tmpVal_67 = (Quote) "NUMGT";
      succ_12 = ((Bool) (selRes_11 == tmpVal_67)).GetValue();
      if (succ_12) {
        Record rexpr_68(vdm_SEM_BOOL, length_SEM_BOOL);
        {
          rexpr_68 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
          rexpr_68.SetField(1, (Bool) ((vdm_EXPR_n1.GetValue()) > (vdm_EXPR_n2.GetValue())));
        }
        return rexpr_68;
      }
    }
    if (!succ_12) {
      Quote tmpVal_72;
      tmpVal_72 = (Quote) "NUMLE";
      succ_12 = ((Bool) (selRes_11 == tmpVal_72)).GetValue();
      if (succ_12) {
        Record rexpr_73(vdm_SEM_BOOL, length_SEM_BOOL);
        {
          rexpr_73 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
          rexpr_73.SetField(1, (Bool) ((vdm_EXPR_n1.GetValue()) <= (vdm_EXPR_n2.GetValue())));
        }
        return rexpr_73;
      }
    }
    if (!succ_12) {
      Quote tmpVal_77;
      tmpVal_77 = (Quote) "NUMLT";
      succ_12 = ((Bool) (selRes_11 == tmpVal_77)).GetValue();
      if (succ_12) {
        Record rexpr_78(vdm_SEM_BOOL, length_SEM_BOOL);
        {
          rexpr_78 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
          rexpr_78.SetField(1, (Bool) ((vdm_EXPR_n1.GetValue()) < (vdm_EXPR_n2.GetValue())));
        }
        return rexpr_78;
      }
    }
    if (!succ_12) 
      RunTime("Can not evaluate an error statement");
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalNumBinOp");
}

Record vdm_EXPR_EvalNumBinaryExpr(Record vdm_EXPR_op1__v, Generic vdm_EXPR_opr, Record vdm_EXPR_op2__v) {
  Bool cond_5;
  {
    Bool var1_6;
    Record argTmp_8;
    argTmp_8 = vdm_EXPR_op1__v;
    if (argTmp_8.IsRecord()) 
      var1_6 = vdm_SEM_NUM == argTmp_8.GetTag();
    else 
      var1_6 = false;
    if ((cond_5 = var1_6).GetValue()) {
      Bool var2_7;
      Record argTmp_9;
      argTmp_9 = vdm_EXPR_op2__v;
      if (argTmp_9.IsRecord()) 
        var2_7 = vdm_SEM_NUM == argTmp_9.GetTag();
      else 
        var2_7 = false;
      cond_5 = var2_7;
    }
  }
  if (cond_5.GetValue()) {
    Generic selRes_10;
    selRes_10 = vdm_EXPR_opr;
    bool succ_11 = true;
    {
      Quote tmpVal_12;
      tmpVal_12 = (Quote) "NUMPLUS";
      succ_11 = ((Bool) (selRes_10 == tmpVal_12)).GetValue();
      if (!succ_11) {
        Quote tmpVal_13;
        tmpVal_13 = (Quote) "NUMMINUS";
        succ_11 = ((Bool) (selRes_10 == tmpVal_13)).GetValue();
      }
      if (!succ_11) {
        Quote tmpVal_14;
        tmpVal_14 = (Quote) "NUMMULT";
        succ_11 = ((Bool) (selRes_10 == tmpVal_14)).GetValue();
      }
      if (!succ_11) {
        Quote tmpVal_15;
        tmpVal_15 = (Quote) "NUMDIV";
        succ_11 = ((Bool) (selRes_10 == tmpVal_15)).GetValue();
      }
      if (!succ_11) {
        Quote tmpVal_16;
        tmpVal_16 = (Quote) "NUMGE";
        succ_11 = ((Bool) (selRes_10 == tmpVal_16)).GetValue();
      }
      if (!succ_11) {
        Quote tmpVal_17;
        tmpVal_17 = (Quote) "NUMGT";
        succ_11 = ((Bool) (selRes_10 == tmpVal_17)).GetValue();
      }
      if (!succ_11) {
        Quote tmpVal_18;
        tmpVal_18 = (Quote) "NUMLT";
        succ_11 = ((Bool) (selRes_10 == tmpVal_18)).GetValue();
      }
      if (!succ_11) {
        Quote tmpVal_19;
        tmpVal_19 = (Quote) "NUMLE";
        succ_11 = ((Bool) (selRes_10 == tmpVal_19)).GetValue();
      }
      if (succ_11) {
        Record tmpVar_20;
        tmpVar_20 = vdm_EXPR_op1__v;
        Generic tmpVar_21;
        tmpVar_21 = vdm_EXPR_opr;
        Record tmpVar_22;
        tmpVar_22 = vdm_EXPR_op2__v;
        return vdm_EXPR_EvalNumBinOp(tmpVar_20, tmpVar_21, tmpVar_22);
      }
    }
    if (!succ_11) {
      Quote tmpVal_23;
      tmpVal_23 = (Quote) "INTDIV";
      succ_11 = ((Bool) (selRes_10 == tmpVal_23)).GetValue();
      if (!succ_11) {
        Quote tmpVal_24;
        tmpVal_24 = (Quote) "NUMREM";
        succ_11 = ((Bool) (selRes_10 == tmpVal_24)).GetValue();
      }
      if (succ_11) {
        Bool cond_25;
{ if ((cond_25 = vdm_EXPR_IsInt(vdm_EXPR_op1__v)).GetValue()) { cond_25 = vdm_EXPR_IsInt(vdm_EXPR_op2__v); } }
        if (cond_25.GetValue()) {
          Generic selRes_30;
          selRes_30 = vdm_EXPR_opr;
          bool succ_31 = true;
          {
            Quote tmpVal_32;
            tmpVal_32 = (Quote) "INTDIV";
            succ_31 = ((Bool) (selRes_30 == tmpVal_32)).GetValue();
            if (succ_31) {
              Record tmpVar_33;
              tmpVar_33 = vdm_EXPR_op1__v;
              Record tmpVar_34;
              tmpVar_34 = vdm_EXPR_op2__v;
              return vdm_EXPR_EvalIntDiv(tmpVar_33, tmpVar_34);
            }
          }
          if (!succ_31) {
            Quote tmpVal_35;
            tmpVal_35 = (Quote) "NUMREM";
            succ_31 = ((Bool) (selRes_30 == tmpVal_35)).GetValue();
            if (succ_31) {
              Record tmpVar_36;
              tmpVar_36 = vdm_EXPR_op1__v;
              Record tmpVar_37;
              tmpVar_37 = vdm_EXPR_op2__v;
              return vdm_EXPR_EvalNumRem(tmpVar_36, tmpVar_37);
            }
          }
        }
        else { RunTime("Can not evaluate an error statement"); }
      }
    }
    if (!succ_11) {
      Quote tmpVal_38;
      tmpVal_38 = (Quote) "NUMMOD";
      succ_11 = ((Bool) (selRes_10 == tmpVal_38)).GetValue();
      if (succ_11) {
        Bool cond_39;
{ if ((cond_39 = vdm_EXPR_IsInt(vdm_EXPR_op1__v)).GetValue()) { cond_39 = vdm_EXPR_IsInt(vdm_EXPR_op2__v); } }
        if (cond_39.GetValue()) {
          Record tmpVar_44;
          tmpVar_44 = vdm_EXPR_op1__v;
          Record tmpVar_45;
          tmpVar_45 = vdm_EXPR_op2__v;
          return vdm_EXPR_EvalNumMod(tmpVar_44, tmpVar_45);
        }
        else { RunTime("Can not evaluate an error statement"); }
      }
    }
  }
  else { RunTime("Can not evaluate an error statement"); }
}

Record vdm_EXPR_EvalNumMod(Record var_1_1, Record var_2_2) {
  Real vdm_EXPR_n1;
  Real vdm_EXPR_n2;
  bool succ_3 = true;
  {
    succ_3 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_NUM == ((Record) var_1_1).GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= ((Record) var_1_1).Length(); i_5++) 
          e_l_4.ImpAppend(((Record) var_1_1).GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Real permI_6;
          permI_6 = (Real) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_n1 = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  {
    succ_3 = false;
    if (var_2_2.IsRecord()) 
      if (vdm_SEM_NUM == ((Record) var_2_2).GetTag()) {
        Sequence e_l_7;
        for (int i_8 = 1; i_8 <= ((Record) var_2_2).Length(); i_8++) 
          e_l_7.ImpAppend(((Record) var_2_2).GetField(i_8));
        if (succ_3 = 1 == (Int) (e_l_7.Length())) {
          Real permI_9;
          permI_9 = (Real) (e_l_7.Hd());
          succ_3 = true;
          {
            vdm_EXPR_n2 = permI_9;
            succ_3 = true;
          }
        }
      }
  }
  if (succ_3) {
    Bool cond_10;
    {
      Bool var1_11;
      Real argTmp_13;
      argTmp_13 = vdm_EXPR_n1;
      var1_11 = (Bool) (IsInteger(argTmp_13));
      if ((cond_10 = var1_11).GetValue()) {
        Bool var2_12;
        Real argTmp_14;
        argTmp_14 = vdm_EXPR_n2;
        var2_12 = (Bool) (IsInteger(argTmp_14));
        cond_10 = var2_12;
      }
    }
    if (cond_10.GetValue()) {
      Bool cond_15;
      cond_15 = (Bool) (!(vdm_EXPR_n2 == (Int) 0));
      if (cond_15.GetValue()) {
        Record rexpr_18(vdm_SEM_NUM, length_SEM_NUM);
        {
          rexpr_18 = Record(vdm_SEM_NUM, length_SEM_NUM);
          Real tmpVar_19;
          {
            Real var2_21;
            Int var2_23;
            if ((vdm_EXPR_n1 / vdm_EXPR_n2).IsReal()) {
              double tmp_27 = ((Real) (vdm_EXPR_n1 / vdm_EXPR_n2)).GetValue();
              var2_23 = (Int) ((int) (floor(tmp_27)));
            }
            else 
              var2_23 = vdm_EXPR_n1 / vdm_EXPR_n2;
            var2_21 = vdm_EXPR_n2 * var2_23;
            tmpVar_19 = vdm_EXPR_n1 - var2_21;
          }
          rexpr_18.SetField(1, tmpVar_19);
        }
        return rexpr_18;
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
    else { RunTime("Can not evaluate an error statement"); }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalNumMod");
}

Record vdm_EXPR_EvalNumRem(Record var_1_1, Record var_2_2) {
  Real vdm_EXPR_n1;
  Real vdm_EXPR_n2;
  bool succ_3 = true;
  {
    succ_3 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_NUM == ((Record) var_1_1).GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= ((Record) var_1_1).Length(); i_5++) 
          e_l_4.ImpAppend(((Record) var_1_1).GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Real permI_6;
          permI_6 = (Real) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_n1 = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  {
    succ_3 = false;
    if (var_2_2.IsRecord()) 
      if (vdm_SEM_NUM == ((Record) var_2_2).GetTag()) {
        Sequence e_l_7;
        for (int i_8 = 1; i_8 <= ((Record) var_2_2).Length(); i_8++) 
          e_l_7.ImpAppend(((Record) var_2_2).GetField(i_8));
        if (succ_3 = 1 == (Int) (e_l_7.Length())) {
          Real permI_9;
          permI_9 = (Real) (e_l_7.Hd());
          succ_3 = true;
          {
            vdm_EXPR_n2 = permI_9;
            succ_3 = true;
          }
        }
      }
  }
  if (succ_3) {
    Bool cond_10;
    {
      Bool var1_11;
      Real argTmp_13;
      argTmp_13 = vdm_EXPR_n1;
      var1_11 = (Bool) (IsInteger(argTmp_13));
      if ((cond_10 = var1_11).GetValue()) {
        Bool var2_12;
        Real argTmp_14;
        argTmp_14 = vdm_EXPR_n2;
        var2_12 = (Bool) (IsInteger(argTmp_14));
        cond_10 = var2_12;
      }
    }
    if (cond_10.GetValue()) {
      Bool cond_15;
      cond_15 = (Bool) (!(vdm_EXPR_n2 == (Int) 0));
      if (cond_15.GetValue()) {
        Record rexpr_18(vdm_SEM_NUM, length_SEM_NUM);
        {
          rexpr_18 = Record(vdm_SEM_NUM, length_SEM_NUM);
          rexpr_18.SetField(1, (Int) ((Int) vdm_EXPR_n1 % (Int) vdm_EXPR_n2));
        }
        return rexpr_18;
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
    else { RunTime("Can not evaluate an error statement"); }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalNumRem");
}

Record vdm_EXPR_EvalNumUnaryExpr(Generic vdm_EXPR_opr, Record vdm_EXPR_op__v) {
  Bool cond_4;
  {
    Record argTmp_5;
    argTmp_5 = vdm_EXPR_op__v;
    if (argTmp_5.IsRecord()) 
      cond_4 = vdm_SEM_NUM == argTmp_5.GetTag();
    else 
      cond_4 = false;
  }
  if (cond_4.GetValue()) {
    Generic selRes_6;
    selRes_6 = vdm_EXPR_opr;
    bool succ_7 = true;
    {
      Quote tmpVal_8;
      tmpVal_8 = (Quote) "NUMPLUS";
      succ_7 = ((Bool) (selRes_6 == tmpVal_8)).GetValue();
      if (!succ_7) {
        Quote tmpVal_9;
        tmpVal_9 = (Quote) "NUMMINUS";
        succ_7 = ((Bool) (selRes_6 == tmpVal_9)).GetValue();
      }
      if (!succ_7) {
        Quote tmpVal_10;
        tmpVal_10 = (Quote) "NUMABS";
        succ_7 = ((Bool) (selRes_6 == tmpVal_10)).GetValue();
      }
      if (succ_7) {
        Generic tmpVar_11;
        tmpVar_11 = vdm_EXPR_opr;
        Record tmpVar_12;
        tmpVar_12 = vdm_EXPR_op__v;
        return vdm_EXPR_EvalPlusMinusAbs(tmpVar_11, tmpVar_12);
      }
    }
    if (!succ_7) {
      Quote tmpVal_13;
      tmpVal_13 = (Quote) "FLOOR";
      succ_7 = ((Bool) (selRes_6 == tmpVal_13)).GetValue();
      if (succ_7) {
        Record tmpVar_14;
        tmpVar_14 = vdm_EXPR_op__v;
        return vdm_EXPR_EvalFloor(tmpVar_14);
      }
    }
  }
  else { RunTime("Can not evaluate an error statement"); }
}

Record vdm_EXPR_EvalPlusMinusAbs(Generic var_1_1, Record var_2_2) {
  Generic vdm_EXPR_opr;
  Real vdm_EXPR_tmp;
  bool succ_3 = true;
  {
    vdm_EXPR_opr = var_1_1;
    succ_3 = true;
  }
  {
    succ_3 = false;
    if (var_2_2.IsRecord()) 
      if (vdm_SEM_NUM == ((Record) var_2_2).GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= ((Record) var_2_2).Length(); i_5++) 
          e_l_4.ImpAppend(((Record) var_2_2).GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Real permI_6;
          permI_6 = (Real) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_tmp = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  if (succ_3) {
    Generic selRes_7;
    selRes_7 = vdm_EXPR_opr;
    bool succ_8 = true;
    {
      Quote tmpVal_9;
      tmpVal_9 = (Quote) "NUMPLUS";
      succ_8 = ((Bool) (selRes_7 == tmpVal_9)).GetValue();
      if (succ_8) {
        Record rexpr_10(vdm_SEM_NUM, length_SEM_NUM);
        {
          rexpr_10 = Record(vdm_SEM_NUM, length_SEM_NUM);
          rexpr_10.SetField(1, vdm_EXPR_tmp);
        }
        return rexpr_10;
      }
    }
    if (!succ_8) {
      Quote tmpVal_13;
      tmpVal_13 = (Quote) "NUMMINUS";
      succ_8 = ((Bool) (selRes_7 == tmpVal_13)).GetValue();
      if (succ_8) {
        Record rexpr_14(vdm_SEM_NUM, length_SEM_NUM);
        {
          rexpr_14 = Record(vdm_SEM_NUM, length_SEM_NUM);
          rexpr_14.SetField(1, -vdm_EXPR_tmp);
        }
        return rexpr_14;
      }
    }
    if (!succ_8) {
      Quote tmpVal_17;
      tmpVal_17 = (Quote) "NUMABS";
      succ_8 = ((Bool) (selRes_7 == tmpVal_17)).GetValue();
      if (succ_8) {
        Bool cond_18;
        cond_18 = (Bool) ((vdm_EXPR_tmp.GetValue()) < (((Int) 0).GetValue()));
        if (cond_18.GetValue()) {
          Record rexpr_23(vdm_SEM_NUM, length_SEM_NUM);
          {
            rexpr_23 = Record(vdm_SEM_NUM, length_SEM_NUM);
            rexpr_23.SetField(1, -vdm_EXPR_tmp);
          }
          return rexpr_23;
        }
        else {
          Record rexpr_21(vdm_SEM_NUM, length_SEM_NUM);
          {
            rexpr_21 = Record(vdm_SEM_NUM, length_SEM_NUM);
            rexpr_21.SetField(1, vdm_EXPR_tmp);
          }
          return rexpr_21;
        }
      }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalPlusMinusAbs");
}

Record vdm_EXPR_EvalPrefixExpr(Record var_1_1) {
  Record vdm_EXPR_arg__e;
  Generic vdm_EXPR_opr;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_PrefixExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 3 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_opr = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_arg__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Record vdm_EXPR_arg__v;
    vdm_EXPR_arg__v = vdm_EXPR_EvalExpr(vdm_EXPR_arg__e);
    {
      Generic selRes_9;
      selRes_9 = vdm_EXPR_opr;
      bool succ_10 = true;
      {
        Quote tmpVal_11;
        tmpVal_11 = (Quote) "NUMPLUS";
        succ_10 = ((Bool) (selRes_9 == tmpVal_11)).GetValue();
        if (!succ_10) {
          Quote tmpVal_12;
          tmpVal_12 = (Quote) "NUMMINUS";
          succ_10 = ((Bool) (selRes_9 == tmpVal_12)).GetValue();
        }
        if (!succ_10) {
          Quote tmpVal_13;
          tmpVal_13 = (Quote) "FLOOR";
          succ_10 = ((Bool) (selRes_9 == tmpVal_13)).GetValue();
        }
        if (!succ_10) {
          Quote tmpVal_14;
          tmpVal_14 = (Quote) "NUMABS";
          succ_10 = ((Bool) (selRes_9 == tmpVal_14)).GetValue();
        }
        if (succ_10) {
          Generic tmpVar_15;
          tmpVar_15 = vdm_EXPR_opr;
          Record tmpVar_16;
          tmpVar_16 = vdm_EXPR_arg__v;
          return vdm_EXPR_EvalNumUnaryExpr(tmpVar_15, tmpVar_16);
        }
      }
      if (!succ_10) {
        Quote tmpVal_17;
        tmpVal_17 = (Quote) "NOT";
        succ_10 = ((Bool) (selRes_9 == tmpVal_17)).GetValue();
        if (succ_10) {
          Generic tmpVar_18;
          tmpVar_18 = vdm_EXPR_opr;
          Record tmpVar_19;
          tmpVar_19 = vdm_EXPR_arg__v;
          return vdm_EXPR_EvalLogUnaryExpr(tmpVar_18, tmpVar_19);
        }
      }
      if (!succ_10) {
        Quote tmpVal_20;
        tmpVal_20 = (Quote) "SETCARD";
        succ_10 = ((Bool) (selRes_9 == tmpVal_20)).GetValue();
        if (!succ_10) {
          Quote tmpVal_21;
          tmpVal_21 = (Quote) "SETDISTRUNION";
          succ_10 = ((Bool) (selRes_9 == tmpVal_21)).GetValue();
        }
        if (!succ_10) {
          Quote tmpVal_22;
          tmpVal_22 = (Quote) "SETDISTRINTERSECT";
          succ_10 = ((Bool) (selRes_9 == tmpVal_22)).GetValue();
        }
        if (!succ_10) {
          Quote tmpVal_23;
          tmpVal_23 = (Quote) "SETPOWER";
          succ_10 = ((Bool) (selRes_9 == tmpVal_23)).GetValue();
        }
        if (succ_10) {
          Generic tmpVar_24;
          tmpVar_24 = vdm_EXPR_opr;
          Record tmpVar_25;
          tmpVar_25 = vdm_EXPR_arg__v;
          return vdm_EXPR_EvalSetUnaryExpr(tmpVar_24, tmpVar_25);
        }
      }
      if (!succ_10) {
        Quote tmpVal_26;
        tmpVal_26 = (Quote) "SEQHEAD";
        succ_10 = ((Bool) (selRes_9 == tmpVal_26)).GetValue();
        if (!succ_10) {
          Quote tmpVal_27;
          tmpVal_27 = (Quote) "SEQTAIL";
          succ_10 = ((Bool) (selRes_9 == tmpVal_27)).GetValue();
        }
        if (!succ_10) {
          Quote tmpVal_28;
          tmpVal_28 = (Quote) "SEQLEN";
          succ_10 = ((Bool) (selRes_9 == tmpVal_28)).GetValue();
        }
        if (!succ_10) {
          Quote tmpVal_29;
          tmpVal_29 = (Quote) "SEQELEMS";
          succ_10 = ((Bool) (selRes_9 == tmpVal_29)).GetValue();
        }
        if (!succ_10) {
          Quote tmpVal_30;
          tmpVal_30 = (Quote) "SEQINDICES";
          succ_10 = ((Bool) (selRes_9 == tmpVal_30)).GetValue();
        }
        if (!succ_10) {
          Quote tmpVal_31;
          tmpVal_31 = (Quote) "SEQDISTRCONC";
          succ_10 = ((Bool) (selRes_9 == tmpVal_31)).GetValue();
        }
        if (succ_10) {
          Generic tmpVar_32;
          tmpVar_32 = vdm_EXPR_opr;
          Record tmpVar_33;
          tmpVar_33 = vdm_EXPR_arg__v;
          return vdm_EXPR_EvalSeqUnaryExpr(tmpVar_32, tmpVar_33);
        }
      }
      if (!succ_10) {
        Quote tmpVal_34;
        tmpVal_34 = (Quote) "MAPDOM";
        succ_10 = ((Bool) (selRes_9 == tmpVal_34)).GetValue();
        if (!succ_10) {
          Quote tmpVal_35;
          tmpVal_35 = (Quote) "MAPRNG";
          succ_10 = ((Bool) (selRes_9 == tmpVal_35)).GetValue();
        }
        if (!succ_10) {
          Quote tmpVal_36;
          tmpVal_36 = (Quote) "MAPDISTRMERGE";
          succ_10 = ((Bool) (selRes_9 == tmpVal_36)).GetValue();
        }
        if (succ_10) {
          Generic tmpVar_37;
          tmpVar_37 = vdm_EXPR_opr;
          Record tmpVar_38;
          tmpVar_38 = vdm_EXPR_arg__v;
          return vdm_EXPR_EvalMapUnaryExpr(tmpVar_37, tmpVar_38);
        }
      }
      if (!succ_10) 
        RunTime("Can not evaluate an error statement");
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalPrefixExpr");
}

Record vdm_EXPR_EvalProperSubSet(Record var_1_1, Record var_2_2) {
  Set vdm_EXPR_op1__sv;
  Set vdm_EXPR_op2__sv;
  bool succ_3 = true;
  {
    succ_3 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_SET == ((Record) var_1_1).GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= ((Record) var_1_1).Length(); i_5++) 
          e_l_4.ImpAppend(((Record) var_1_1).GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Set permI_6;
          permI_6 = (Set) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op1__sv = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  {
    succ_3 = false;
    if (var_2_2.IsRecord()) 
      if (vdm_SEM_SET == ((Record) var_2_2).GetTag()) {
        Sequence e_l_7;
        for (int i_8 = 1; i_8 <= ((Record) var_2_2).Length(); i_8++) 
          e_l_7.ImpAppend(((Record) var_2_2).GetField(i_8));
        if (succ_3 = 1 == (Int) (e_l_7.Length())) {
          Set permI_9;
          permI_9 = (Set) (e_l_7.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op2__sv = permI_9;
            succ_3 = true;
          }
        }
      }
  }
  if (succ_3) {
    Bool vdm_EXPR_b;
    vdm_EXPR_b = vdm_EXPR_op1__sv.SubSet(vdm_EXPR_op2__sv) && !((Int) (vdm_EXPR_op1__sv.Card()) == (Int) (vdm_EXPR_op2__sv.Card()));
    {
      Record rexpr_14(vdm_SEM_BOOL, length_SEM_BOOL);
      {
        rexpr_14 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
        rexpr_14.SetField(1, vdm_EXPR_b);
      }
      return rexpr_14;
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalProperSubSet");
}

Record vdm_EXPR_EvalRecordConstructorExpr(Record var_1_1) {
  Sequence vdm_EXPR_fields;
  Record vdm_EXPR_tag(vdm_AS_Name, length_AS_Name);
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_RecordConstructorExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 3 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_tag = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_fields = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Bool cond_6;
    cond_6 = vdm_EXPR_IsTypeStructExported(vdm_EXPR_tag);
    if (cond_6.GetValue()) {
      Sequence vdm_EXPR_fields__lv;
      {
        Sequence res_l_10;
        Record reselem_11;
        Set resBind_s_13;
        {
          Set riseq_18;
          int max_19 = (Int) (vdm_EXPR_fields.Length());
          for (int i_20 = 1; i_20 <= max_19; i_20++) 
            riseq_18.Insert((Int) i_20);
          resBind_s_13 = riseq_18;
        }
        Sequence bind_l_12;
        if ((Int) (resBind_s_13.Card()) != (Int) 0) 
          bind_l_12 = Sort(resBind_s_13);
        bool succ_14 = true;
        Int vdm_EXPR_i;
        Generic tmpe_25;
        for (int i_24 = bind_l_12.First(tmpe_25); i_24; i_24 = bind_l_12.Next(tmpe_25)) {
          Int e_16 = tmpe_25;
          {
            vdm_EXPR_i = e_16;
            succ_14 = true;
            if (succ_14) {
              Record tmpVar_21;
              {
                Sequence tmpseq_22;
                tmpseq_22 = vdm_EXPR_fields;
                tmpVar_21 = (Record) (tmpseq_22[vdm_EXPR_i.GetValue()]);
              }
              reselem_11 = vdm_EXPR_EvalExpr(tmpVar_21);
              res_l_10.ImpAppend(reselem_11);
            }
          }
        }
        vdm_EXPR_fields__lv = res_l_10;
      }
      {
        Record vdm_EXPR_res__v(vdm_SEM_REC, length_SEM_REC);
        vdm_EXPR_res__v = Record(vdm_SEM_REC, length_SEM_REC);
        vdm_EXPR_res__v.SetField(1, vdm_AUX_UniqueTagName(vdm_EXPR_tag));
        vdm_EXPR_res__v.SetField(2, vdm_EXPR_fields__lv);
        {
          Bool cond_31;
          cond_31 = vdm_EXPR_IsRecSel(vdm_EXPR_tag);
          if (cond_31.GetValue()) {
            bool succ_33;
            Tuple tmpVal_34(3);
            tmpVal_34 = vdm_EXPR_LookUpRecSel(vdm_EXPR_tag);
            Int vdm_EXPR_size;
            Sequence vdm_EXPR_type__l;
            succ_33 = true;
            {
              succ_33 = false;
              if (tmpVal_34.IsTuple()) {
                Sequence e_l_36;
                for (int i_37 = 1; i_37 <= ((Tuple) tmpVal_34).Length(); i_37++) 
                  e_l_36.ImpAppend(((Tuple) tmpVal_34).GetField(i_37));
                if (succ_33 = 3 == (Int) (e_l_36.Length())) {
                  Generic permI_38;
                  permI_38 = (Generic) (e_l_36.Hd());
                  succ_33 = true;
                  {
                    vdm_EXPR_size = permI_38;
                    succ_33 = true;
                  }
                  permI_38 = (Generic) (e_l_36[2]);
                  if (succ_33) 
                    succ_33 = true;
                  permI_38 = (Generic) (e_l_36[3]);
                  if (succ_33) {
                    vdm_EXPR_type__l = permI_38;
                    succ_33 = true;
                  }
                }
              }
            }
            if (!succ_33) 
              RunTime("Pattern match did not succeed in value definition");
            {
              Bool cond_39;
              cond_39 = (Bool) ((Int) (vdm_EXPR_fields__lv.Length()) == vdm_EXPR_size);
              if (cond_39.GetValue()) {
                Bool cond_43;
                cond_43 = vdm_EXPR_DTC();
                if (cond_43.GetValue()) {
                  Bool cond_45;
                  cond_45 = vdm_EXPR_IsTypeDef(vdm_EXPR_tag);
                  if (cond_45.GetValue()) {
                    Bool cond_75;
                    {
                      Bool unArg_76;
                      Record tmpVar_78(vdm_AS_TypeName, length_AS_TypeName);
                      {
                        tmpVar_78 = Record(vdm_AS_TypeName, length_AS_TypeName);
                        tmpVar_78.SetField(1, vdm_EXPR_tag);
                      }
                      unArg_76 = vdm_EXPR_SubType(vdm_EXPR_res__v, tmpVar_78);
                      cond_75 = (Bool) (!unArg_76.GetValue());
                    }
                    if (cond_75.GetValue()) 
                      RunTime("Can not evaluate an error statement");
                    else {
                      Record rexpr_80(vdm_SEM_REC, length_SEM_REC);
                      rexpr_80 = vdm_EXPR_res__v;
                      return rexpr_80;
                    }
                  }
                  else {
                    Bool cond_47;
                    {
                      Bool unArg_48;
                      bool tmpQuant_49 = true;
                      {
                        Sequence seq_lv_52;
                        bool succ_50;
                        Bool tsucc_53;
                        tsucc_53 = true;
                        {
                          Set tmpVar_v_51;
                          {
                            Set riseq_56;
                            int max_57 = (Int) (vdm_EXPR_type__l.Length());
                            for (int i_58 = 1; i_58 <= max_57; i_58++) 
                              riseq_56.Insert((Int) i_58);
                            tmpVar_v_51 = riseq_56;
                          }
{ seq_lv_52.ImpAppend(tmpVar_v_51); }
                        }
                        Set allComb_54 = GenAllComb(seq_lv_52);
                        Bool pred_63;
                        Int vdm_EXPR_i;
                        Generic tmpe_73;
                        for (int bb_72 = allComb_54.First(tmpe_73); bb_72 && tmpQuant_49; bb_72 = allComb_54.Next(tmpe_73)) {
                          Sequence tmp_64 = tmpe_73;
                          {
                            if (succ_50 = 1 == (Int) (tmp_64.Length())) {
                              Int permI_71;
                              permI_71 = (Int) (tmp_64.Hd());
                              succ_50 = true;
                              {
                                vdm_EXPR_i = permI_71;
                                succ_50 = true;
                              }
                            }
                            if (succ_50) {
                              Record tmpVar_65;
                              {
                                Sequence tmpseq_66;
                                tmpseq_66 = vdm_EXPR_fields__lv;
                                tmpVar_65 = (Record) (tmpseq_66[vdm_EXPR_i.GetValue()]);
                              }
                              Record tmpVar_68;
                              {
                                Sequence tmpseq_69;
                                tmpseq_69 = vdm_EXPR_type__l;
                                tmpVar_68 = (Record) (tmpseq_69[vdm_EXPR_i.GetValue()]);
                              }
                              pred_63 = vdm_EXPR_SubType(tmpVar_65, tmpVar_68);
                              if (pred_63.GetValue()) {}
                              else 
                                tmpQuant_49 = false;
                            }
                          }
                        }
                      }
                      unArg_48 = (Bool) tmpQuant_49;
                      cond_47 = (Bool) (!unArg_48.GetValue());
                    }
                    if (cond_47.GetValue()) 
                      RunTime("Can not evaluate an error statement");
                    else {
                      Record rexpr_74(vdm_SEM_REC, length_SEM_REC);
                      rexpr_74 = vdm_EXPR_res__v;
                      return rexpr_74;
                    }
                  }
                }
                else {
                  Record rexpr_44(vdm_SEM_REC, length_SEM_REC);
                  rexpr_44 = vdm_EXPR_res__v;
                  return rexpr_44;
                }
              }
              else { RunTime("Can not evaluate an error statement"); }
            }
          }
          else { RunTime("Can not evaluate an error statement"); }
        }
      }
    }
    else { RunTime("Can not evaluate an error statement"); }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalRecordConstructorExpr");
}

Record vdm_EXPR_EvalRecordModifierExpr(Record var_1_1) {
  Sequence vdm_EXPR_modifiers;
  Record vdm_EXPR_rec__e;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_RecordModifierExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 3 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_rec__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_modifiers = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Sequence vdm_EXPR_tmpbd__lv;
    {
      Record vdm_EXPR_rec__v;
      vdm_EXPR_rec__v = vdm_EXPR_EvalExpr(vdm_EXPR_rec__e);
      {
        Bool cond_9;
        {
          Bool unArg_10;
          Record argTmp_11;
          argTmp_11 = vdm_EXPR_rec__v;
          if (argTmp_11.IsRecord()) 
            unArg_10 = vdm_SEM_REC == argTmp_11.GetTag();
          else 
            unArg_10 = false;
          cond_9 = (Bool) (!unArg_10.GetValue());
        }
        if (cond_9.GetValue()) 
          RunTime("Can not evaluate an error statement");
        else {
          bool succ_12;
          Record tmpVal_13;
          tmpVal_13 = vdm_EXPR_rec__v;
          Sequence vdm_EXPR_bd__lv;
          Record vdm_EXPR_tag(vdm_AS_Name, length_AS_Name);
          succ_12 = true;
          {
            succ_12 = false;
            if (tmpVal_13.IsRecord()) 
              if (vdm_SEM_REC == ((Record) tmpVal_13).GetTag()) {
                Sequence e_l_14;
                for (int i_15 = 1; i_15 <= ((Record) tmpVal_13).Length(); i_15++) 
                  e_l_14.ImpAppend(((Record) tmpVal_13).GetField(i_15));
                if (succ_12 = 2 == (Int) (e_l_14.Length())) {
                  Generic permI_16;
                  permI_16 = (Generic) (e_l_14.Hd());
                  succ_12 = true;
                  {
                    vdm_EXPR_tag = permI_16;
                    succ_12 = true;
                  }
                  permI_16 = (Generic) (e_l_14[2]);
                  if (succ_12) {
                    vdm_EXPR_bd__lv = permI_16;
                    succ_12 = true;
                  }
                }
              }
          }
          if (!succ_12) 
            RunTime("Pattern match did not succeed in value definition");
          {
            Bool cond_17;
            cond_17 = vdm_EXPR_IsTypeStructExported(vdm_EXPR_tag);
            if (cond_17.GetValue()) {
              Bool cond_19;
              cond_19 = vdm_EXPR_IsRecSel(vdm_EXPR_tag);
              if (cond_19.GetValue()) {
                bool succ_21;
                Tuple tmpVal_22(3);
                tmpVal_22 = vdm_EXPR_LookUpRecSel(vdm_EXPR_tag);
                Map vdm_EXPR_pos;
                Sequence vdm_EXPR_type__l;
                succ_21 = true;
                {
                  succ_21 = false;
                  if (tmpVal_22.IsTuple()) {
                    Sequence e_l_24;
                    for (int i_25 = 1; i_25 <= ((Tuple) tmpVal_22).Length(); i_25++) 
                      e_l_24.ImpAppend(((Tuple) tmpVal_22).GetField(i_25));
                    if (succ_21 = 3 == (Int) (e_l_24.Length())) {
                      Generic permI_26;
                      permI_26 = (Generic) (e_l_24.Hd());
                      succ_21 = true;
                      succ_21 = true;
                      permI_26 = (Generic) (e_l_24[2]);
                      if (succ_21) {
                        vdm_EXPR_pos = permI_26;
                        succ_21 = true;
                      }
                      permI_26 = (Generic) (e_l_24[3]);
                      if (succ_21) {
                        vdm_EXPR_type__l = permI_26;
                        succ_21 = true;
                      }
                    }
                  }
                }
                if (!succ_21) 
                  RunTime("Pattern match did not succeed in value definition");
                {
                  Sequence rhs_27;
                  rhs_27 = vdm_EXPR_bd__lv;
                  vdm_EXPR_tmpbd__lv = rhs_27;
                  {
                    Sequence sq_28;
                    sq_28 = vdm_EXPR_modifiers;
                    Record vdm_EXPR_fid(vdm_AS_Name, length_AS_Name);
                    Record vdm_EXPR_new;
                    bool succ_30;
                    Generic tmpe_59;
                    for (int i_58 = sq_28.First(tmpe_59); i_58; i_58 = sq_28.Next(tmpe_59)) {
                      Record elem_29 = tmpe_59;
                      {
                        succ_30 = true;
                        {
                          succ_30 = false;
                          if (elem_29.IsRecord()) 
                            if (vdm_AS_RecordModification == elem_29.GetTag()) {
                              Sequence e_l_55;
                              for (int i_56 = 1; i_56 <= elem_29.Length(); i_56++) 
                                e_l_55.ImpAppend(elem_29.GetField(i_56));
                              if (succ_30 = 2 == (Int) (e_l_55.Length())) {
                                Record permI_57;
                                permI_57 = (Record) (e_l_55.Hd());
                                succ_30 = true;
                                {
                                  vdm_EXPR_fid = permI_57;
                                  succ_30 = true;
                                }
                                permI_57 = (Record) (e_l_55[2]);
                                if (succ_30) {
                                  vdm_EXPR_new = permI_57;
                                  succ_30 = true;
                                }
                              }
                            }
                        }
                        if (succ_30) {
                          Bool cond_31;
{ cond_31 = !(Bool) (vdm_EXPR_pos.Dom().InSet(vdm_EXPR_fid)); }
                          if (cond_31.GetValue()) 
                            RunTime("Can not evaluate an error statement");
                          else {
                            Record vdm_EXPR_tmp__v;
                            vdm_EXPR_tmp__v = vdm_EXPR_EvalExpr(vdm_EXPR_new);
                            {
                              Sequence rhs_38;
                              {
                                Sequence seqmap_39;
                                seqmap_39 = vdm_EXPR_tmpbd__lv;
                                Map modmap_40;
                                {
                                  Int tmpVar1_42;
                                  {
                                    Map tmp_m_44;
                                    tmp_m_44 = vdm_EXPR_pos;
                                    tmpVar1_42 = (Int) (((Map) tmp_m_44)[vdm_EXPR_fid]);
                                  }
                                  modmap_40 = Map().Insert(tmpVar1_42, vdm_EXPR_tmp__v);
                                }
                                NotSupported("The construct is not supported: sequence modify expression");
                                rhs_38 = seqmap_39;
                              }
                              vdm_EXPR_tmpbd__lv = rhs_38;
                              {
                                Bool cond_46;
                                cond_46 = vdm_EXPR_DTC();
                                if (cond_46.GetValue()) {
                                  Bool cond_47;
                                  {
                                    Bool unArg_48;
                                    Record tmpVar_50;
                                    {
                                      Sequence tmpseq_51;
                                      tmpseq_51 = vdm_EXPR_type__l;
                                      Int tmppar_52;
                                      {
                                        Map tmp_m_53;
                                        tmp_m_53 = vdm_EXPR_pos;
                                        tmppar_52 = (Int) (((Map) tmp_m_53)[vdm_EXPR_fid]);
                                      }
                                      tmpVar_50 = (Record) (tmpseq_51[tmppar_52.GetValue()]);
                                    }
                                    unArg_48 = vdm_EXPR_SubType(vdm_EXPR_tmp__v, tmpVar_50);
                                    cond_47 = (Bool) (!unArg_48.GetValue());
                                  }
                                  if (cond_47.GetValue()) 
                                    RunTime("Can not evaluate an error statement");
                                }
                              }
                            }
                          }
                        }
                        else 
                          RunTime("Pattern did not match in sequence for loop");
                      }
                    }
                  }
                  {
                    Record vdm_EXPR_res__v(vdm_SEM_REC, length_SEM_REC);
                    vdm_EXPR_res__v = Record(vdm_SEM_REC, length_SEM_REC);
                    vdm_EXPR_res__v.SetField(1, vdm_EXPR_tag);
                    vdm_EXPR_res__v.SetField(2, vdm_EXPR_tmpbd__lv);
                    {
                      Bool cond_64;
{ if ((cond_64 = vdm_EXPR_DTC()).GetValue()) { cond_64 = vdm_EXPR_IsTypeDef(vdm_EXPR_tag); } }
                      if (cond_64.GetValue()) {
                        Bool cond_68;
                        {
                          Bool unArg_69;
                          Record tmpVar_71(vdm_AS_TypeName, length_AS_TypeName);
                          {
                            tmpVar_71 = Record(vdm_AS_TypeName, length_AS_TypeName);
                            tmpVar_71.SetField(1, vdm_EXPR_tag);
                          }
                          unArg_69 = vdm_EXPR_SubType(vdm_EXPR_res__v, tmpVar_71);
                          cond_68 = (Bool) (!unArg_69.GetValue());
                        }
                        if (cond_68.GetValue()) 
                          RunTime("Can not evaluate an error statement");
                      }
                      {
                        Record rexpr_73(vdm_SEM_REC, length_SEM_REC);
                        rexpr_73 = vdm_EXPR_res__v;
                        return rexpr_73;
                      }
                    }
                  }
                }
              }
              else { RunTime("Can not evaluate an error statement"); }
            }
            else { RunTime("Can not evaluate an error statement"); }
          }
        }
      }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalRecordModifierExpr");
}

Record vdm_EXPR_EvalSeqApply(Record var_1_1, Sequence var_2_2) {
  Sequence vdm_EXPR_arg__lv;
  Sequence vdm_EXPR_seq__v;
  bool succ_3 = true;
  {
    succ_3 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_SEQ == var_1_1.GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= var_1_1.Length(); i_5++) 
          e_l_4.ImpAppend(var_1_1.GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Sequence permI_6;
          permI_6 = (Sequence) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_seq__v = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  {
    vdm_EXPR_arg__lv = var_2_2;
    succ_3 = true;
  }
  if (succ_3) {
    Bool cond_7;
    cond_7 = (Bool) ((Int) (vdm_EXPR_arg__lv.Length()) == (Int) 1);
    if (cond_7.GetValue()) {
      Bool cond_11;
      {
        Record tmpVar_12;
        {
          Sequence tmpseq_13;
          tmpseq_13 = vdm_EXPR_arg__lv;
          tmpVar_12 = (Record) (tmpseq_13[((Int) 1).GetValue()]);
        }
        cond_11 = vdm_EXPR_IsNat(tmpVar_12);
      }
      if (cond_11.GetValue()) {
        bool succ_15;
        Record tmpVal_16;
        {
          Sequence tmpseq_17;
          tmpseq_17 = vdm_EXPR_arg__lv;
          tmpVal_16 = (Record) (tmpseq_17[((Int) 1).GetValue()]);
        }
        Real vdm_EXPR_arg;
        succ_15 = true;
        {
          succ_15 = false;
          if (tmpVal_16.IsRecord()) 
            if (vdm_SEM_NUM == ((Record) tmpVal_16).GetTag()) {
              Sequence e_l_19;
              for (int i_20 = 1; i_20 <= ((Record) tmpVal_16).Length(); i_20++) 
                e_l_19.ImpAppend(((Record) tmpVal_16).GetField(i_20));
              if (succ_15 = 1 == (Int) (e_l_19.Length())) {
                Real permI_21;
                permI_21 = (Real) (e_l_19.Hd());
                succ_15 = true;
                {
                  vdm_EXPR_arg = permI_21;
                  succ_15 = true;
                }
              }
            }
        }
        if (!succ_15) 
          RunTime("Pattern match did not succeed in value definition");
        {
          Bool cond_22;
          {
            Set var2_24;
            Set riseq_26;
            int max_27 = (Int) (vdm_EXPR_seq__v.Length());
            for (int i_28 = 1; i_28 <= max_27; i_28++) 
              riseq_26.Insert((Int) i_28);
            var2_24 = riseq_26;
            cond_22 = (Bool) (var2_24.InSet(vdm_EXPR_arg));
          }
          if (cond_22.GetValue()) {
            Record rexpr_29;
            {
              Sequence tmpseq_30;
              tmpseq_30 = vdm_EXPR_seq__v;
              Bool cond_32;
              cond_32 = (Bool) (IsInteger(vdm_EXPR_arg) && ((Int) vdm_EXPR_arg).GetValue() >= 0);
              if (cond_32.GetValue()) 
                rexpr_29 = (Record) (tmpseq_30[((Int) vdm_EXPR_arg).GetValue()]);
              else 
                RunTime("An integer was expected in SeqApplyExpr");
            }
            return rexpr_29;
          }
          else { RunTime("Can not evaluate an error statement"); }
        }
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
    else { RunTime("Can not evaluate an error statement"); }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalSeqApply");
}

Record vdm_EXPR_EvalSeqBinaryExpr(Record vdm_EXPR_op1__v, Generic vdm_EXPR_opr, Record vdm_EXPR_op2__v) {
  Generic selRes_5;
  selRes_5 = vdm_EXPR_opr;
  bool succ_6 = true;
  {
    Quote tmpVal_7;
    tmpVal_7 = (Quote) "SEQCONC";
    succ_6 = ((Bool) (selRes_5 == tmpVal_7)).GetValue();
    if (succ_6) {
      Bool cond_8;
      {
        Bool var1_9;
        Record argTmp_11;
        argTmp_11 = vdm_EXPR_op1__v;
        if (argTmp_11.IsRecord()) 
          var1_9 = vdm_SEM_SEQ == argTmp_11.GetTag();
        else 
          var1_9 = false;
        if ((cond_8 = var1_9).GetValue()) {
          Bool var2_10;
          Record argTmp_12;
          argTmp_12 = vdm_EXPR_op2__v;
          if (argTmp_12.IsRecord()) 
            var2_10 = vdm_SEM_SEQ == argTmp_12.GetTag();
          else 
            var2_10 = false;
          cond_8 = var2_10;
        }
      }
      if (cond_8.GetValue()) {
        bool succ_13;
        Record tmpVal_14;
        tmpVal_14 = vdm_EXPR_op1__v;
        Sequence vdm_EXPR_op1__lv;
        succ_13 = true;
        {
          succ_13 = false;
          if (tmpVal_14.IsRecord()) 
            if (vdm_SEM_SEQ == ((Record) tmpVal_14).GetTag()) {
              Sequence e_l_15;
              for (int i_16 = 1; i_16 <= ((Record) tmpVal_14).Length(); i_16++) 
                e_l_15.ImpAppend(((Record) tmpVal_14).GetField(i_16));
              if (succ_13 = 1 == (Int) (e_l_15.Length())) {
                Sequence permI_17;
                permI_17 = (Sequence) (e_l_15.Hd());
                succ_13 = true;
                {
                  vdm_EXPR_op1__lv = permI_17;
                  succ_13 = true;
                }
              }
            }
        }
        if (!succ_13) 
          RunTime("Pattern match did not succeed in value definition");
        Record tmpVal_18;
        tmpVal_18 = vdm_EXPR_op2__v;
        Sequence vdm_EXPR_op2__lv;
        succ_13 = true;
        {
          succ_13 = false;
          if (tmpVal_18.IsRecord()) 
            if (vdm_SEM_SEQ == ((Record) tmpVal_18).GetTag()) {
              Sequence e_l_19;
              for (int i_20 = 1; i_20 <= ((Record) tmpVal_18).Length(); i_20++) 
                e_l_19.ImpAppend(((Record) tmpVal_18).GetField(i_20));
              if (succ_13 = 1 == (Int) (e_l_19.Length())) {
                Sequence permI_21;
                permI_21 = (Sequence) (e_l_19.Hd());
                succ_13 = true;
                {
                  vdm_EXPR_op2__lv = permI_21;
                  succ_13 = true;
                }
              }
            }
        }
        if (!succ_13) 
          RunTime("Pattern match did not succeed in value definition");
        {
          Record rexpr_22(vdm_SEM_SEQ, length_SEM_SEQ);
          {
            rexpr_22 = Record(vdm_SEM_SEQ, length_SEM_SEQ);
            Sequence tmpVar_23;
{ tmpVar_23.ImpConc(vdm_EXPR_op1__lv).ImpConc(vdm_EXPR_op2__lv); }
            rexpr_22.SetField(1, tmpVar_23);
          }
          return rexpr_22;
        }
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
  if (!succ_6) 
    RunTime("Can not evaluate an error statement");
}

Record vdm_EXPR_EvalSeqComprehensionExpr(Record var_1_1) {
  Record vdm_EXPR_bind(vdm_AS_SetBind, length_AS_SetBind);
  Record vdm_EXPR_elem__e;
  Record vdm_EXPR_pred__e;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_SeqComprehensionExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 5 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_elem__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_bind = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) {
            vdm_EXPR_pred__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[4]);
          if (succ_2) 
            succ_2 = true;
          permI_5 = (Generic) (e_l_3[5]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Sequence vdm_EXPR_res__lv;
    vdm_EXPR_res__lv = Sequence();
    {
      bool succ_6;
      Record tmpVal_7(vdm_AS_SetBind, length_AS_SetBind);
      tmpVal_7 = vdm_EXPR_bind;
      Record vdm_EXPR_pat__p;
      Record vdm_EXPR_set__e;
      succ_6 = true;
      {
        succ_6 = false;
        if (tmpVal_7.IsRecord()) 
          if (vdm_AS_SetBind == tmpVal_7.GetTag()) {
            Sequence e_l_8;
            for (int i_9 = 1; i_9 <= tmpVal_7.Length(); i_9++) 
              e_l_8.ImpAppend(tmpVal_7.GetField(i_9));
            if (succ_6 = 2 == (Int) (e_l_8.Length())) {
              Record permI_10;
              permI_10 = (Record) (e_l_8.Hd());
              succ_6 = true;
              {
                vdm_EXPR_pat__p = permI_10;
                succ_6 = true;
              }
              permI_10 = (Record) (e_l_8[2]);
              if (succ_6) {
                vdm_EXPR_set__e = permI_10;
                succ_6 = true;
              }
            }
          }
      }
      if (!succ_6) 
        RunTime("Pattern match did not succeed in value definition");
      {
        Record vdm_EXPR_set__v;
        vdm_EXPR_set__v = vdm_EXPR_EvalExpr(vdm_EXPR_set__e);
        {
          Bool cond_14;
          {
            Record argTmp_15;
            argTmp_15 = vdm_EXPR_set__v;
            if (argTmp_15.IsRecord()) 
              cond_14 = vdm_SEM_SET == argTmp_15.GetTag();
            else 
              cond_14 = false;
          }
          if (cond_14.GetValue()) {
            bool succ_16;
            Record tmpVal_17;
            tmpVal_17 = vdm_EXPR_set__v;
            Set vdm_EXPR_set__sv;
            succ_16 = true;
            {
              succ_16 = false;
              if (tmpVal_17.IsRecord()) 
                if (vdm_SEM_SET == ((Record) tmpVal_17).GetTag()) {
                  Sequence e_l_18;
                  for (int i_19 = 1; i_19 <= ((Record) tmpVal_17).Length(); i_19++) 
                    e_l_18.ImpAppend(((Record) tmpVal_17).GetField(i_19));
                  if (succ_16 = 1 == (Int) (e_l_18.Length())) {
                    Set permI_20;
                    permI_20 = (Set) (e_l_18.Hd());
                    succ_16 = true;
                    {
                      vdm_EXPR_set__sv = permI_20;
                      succ_16 = true;
                    }
                  }
                }
            }
            if (!succ_16) 
              RunTime("Pattern match did not succeed in value definition");
            {
              Bool cond_21;
              {
                Bool var1_22;
                bool tmpQuant_24 = true;
                {
                  Sequence seq_lv_27;
                  bool succ_25;
                  Bool tsucc_28;
                  tsucc_28 = true;
                  {
                    Set tmpVar_v_26;
                    tmpVar_v_26 = vdm_EXPR_set__sv;
{ seq_lv_27.ImpAppend(tmpVar_v_26); }
                  }
                  Set allComb_29 = GenAllComb(seq_lv_27);
                  Bool pred_34;
                  Record vdm_EXPR_elm__v;
                  Generic tmpe_39;
                  for (int bb_38 = allComb_29.First(tmpe_39); bb_38 && tmpQuant_24; bb_38 = allComb_29.Next(tmpe_39)) {
                    Sequence tmp_35 = tmpe_39;
                    {
                      if (succ_25 = 1 == (Int) (tmp_35.Length())) {
                        Record permI_37;
                        permI_37 = (Record) (tmp_35.Hd());
                        succ_25 = true;
                        {
                          vdm_EXPR_elm__v = permI_37;
                          succ_25 = true;
                        }
                      }
                      if (succ_25) { if (vdm_EXPR_IsInt(vdm_EXPR_elm__v).GetValue()) {}
 else 
   tmpQuant_24 = false; }
                    }
                  }
                }
                var1_22 = (Bool) tmpQuant_24;
                if ((cond_21 = var1_22).GetValue()) {
                  Bool var2_23;
                  Record argTmp_40;
                  argTmp_40 = vdm_EXPR_pat__p;
                  if (argTmp_40.IsRecord()) 
                    var2_23 = vdm_AS_PatternName == argTmp_40.GetTag();
                  else 
                    var2_23 = false;
                  cond_21 = var2_23;
                }
              }
              if (cond_21.GetValue()) {
                Sequence vdm_EXPR_seq__lv;
                vdm_EXPR_seq__lv = vdm_EXPR_SetToSeq(vdm_EXPR_set__sv);
                {
                  Int lb_44;
                  lb_44 = (Int) 1;
                  int ilb_47 = lb_44.GetValue();
                  Int ub_45;
                  ub_45 = (Int) (vdm_EXPR_seq__lv.Length());
                  int iub_48 = ub_45.GetValue();
                  Int by_50;
                  by_50 = (Int) 1;
                  int iby_49 = by_50.GetValue();
                  if (iby_49 == 0) 
                    RunTime("Step length in indexed for loop was 0");
                  if (ilb_47 <= iub_48 && iby_49 > 0 || ilb_47 >= iub_48 && iby_49 < 0) 
                    for (                    ; iby_49 < 0 ? ilb_47 >= iub_48 : ilb_47 <= iub_48; ilb_47 += iby_49) {
                      Int vdm_EXPR_i = (Int) ilb_47;
                      {
                        bool succ_51;
                        Set tmpVal_52;
                        {
                          Record tmpVar_54;
                          {
                            Sequence tmpseq_55;
                            tmpseq_55 = vdm_EXPR_seq__lv;
                            tmpVar_54 = (Record) (tmpseq_55[vdm_EXPR_i.GetValue()]);
                          }
                          tmpVal_52 = vdm_EXPR_PatternMatch(vdm_EXPR_pat__p, tmpVar_54);
                        }
                        Record vdm_EXPR_env(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
                        succ_51 = true;
                        {
                          succ_51 = false;
                          if (tmpVal_52.IsSet()) {
                            Set tmpvarExpr_60 = tmpVal_52;
                            if ((Int) (tmpvarExpr_60.Card()) == 1) {
                              Sequence valSeq_57;
                              Generic tmpe_63;
                              for (int bb_62 = tmpvarExpr_60.First(tmpe_63); bb_62; bb_62 = tmpvarExpr_60.Next(tmpe_63)) {
                                Record e_61 = tmpe_63;
                                valSeq_57.ImpAppend(e_61);
                              }
                              Set permSL_58 = Permute(valSeq_57);
                              Generic tmpe_66;
                              for (int bb_65 = permSL_58.First(tmpe_66); bb_65 && !succ_51; bb_65 = permSL_58.Next(tmpe_66)) {
                                Sequence perm_59 = tmpe_66;
{ if (succ_51 = 1 == (Int) (perm_59.Length())) {
   Record permI_64(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
   permI_64 = (Record) (perm_59.Hd());
   succ_51 = true;
   {
     vdm_EXPR_env = permI_64;
     succ_51 = true;
   }
 } }
                              }
                            }
                          }
                        }
                        if (!succ_51) 
                          RunTime("Pattern match did not succeed in value definition");
                        {
                          Record tmpVar_67(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
                          tmpVar_67 = vdm_EXPR_env;
                          vdm_EXPR_PushBlkEnv(tmpVar_67);
                          {
                            Record vdm_EXPR_pred__v;
                            vdm_EXPR_pred__v = vdm_EXPR_EvalExpr(vdm_EXPR_pred__e);
                            {
                              Bool cond_71;
                              {
                                Record argTmp_72;
                                argTmp_72 = vdm_EXPR_pred__v;
                                if (argTmp_72.IsRecord()) 
                                  cond_71 = vdm_SEM_BOOL == argTmp_72.GetTag();
                                else 
                                  cond_71 = false;
                              }
                              if (cond_71.GetValue()) {
                                bool succ_73;
                                Record tmpVal_74;
                                tmpVal_74 = vdm_EXPR_pred__v;
                                Bool vdm_EXPR_b;
                                succ_73 = true;
                                {
                                  succ_73 = false;
                                  if (tmpVal_74.IsRecord()) 
                                    if (vdm_SEM_BOOL == ((Record) tmpVal_74).GetTag()) {
                                      Sequence e_l_75;
                                      for (int i_76 = 1; i_76 <= ((Record) tmpVal_74).Length(); i_76++) 
                                        e_l_75.ImpAppend(((Record) tmpVal_74).GetField(i_76));
                                      if (succ_73 = 1 == (Int) (e_l_75.Length())) {
                                        Bool permI_77;
                                        permI_77 = (Bool) (e_l_75.Hd());
                                        succ_73 = true;
                                        {
                                          vdm_EXPR_b = permI_77;
                                          succ_73 = true;
                                        }
                                      }
                                    }
                                }
                                if (!succ_73) 
                                  RunTime("Pattern match did not succeed in value definition");
                                {
                                  Bool cond_78;
                                  cond_78 = vdm_EXPR_b;
                                  if (cond_78.GetValue()) {
                                    Sequence rhs_79;
                                    {
                                      Sequence var2_81;
                                      var2_81 = Sequence().ImpAppend(vdm_EXPR_EvalExpr(vdm_EXPR_elem__e));
                                      rhs_79.ImpConc(vdm_EXPR_res__lv).ImpConc(var2_81);
                                    }
                                    vdm_EXPR_res__lv = rhs_79;
                                  }
                                }
                              }
                              else { RunTime("Can not evaluate an error statement"); }
                            }
                          }
                          vdm_EXPR_PopBlkEnv();
                        }
                      }
                    }
                  {
                    Record rexpr_84(vdm_SEM_SEQ, length_SEM_SEQ);
                    {
                      rexpr_84 = Record(vdm_SEM_SEQ, length_SEM_SEQ);
                      rexpr_84.SetField(1, vdm_EXPR_res__lv);
                    }
                    return rexpr_84;
                  }
                }
              }
              else { RunTime("Can not evaluate an error statement"); }
            }
          }
          else { RunTime("Can not evaluate an error statement"); }
        }
      }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalSeqComprehensionExpr");
}

Record vdm_EXPR_EvalSeqEnumerationExpr(Record var_1_1) {
  Sequence vdm_EXPR_els__l;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_SeqEnumerationExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 2 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_els__l = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Record rexpr_6(vdm_SEM_SEQ, length_SEM_SEQ);
    {
      rexpr_6 = Record(vdm_SEM_SEQ, length_SEM_SEQ);
      Sequence tmpVar_7;
      {
        Sequence res_l_8;
        Record reselem_9;
        Set resBind_s_11;
        {
          Set riseq_16;
          int max_17 = (Int) (vdm_EXPR_els__l.Length());
          for (int i_18 = 1; i_18 <= max_17; i_18++) 
            riseq_16.Insert((Int) i_18);
          resBind_s_11 = riseq_16;
        }
        Sequence bind_l_10;
        if ((Int) (resBind_s_11.Card()) != (Int) 0) 
          bind_l_10 = Sort(resBind_s_11);
        bool succ_12 = true;
        Int vdm_EXPR_i;
        Generic tmpe_23;
        for (int i_22 = bind_l_10.First(tmpe_23); i_22; i_22 = bind_l_10.Next(tmpe_23)) {
          Int e_14 = tmpe_23;
          {
            vdm_EXPR_i = e_14;
            succ_12 = true;
            if (succ_12) {
              Record tmpVar_19;
              {
                Sequence tmpseq_20;
                tmpseq_20 = vdm_EXPR_els__l;
                tmpVar_19 = (Record) (tmpseq_20[vdm_EXPR_i.GetValue()]);
              }
              reselem_9 = vdm_EXPR_EvalExpr(tmpVar_19);
              res_l_8.ImpAppend(reselem_9);
            }
          }
        }
        tmpVar_7 = res_l_8;
      }
      rexpr_6.SetField(1, tmpVar_7);
    }
    return rexpr_6;
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalSeqEnumerationExpr");
}

Record vdm_EXPR_EvalSeqModifyExpr(Record vdm_EXPR_seq__v, Record vdm_EXPR_modifier__sv) {
  Set vdm_EXPR_tmp__s;
  vdm_EXPR_tmp__s = Set();
  Sequence vdm_EXPR_res__lv;
  vdm_EXPR_res__lv = Sequence();
  {
    bool succ_4;
    Record tmpVal_5;
    tmpVal_5 = vdm_EXPR_seq__v;
    Sequence vdm_EXPR_seq__lv;
    succ_4 = true;
    {
      succ_4 = false;
      if (tmpVal_5.IsRecord()) 
        if (vdm_SEM_SEQ == ((Record) tmpVal_5).GetTag()) {
          Sequence e_l_6;
          for (int i_7 = 1; i_7 <= ((Record) tmpVal_5).Length(); i_7++) 
            e_l_6.ImpAppend(((Record) tmpVal_5).GetField(i_7));
          if (succ_4 = 1 == (Int) (e_l_6.Length())) {
            Sequence permI_8;
            permI_8 = (Sequence) (e_l_6.Hd());
            succ_4 = true;
            {
              vdm_EXPR_seq__lv = permI_8;
              succ_4 = true;
            }
          }
        }
    }
    if (!succ_4) 
      RunTime("Pattern match did not succeed in value definition");
    Record tmpVal_9;
    tmpVal_9 = vdm_EXPR_modifier__sv;
    Map vdm_EXPR_modifiers;
    succ_4 = true;
    {
      succ_4 = false;
      if (tmpVal_9.IsRecord()) 
        if (vdm_SEM_MAP == ((Record) tmpVal_9).GetTag()) {
          Sequence e_l_10;
          for (int i_11 = 1; i_11 <= ((Record) tmpVal_9).Length(); i_11++) 
            e_l_10.ImpAppend(((Record) tmpVal_9).GetField(i_11));
          if (succ_4 = 1 == (Int) (e_l_10.Length())) {
            Map permI_12;
            permI_12 = (Map) (e_l_10.Hd());
            succ_4 = true;
            {
              vdm_EXPR_modifiers = permI_12;
              succ_4 = true;
            }
          }
        }
    }
    if (!succ_4) 
      RunTime("Pattern match did not succeed in value definition");
    {
      Sequence rhs_13;
      rhs_13 = vdm_EXPR_seq__lv;
      vdm_EXPR_res__lv = rhs_13;
      {
        Set iset_14;
        iset_14 = vdm_EXPR_modifiers.Dom();
        Record vdm_EXPR_d__v;
        bool succ_16;
        Generic tmpe_78;
        for (int bb_77 = iset_14.First(tmpe_78); bb_77; bb_77 = iset_14.Next(tmpe_78)) {
          Record elem_15 = tmpe_78;
          {
            succ_16 = true;
            {
              vdm_EXPR_d__v = elem_15;
              succ_16 = true;
            }
            if (succ_16) {
              Record vdm_EXPR_r__v;
              Map tmp_m_20;
              tmp_m_20 = vdm_EXPR_modifiers;
              vdm_EXPR_r__v = (Record) (((Map) tmp_m_20)[vdm_EXPR_d__v]);
              {
                Bool cond_22;
                cond_22 = vdm_EXPR_IsInt(vdm_EXPR_d__v);
                if (cond_22.GetValue()) {
                  bool succ_24;
                  Record tmpVal_25;
                  tmpVal_25 = vdm_EXPR_d__v;
                  Real vdm_EXPR_d;
                  succ_24 = true;
                  {
                    succ_24 = false;
                    if (tmpVal_25.IsRecord()) 
                      if (vdm_SEM_NUM == ((Record) tmpVal_25).GetTag()) {
                        Sequence e_l_26;
                        for (int i_27 = 1; i_27 <= ((Record) tmpVal_25).Length(); i_27++) 
                          e_l_26.ImpAppend(((Record) tmpVal_25).GetField(i_27));
                        if (succ_24 = 1 == (Int) (e_l_26.Length())) {
                          Real permI_28;
                          permI_28 = (Real) (e_l_26.Hd());
                          succ_24 = true;
                          {
                            vdm_EXPR_d = permI_28;
                            succ_24 = true;
                          }
                        }
                      }
                  }
                  if (!succ_24) 
                    RunTime("Pattern match did not succeed in value definition");
                  {
                    Bool cond_29;
                    {
                      Bool var1_30;
                      if ((var1_30 = (Bool) ((vdm_EXPR_d.GetValue()) >= (((Int) 1).GetValue()))).GetValue()) { var1_30 = (Bool) ((vdm_EXPR_d.GetValue()) <= (((Int) (vdm_EXPR_seq__lv.Length())).GetValue())); }
                      if ((cond_29 = var1_30).GetValue()) {
                        Bool var2_31;
                        bool tmpQuant_39 = true;
                        {
                          Sequence seq_lv_42;
                          bool succ_40;
                          Bool tsucc_43;
                          tsucc_43 = true;
                          {
                            Set tmpVar_v_41;
                            tmpVar_v_41 = vdm_EXPR_tmp__s;
                            {
                              Set tmpVar_s_45;
                              {
                                Record vdm_EXPR_d1;
                                Record vdm_EXPR_r1;
                                Generic tmpe_51;
                                for (int bb_50 = tmpVar_v_41.First(tmpe_51); bb_50; bb_50 = tmpVar_v_41.Next(tmpe_51)) {
                                  Tuple tmp_46 = tmpe_51;
                                  {
                                    succ_40 = false;
                                    if (tmp_46.IsTuple()) {
                                      Sequence e_l_47;
                                      for (int i_48 = 1; i_48 <= ((Tuple) tmp_46).Length(); i_48++) 
                                        e_l_47.ImpAppend(((Tuple) tmp_46).GetField(i_48));
                                      if (succ_40 = 2 == (Int) (e_l_47.Length())) {
                                        Record permI_49;
                                        permI_49 = (Record) (e_l_47.Hd());
                                        succ_40 = true;
                                        {
                                          vdm_EXPR_d1 = permI_49;
                                          succ_40 = true;
                                        }
                                        permI_49 = (Record) (e_l_47[2]);
                                        if (succ_40) {
                                          vdm_EXPR_r1 = permI_49;
                                          succ_40 = true;
                                        }
                                      }
                                    }
                                    if (succ_40) { tmpVar_s_45.Insert(tmp_46); }
                                  }
                                }
                              }
                              seq_lv_42.ImpAppend(tmpVar_s_45);
                            }
                          }
                          Set allComb_44 = GenAllComb(seq_lv_42);
                          Bool pred_52;
                          Record vdm_EXPR_d1;
                          Record vdm_EXPR_r1;
                          Generic tmpe_64;
                          for (int bb_63 = allComb_44.First(tmpe_64); bb_63 && tmpQuant_39; bb_63 = allComb_44.Next(tmpe_64)) {
                            Sequence tmp_53 = tmpe_64;
                            {
                              if (succ_40 = 1 == (Int) (tmp_53.Length())) {
                                Tuple permI_59(2);
                                permI_59 = (Tuple) (tmp_53.Hd());
                                succ_40 = true;
                                {
                                  succ_40 = false;
                                  if (permI_59.IsTuple()) {
                                    Sequence e_l_60;
                                    for (int i_61 = 1; i_61 <= ((Tuple) permI_59).Length(); i_61++) 
                                      e_l_60.ImpAppend(((Tuple) permI_59).GetField(i_61));
                                    if (succ_40 = 2 == (Int) (e_l_60.Length())) {
                                      Record permI_62;
                                      permI_62 = (Record) (e_l_60.Hd());
                                      succ_40 = true;
                                      {
                                        vdm_EXPR_d1 = permI_62;
                                        succ_40 = true;
                                      }
                                      permI_62 = (Record) (e_l_60[2]);
                                      if (succ_40) {
                                        vdm_EXPR_r1 = permI_62;
                                        succ_40 = true;
                                      }
                                    }
                                  }
                                }
                              }
                              if (succ_40) {
                                if (((Bool) (vdm_EXPR_d1 == vdm_EXPR_d__v)).GetValue()) 
                                  pred_52 = (Bool) (vdm_EXPR_r1 == vdm_EXPR_r__v);
                                else { pred_52 = (Bool) true; }
                                if (pred_52.GetValue()) {}
                                else 
                                  tmpQuant_39 = false;
                              }
                            }
                          }
                        }
                        var2_31 = (Bool) tmpQuant_39;
                        cond_29 = var2_31;
                      }
                    }
                    if (cond_29.GetValue()) {
                      Set rhs_65;
                      {
                        Set var2_67;
                        Tuple tmpVar_68(2);
                        tmpVar_68 = Tuple(2);
                        tmpVar_68.SetField(1, vdm_EXPR_d__v);
                        tmpVar_68.SetField(2, vdm_EXPR_r__v);
                        var2_67 = Set().Insert(tmpVar_68);
                        rhs_65 = vdm_EXPR_tmp__s;
                        rhs_65.ImpUnion(var2_67);
                      }
                      vdm_EXPR_tmp__s = rhs_65;
                      {
                        Sequence rhs_71;
                        {
                          Sequence seqmap_72;
                          seqmap_72 = vdm_EXPR_res__lv;
                          Map modmap_73;
                          modmap_73 = Map().Insert(vdm_EXPR_d, vdm_EXPR_r__v);
                          NotSupported("The construct is not supported: sequence modify expression");
                          rhs_71 = seqmap_72;
                        }
                        vdm_EXPR_res__lv = rhs_71;
                      }
                    }
                    else { RunTime("Can not evaluate an error statement"); }
                  }
                }
                else { RunTime("Can not evaluate an error statement"); }
              }
            }
            else 
              RunTime("Pattern did not match in set for loop");
          }
        }
      }
      {
        Record rexpr_79(vdm_SEM_SEQ, length_SEM_SEQ);
        {
          rexpr_79 = Record(vdm_SEM_SEQ, length_SEM_SEQ);
          rexpr_79.SetField(1, vdm_EXPR_res__lv);
        }
        return rexpr_79;
      }
    }
  }
}

Record vdm_EXPR_EvalSeqModifyMapOverrideExpr(Record var_1_1) {
  Record vdm_EXPR_map__e;
  Record vdm_EXPR_seqmap__e;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_SeqModifyMapOverrideExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 3 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_seqmap__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_map__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    bool succ_6;
    Record vdm_EXPR_seqmap__v;
    vdm_EXPR_seqmap__v = vdm_EXPR_EvalExpr(vdm_EXPR_seqmap__e);
    Record tmpVal_9;
    tmpVal_9 = vdm_EXPR_EvalExpr(vdm_EXPR_map__e);
    Record vdm_EXPR_map__v;
    succ_6 = true;
    {
      vdm_EXPR_map__v = tmpVal_9;
      succ_6 = true;
    }
    if (!succ_6) 
      RunTime("Pattern match did not succeed in value definition");
    {
      Bool cond_11;
      {
        Bool unArg_12;
        Record argTmp_13;
        argTmp_13 = vdm_EXPR_map__v;
        if (argTmp_13.IsRecord()) 
          unArg_12 = vdm_SEM_MAP == argTmp_13.GetTag();
        else 
          unArg_12 = false;
        cond_11 = (Bool) (!unArg_12.GetValue());
      }
      if (cond_11.GetValue()) 
        RunTime("Can not evaluate an error statement");
      else {
        Record argTmp_17;
        argTmp_17 = vdm_EXPR_seqmap__v;
        if (argTmp_17.IsRecord()) 
          cond_11 = vdm_SEM_MAP == argTmp_17.GetTag();
        else 
          cond_11 = false;
        if (cond_11.GetValue()) {
          Record tmpVar_18;
          tmpVar_18 = vdm_EXPR_seqmap__v;
          Record tmpVar_19;
          tmpVar_19 = vdm_EXPR_map__v;
          return vdm_EXPR_EvalMapOverrideExpr(tmpVar_18, tmpVar_19);
        }
        else {
          Record argTmp_14;
          argTmp_14 = vdm_EXPR_seqmap__v;
          if (argTmp_14.IsRecord()) 
            cond_11 = vdm_SEM_SEQ == argTmp_14.GetTag();
          else 
            cond_11 = false;
          if (cond_11.GetValue()) {
            Record tmpVar_15;
            tmpVar_15 = vdm_EXPR_seqmap__v;
            Record tmpVar_16;
            tmpVar_16 = vdm_EXPR_map__v;
            return vdm_EXPR_EvalSeqModifyExpr(tmpVar_15, tmpVar_16);
          }
          else { RunTime("Can not evaluate an error statement"); }
        }
      }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalSeqModifyMapOverrideExpr");
}

Record vdm_EXPR_EvalSeqUnaryExpr(Generic vdm_EXPR_opr, Record vdm_EXPR_op__v) {
  Bool cond_4;
  {
    Record argTmp_5;
    argTmp_5 = vdm_EXPR_op__v;
    if (argTmp_5.IsRecord()) 
      cond_4 = vdm_SEM_SEQ == argTmp_5.GetTag();
    else 
      cond_4 = false;
  }
  if (cond_4.GetValue()) {
    bool succ_6;
    Record tmpVal_7;
    tmpVal_7 = vdm_EXPR_op__v;
    Sequence vdm_EXPR_op__lv;
    succ_6 = true;
    {
      succ_6 = false;
      if (tmpVal_7.IsRecord()) 
        if (vdm_SEM_SEQ == ((Record) tmpVal_7).GetTag()) {
          Sequence e_l_8;
          for (int i_9 = 1; i_9 <= ((Record) tmpVal_7).Length(); i_9++) 
            e_l_8.ImpAppend(((Record) tmpVal_7).GetField(i_9));
          if (succ_6 = 1 == (Int) (e_l_8.Length())) {
            Sequence permI_10;
            permI_10 = (Sequence) (e_l_8.Hd());
            succ_6 = true;
            {
              vdm_EXPR_op__lv = permI_10;
              succ_6 = true;
            }
          }
        }
    }
    if (!succ_6) 
      RunTime("Pattern match did not succeed in value definition");
    {
      Generic selRes_11;
      selRes_11 = vdm_EXPR_opr;
      bool succ_12 = true;
      {
        Quote tmpVal_13;
        tmpVal_13 = (Quote) "SEQHEAD";
        succ_12 = ((Bool) (selRes_11 == tmpVal_13)).GetValue();
        if (succ_12) {
          Bool cond_14;
          {
            Sequence var2_16;
            var2_16 = Sequence();
            cond_14 = (Bool) (!(vdm_EXPR_op__lv == var2_16));
          }
          if (cond_14.GetValue()) {
            Record rexpr_17;
            rexpr_17 = (Record) (vdm_EXPR_op__lv.Hd());
            return rexpr_17;
          }
          else { RunTime("Can not evaluate an error statement"); }
        }
      }
      if (!succ_12) {
        Quote tmpVal_19;
        tmpVal_19 = (Quote) "SEQTAIL";
        succ_12 = ((Bool) (selRes_11 == tmpVal_19)).GetValue();
        if (succ_12) {
          Bool cond_20;
          {
            Sequence var2_22;
            var2_22 = Sequence();
            cond_20 = (Bool) (!(vdm_EXPR_op__lv == var2_22));
          }
          if (cond_20.GetValue()) {
            Record rexpr_23(vdm_SEM_SEQ, length_SEM_SEQ);
            {
              rexpr_23 = Record(vdm_SEM_SEQ, length_SEM_SEQ);
              rexpr_23.SetField(1, vdm_EXPR_op__lv.Tl());
            }
            return rexpr_23;
          }
          else { RunTime("Can not evaluate an error statement"); }
        }
      }
      if (!succ_12) {
        Quote tmpVal_26;
        tmpVal_26 = (Quote) "SEQLEN";
        succ_12 = ((Bool) (selRes_11 == tmpVal_26)).GetValue();
        if (succ_12) {
          Record rexpr_27(vdm_SEM_NUM, length_SEM_NUM);
          {
            rexpr_27 = Record(vdm_SEM_NUM, length_SEM_NUM);
            rexpr_27.SetField(1, (Int) (vdm_EXPR_op__lv.Length()));
          }
          return rexpr_27;
        }
      }
      if (!succ_12) {
        Quote tmpVal_30;
        tmpVal_30 = (Quote) "SEQELEMS";
        succ_12 = ((Bool) (selRes_11 == tmpVal_30)).GetValue();
        if (succ_12) {
          Record rexpr_31(vdm_SEM_SET, length_SEM_SET);
          {
            rexpr_31 = Record(vdm_SEM_SET, length_SEM_SET);
            Set tmpVar_32;
            tmpVar_32 = vdm_EXPR_op__lv.Elems();
            rexpr_31.SetField(1, tmpVar_32);
          }
          return rexpr_31;
        }
      }
      if (!succ_12) {
        Quote tmpVal_34;
        tmpVal_34 = (Quote) "SEQINDICES";
        succ_12 = ((Bool) (selRes_11 == tmpVal_34)).GetValue();
        if (succ_12) {
          Record rexpr_35(vdm_SEM_SET, length_SEM_SET);
          {
            rexpr_35 = Record(vdm_SEM_SET, length_SEM_SET);
            Set tmpVar_36;
            {
              Set res_s_37;
              {
                Sequence seq_lv_42;
                bool succ_40;
                Bool tsucc_43;
                tsucc_43 = true;
                {
                  Set tmpVar_v_41;
                  {
                    Set riseq_46;
                    int max_47 = (Int) (vdm_EXPR_op__lv.Length());
                    for (int i_48 = 1; i_48 <= max_47; i_48++) 
                      riseq_46.Insert((Int) i_48);
                    tmpVar_v_41 = riseq_46;
                  }
{ seq_lv_42.ImpAppend(tmpVar_v_41); }
                }
                Set allComb_44 = GenAllComb(seq_lv_42);
                Int vdm_EXPR_i;
                Generic tmpe_57;
                for (int bb_56 = allComb_44.First(tmpe_57); bb_56; bb_56 = allComb_44.Next(tmpe_57)) {
                  Sequence tmp_54 = tmpe_57;
                  {
                    if (succ_40 = 1 == (Int) (tmp_54.Length())) {
                      Int permI_55;
                      permI_55 = (Int) (tmp_54.Hd());
                      succ_40 = true;
                      {
                        vdm_EXPR_i = permI_55;
                        succ_40 = true;
                      }
                    }
                    if (succ_40) {
                      Record elem_38(vdm_SEM_NUM, length_SEM_NUM);
                      {
                        elem_38 = Record(vdm_SEM_NUM, length_SEM_NUM);
                        elem_38.SetField(1, vdm_EXPR_i);
                      }
                      res_s_37.Insert(elem_38);
                    }
                  }
                }
              }
              tmpVar_36 = res_s_37;
            }
            rexpr_35.SetField(1, tmpVar_36);
          }
          return rexpr_35;
        }
      }
      if (!succ_12) {
        Quote tmpVal_58;
        tmpVal_58 = (Quote) "SEQDISTRCONC";
        succ_12 = ((Bool) (selRes_11 == tmpVal_58)).GetValue();
        if (succ_12) {
          Bool cond_59;
          {
            bool tmpQuant_60 = true;
            {
              Sequence seq_lv_63;
              bool succ_61;
              Bool tsucc_64;
              tsucc_64 = true;
              {
                Set tmpVar_v_62;
                tmpVar_v_62 = vdm_EXPR_op__lv.Elems();
{ seq_lv_63.ImpAppend(tmpVar_v_62); }
              }
              Set allComb_65 = GenAllComb(seq_lv_63);
              Bool pred_71;
              Record vdm_EXPR_elm__v;
              Generic tmpe_76;
              for (int bb_75 = allComb_65.First(tmpe_76); bb_75 && tmpQuant_60; bb_75 = allComb_65.Next(tmpe_76)) {
                Sequence tmp_72 = tmpe_76;
                {
                  if (succ_61 = 1 == (Int) (tmp_72.Length())) {
                    Record permI_74;
                    permI_74 = (Record) (tmp_72.Hd());
                    succ_61 = true;
                    {
                      vdm_EXPR_elm__v = permI_74;
                      succ_61 = true;
                    }
                  }
                  if (succ_61) {
                    Record argTmp_73;
                    argTmp_73 = vdm_EXPR_elm__v;
                    if (argTmp_73.IsRecord()) 
                      pred_71 = vdm_SEM_SEQ == argTmp_73.GetTag();
                    else 
                      pred_71 = false;
                    if (pred_71.GetValue()) {}
                    else 
                      tmpQuant_60 = false;
                  }
                }
              }
            }
            cond_59 = (Bool) tmpQuant_60;
          }
          if (cond_59.GetValue()) {
            Sequence vdm_EXPR_seq__llv;
            {
              Sequence res_l_79;
              Sequence reselem_80;
              Set resBind_s_82;
              {
                Set riseq_87;
                int max_88 = (Int) (vdm_EXPR_op__lv.Length());
                for (int i_89 = 1; i_89 <= max_88; i_89++) 
                  riseq_87.Insert((Int) i_89);
                resBind_s_82 = riseq_87;
              }
              Sequence bind_l_81;
              if ((Int) (resBind_s_82.Card()) != (Int) 0) 
                bind_l_81 = Sort(resBind_s_82);
              bool succ_83 = true;
              Int vdm_EXPR_i;
              Generic tmpe_98;
              for (int i_97 = bind_l_81.First(tmpe_98); i_97; i_97 = bind_l_81.Next(tmpe_98)) {
                Int e_85 = tmpe_98;
                {
                  vdm_EXPR_i = e_85;
                  succ_83 = true;
                  if (succ_83) {
                    {
                      bool succ_90;
                      Record tmpVal_91;
                      {
                        Sequence tmpseq_92;
                        tmpseq_92 = vdm_EXPR_op__lv;
                        tmpVal_91 = (Record) (tmpseq_92[vdm_EXPR_i.GetValue()]);
                      }
                      Sequence vdm_EXPR_elm__lv;
                      succ_90 = true;
                      {
                        succ_90 = false;
                        if (tmpVal_91.IsRecord()) 
                          if (vdm_SEM_SEQ == ((Record) tmpVal_91).GetTag()) {
                            Sequence e_l_94;
                            for (int i_95 = 1; i_95 <= ((Record) tmpVal_91).Length(); i_95++) 
                              e_l_94.ImpAppend(((Record) tmpVal_91).GetField(i_95));
                            if (succ_90 = 1 == (Int) (e_l_94.Length())) {
                              Sequence permI_96;
                              permI_96 = (Sequence) (e_l_94.Hd());
                              succ_90 = true;
                              {
                                vdm_EXPR_elm__lv = permI_96;
                                succ_90 = true;
                              }
                            }
                          }
                      }
                      if (!succ_90) 
                        RunTime("Pattern match did not succeed in value definition");
                      reselem_80 = vdm_EXPR_elm__lv;
                    }
                    res_l_79.ImpAppend(reselem_80);
                  }
                }
              }
              vdm_EXPR_seq__llv = res_l_79;
            }
            {
              Record rexpr_99(vdm_SEM_SEQ, length_SEM_SEQ);
              {
                rexpr_99 = Record(vdm_SEM_SEQ, length_SEM_SEQ);
                Sequence tmpVar_100;
                {
                  Sequence rdcseq_102;
                  Generic tmpe_105;
                  for (int i_104 = vdm_EXPR_seq__llv.First(tmpe_105); i_104; i_104 = vdm_EXPR_seq__llv.Next(tmpe_105)) {
                    Sequence e_103 = tmpe_105;
                    rdcseq_102.ImpConc(e_103);
                  }
                  tmpVar_100 = rdcseq_102;
                }
                rexpr_99.SetField(1, tmpVar_100);
              }
              return rexpr_99;
            }
          }
        }
      }
      if (!succ_12) 
        RunTime("Can not evaluate an error statement");
    }
  }
  else { RunTime("Can not evaluate an error statement"); }
}

Record vdm_EXPR_EvalSetBinaryExpr(Record vdm_EXPR_op1__v, Generic vdm_EXPR_opr, Record vdm_EXPR_op2__v) {
  Generic selRes_5;
  selRes_5 = vdm_EXPR_opr;
  bool succ_6 = true;
  {
    Quote tmpVal_7;
    tmpVal_7 = (Quote) "NOTINSET";
    succ_6 = ((Bool) (selRes_5 == tmpVal_7)).GetValue();
    if (succ_6) {
      Bool cond_8;
      {
        Record argTmp_9;
        argTmp_9 = vdm_EXPR_op2__v;
        if (argTmp_9.IsRecord()) 
          cond_8 = vdm_SEM_SET == argTmp_9.GetTag();
        else 
          cond_8 = false;
      }
      if (cond_8.GetValue()) {
        Record tmpVar_10;
        tmpVar_10 = vdm_EXPR_op1__v;
        Record tmpVar_11;
        tmpVar_11 = vdm_EXPR_op2__v;
        return vdm_EXPR_EvalNotInSet(tmpVar_10, tmpVar_11);
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
  if (!succ_6) {
    Quote tmpVal_12;
    tmpVal_12 = (Quote) "INSET";
    succ_6 = ((Bool) (selRes_5 == tmpVal_12)).GetValue();
    if (succ_6) {
      Bool cond_13;
      {
        Record argTmp_14;
        argTmp_14 = vdm_EXPR_op2__v;
        if (argTmp_14.IsRecord()) 
          cond_13 = vdm_SEM_SET == argTmp_14.GetTag();
        else 
          cond_13 = false;
      }
      if (cond_13.GetValue()) {
        Record tmpVar_15;
        tmpVar_15 = vdm_EXPR_op1__v;
        Record tmpVar_16;
        tmpVar_16 = vdm_EXPR_op2__v;
        return vdm_EXPR_EvalInSet(tmpVar_15, tmpVar_16);
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
  if (!succ_6) {
    Quote tmpVal_17;
    tmpVal_17 = (Quote) "SETUNION";
    succ_6 = ((Bool) (selRes_5 == tmpVal_17)).GetValue();
    if (succ_6) {
      Bool cond_18;
      {
        Bool var1_19;
        Record argTmp_21;
        argTmp_21 = vdm_EXPR_op1__v;
        if (argTmp_21.IsRecord()) 
          var1_19 = vdm_SEM_SET == argTmp_21.GetTag();
        else 
          var1_19 = false;
        if ((cond_18 = var1_19).GetValue()) {
          Bool var2_20;
          Record argTmp_22;
          argTmp_22 = vdm_EXPR_op2__v;
          if (argTmp_22.IsRecord()) 
            var2_20 = vdm_SEM_SET == argTmp_22.GetTag();
          else 
            var2_20 = false;
          cond_18 = var2_20;
        }
      }
      if (cond_18.GetValue()) {
        Record tmpVar_23;
        tmpVar_23 = vdm_EXPR_op1__v;
        Record tmpVar_24;
        tmpVar_24 = vdm_EXPR_op2__v;
        return vdm_EXPR_EvalSetUnion(tmpVar_23, tmpVar_24);
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
  if (!succ_6) {
    Quote tmpVal_25;
    tmpVal_25 = (Quote) "SETINTERSECT";
    succ_6 = ((Bool) (selRes_5 == tmpVal_25)).GetValue();
    if (succ_6) {
      Bool cond_26;
      {
        Bool var1_27;
        Record argTmp_29;
        argTmp_29 = vdm_EXPR_op1__v;
        if (argTmp_29.IsRecord()) 
          var1_27 = vdm_SEM_SET == argTmp_29.GetTag();
        else 
          var1_27 = false;
        if ((cond_26 = var1_27).GetValue()) {
          Bool var2_28;
          Record argTmp_30;
          argTmp_30 = vdm_EXPR_op2__v;
          if (argTmp_30.IsRecord()) 
            var2_28 = vdm_SEM_SET == argTmp_30.GetTag();
          else 
            var2_28 = false;
          cond_26 = var2_28;
        }
      }
      if (cond_26.GetValue()) {
        Record tmpVar_31;
        tmpVar_31 = vdm_EXPR_op1__v;
        Record tmpVar_32;
        tmpVar_32 = vdm_EXPR_op2__v;
        return vdm_EXPR_EvalSetIntersect(tmpVar_31, tmpVar_32);
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
  if (!succ_6) {
    Quote tmpVal_33;
    tmpVal_33 = (Quote) "SETMINUS";
    succ_6 = ((Bool) (selRes_5 == tmpVal_33)).GetValue();
    if (succ_6) {
      Bool cond_34;
      {
        Bool var1_35;
        Record argTmp_37;
        argTmp_37 = vdm_EXPR_op1__v;
        if (argTmp_37.IsRecord()) 
          var1_35 = vdm_SEM_SET == argTmp_37.GetTag();
        else 
          var1_35 = false;
        if ((cond_34 = var1_35).GetValue()) {
          Bool var2_36;
          Record argTmp_38;
          argTmp_38 = vdm_EXPR_op2__v;
          if (argTmp_38.IsRecord()) 
            var2_36 = vdm_SEM_SET == argTmp_38.GetTag();
          else 
            var2_36 = false;
          cond_34 = var2_36;
        }
      }
      if (cond_34.GetValue()) {
        Record tmpVar_39;
        tmpVar_39 = vdm_EXPR_op1__v;
        Record tmpVar_40;
        tmpVar_40 = vdm_EXPR_op2__v;
        return vdm_EXPR_EvalSetMinus(tmpVar_39, tmpVar_40);
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
  if (!succ_6) {
    Quote tmpVal_41;
    tmpVal_41 = (Quote) "PROPERSUBSET";
    succ_6 = ((Bool) (selRes_5 == tmpVal_41)).GetValue();
    if (succ_6) {
      Bool cond_42;
      {
        Bool var1_43;
        Record argTmp_45;
        argTmp_45 = vdm_EXPR_op1__v;
        if (argTmp_45.IsRecord()) 
          var1_43 = vdm_SEM_SET == argTmp_45.GetTag();
        else 
          var1_43 = false;
        if ((cond_42 = var1_43).GetValue()) {
          Bool var2_44;
          Record argTmp_46;
          argTmp_46 = vdm_EXPR_op2__v;
          if (argTmp_46.IsRecord()) 
            var2_44 = vdm_SEM_SET == argTmp_46.GetTag();
          else 
            var2_44 = false;
          cond_42 = var2_44;
        }
      }
      if (cond_42.GetValue()) {
        Record tmpVar_47;
        tmpVar_47 = vdm_EXPR_op1__v;
        Record tmpVar_48;
        tmpVar_48 = vdm_EXPR_op2__v;
        return vdm_EXPR_EvalProperSubSet(tmpVar_47, tmpVar_48);
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
  if (!succ_6) {
    Quote tmpVal_49;
    tmpVal_49 = (Quote) "SUBSET";
    succ_6 = ((Bool) (selRes_5 == tmpVal_49)).GetValue();
    if (succ_6) {
      Bool cond_50;
      {
        Bool var1_51;
        Record argTmp_53;
        argTmp_53 = vdm_EXPR_op1__v;
        if (argTmp_53.IsRecord()) 
          var1_51 = vdm_SEM_SET == argTmp_53.GetTag();
        else 
          var1_51 = false;
        if ((cond_50 = var1_51).GetValue()) {
          Bool var2_52;
          Record argTmp_54;
          argTmp_54 = vdm_EXPR_op2__v;
          if (argTmp_54.IsRecord()) 
            var2_52 = vdm_SEM_SET == argTmp_54.GetTag();
          else 
            var2_52 = false;
          cond_50 = var2_52;
        }
      }
      if (cond_50.GetValue()) {
        Record tmpVar_55;
        tmpVar_55 = vdm_EXPR_op1__v;
        Record tmpVar_56;
        tmpVar_56 = vdm_EXPR_op2__v;
        return vdm_EXPR_EvalSubSet(tmpVar_55, tmpVar_56);
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
  if (!succ_6) 
    RunTime("Can not evaluate an error statement");
}

Record vdm_EXPR_EvalSetComprehensionExpr(Record var_1_1) {
  Sequence vdm_EXPR_bind__l;
  Record vdm_EXPR_elem__e;
  Record vdm_EXPR_pred__e;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_SetComprehensionExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 5 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_elem__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_bind__l = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) {
            vdm_EXPR_pred__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[4]);
          if (succ_2) 
            succ_2 = true;
          permI_5 = (Generic) (e_l_3[5]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Set vdm_EXPR_res__sv;
    vdm_EXPR_res__sv = Set();
    {
      Set tmpSet_6;
      tmpSet_6 = vdm_EXPR_EvalMultBindSeq(vdm_EXPR_bind__l, (Quote) "DO_PARTITION");
      Generic vdm_EXPR_tmp__s;
      Bool tmpB_7;
      bool succ_8 = false;
      Generic tmpe_13;
      for (int bb_12 = tmpSet_6.First(tmpe_13); bb_12 && !succ_8; bb_12 = tmpSet_6.Next(tmpe_13)) {
        Generic tmpElem_9 = tmpe_13;
        {
          succ_8 = true;
          {
            vdm_EXPR_tmp__s = tmpElem_9;
            succ_8 = true;
          }
          if (succ_8) 
            succ_8 = ((Bool) true).GetValue();
        }
      }
      if (!succ_8) 
        RunTime("The binding environment was empty");
      {
        Generic iset_14;
        iset_14 = vdm_EXPR_tmp__s;
        Record vdm_EXPR_env(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
        bool succ_16;
        Set tmpSet_17;
        if (iset_14.IsSet()) 
          tmpSet_17 = iset_14;
        else 
          RunTime("A set was expected in set for loop");
        Generic tmpe_36;
        for (int bb_35 = tmpSet_17.First(tmpe_36); bb_35; bb_35 = tmpSet_17.Next(tmpe_36)) {
          Record elem_15 = tmpe_36;
          {
            succ_16 = true;
            {
              vdm_EXPR_env = elem_15;
              succ_16 = true;
            }
            if (succ_16) {
              Record tmpVar_18(vdm_SEM_BlkEnv, length_SEM_BlkEnv);
              tmpVar_18 = vdm_EXPR_env;
              vdm_EXPR_PushBlkEnv(tmpVar_18);
              {
                Record vdm_EXPR_pred__v;
                vdm_EXPR_pred__v = vdm_EXPR_EvalExpr(vdm_EXPR_pred__e);
                {
                  Bool cond_22;
                  {
                    Record argTmp_23;
                    argTmp_23 = vdm_EXPR_pred__v;
                    if (argTmp_23.IsRecord()) 
                      cond_22 = vdm_SEM_BOOL == argTmp_23.GetTag();
                    else 
                      cond_22 = false;
                  }
                  if (cond_22.GetValue()) {
                    bool succ_24;
                    Record tmpVal_25;
                    tmpVal_25 = vdm_EXPR_pred__v;
                    Bool vdm_EXPR_b;
                    succ_24 = true;
                    {
                      succ_24 = false;
                      if (tmpVal_25.IsRecord()) 
                        if (vdm_SEM_BOOL == ((Record) tmpVal_25).GetTag()) {
                          Sequence e_l_26;
                          for (int i_27 = 1; i_27 <= ((Record) tmpVal_25).Length(); i_27++) 
                            e_l_26.ImpAppend(((Record) tmpVal_25).GetField(i_27));
                          if (succ_24 = 1 == (Int) (e_l_26.Length())) {
                            Bool permI_28;
                            permI_28 = (Bool) (e_l_26.Hd());
                            succ_24 = true;
                            {
                              vdm_EXPR_b = permI_28;
                              succ_24 = true;
                            }
                          }
                        }
                    }
                    if (!succ_24) 
                      RunTime("Pattern match did not succeed in value definition");
                    {
                      Bool cond_29;
                      cond_29 = vdm_EXPR_b;
                      if (cond_29.GetValue()) {
                        Set rhs_30;
                        {
                          Set var2_32;
                          var2_32 = Set().Insert(vdm_EXPR_EvalExpr(vdm_EXPR_elem__e));
                          rhs_30 = vdm_EXPR_res__sv;
                          rhs_30.ImpUnion(var2_32);
                        }
                        vdm_EXPR_res__sv = rhs_30;
                      }
                    }
                  }
                  else { RunTime("Can not evaluate an error statement"); }
                }
              }
              vdm_EXPR_PopBlkEnv();
            }
            else 
              RunTime("Pattern did not match in set for loop");
          }
        }
      }
    }
    {
      Record rexpr_37(vdm_SEM_SET, length_SEM_SET);
      {
        rexpr_37 = Record(vdm_SEM_SET, length_SEM_SET);
        rexpr_37.SetField(1, vdm_EXPR_res__sv);
      }
      return rexpr_37;
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalSetComprehensionExpr");
}

Record vdm_EXPR_EvalSetEnumerationExpr(Record var_1_1) {
  Sequence vdm_EXPR_els;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_SetEnumerationExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 2 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_els = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Set vdm_EXPR_elm__sv;
    Set res_s_8;
    {
      Sequence seq_lv_15;
      bool succ_13;
      Bool tsucc_16;
      tsucc_16 = true;
      {
        Set tmpVar_v_14;
        {
          Set riseq_19;
          int max_20 = (Int) (vdm_EXPR_els.Length());
          for (int i_21 = 1; i_21 <= max_20; i_21++) 
            riseq_19.Insert((Int) i_21);
          tmpVar_v_14 = riseq_19;
        }
{ seq_lv_15.ImpAppend(tmpVar_v_14); }
      }
      Set allComb_17 = GenAllComb(seq_lv_15);
      Int vdm_EXPR_i;
      Generic tmpe_30;
      for (int bb_29 = allComb_17.First(tmpe_30); bb_29; bb_29 = allComb_17.Next(tmpe_30)) {
        Sequence tmp_27 = tmpe_30;
        {
          if (succ_13 = 1 == (Int) (tmp_27.Length())) {
            Int permI_28;
            permI_28 = (Int) (tmp_27.Hd());
            succ_13 = true;
            {
              vdm_EXPR_i = permI_28;
              succ_13 = true;
            }
          }
          if (succ_13) {
            Record elem_9;
            {
              Record tmpVar_10;
              {
                Sequence tmpseq_11;
                tmpseq_11 = vdm_EXPR_els;
                tmpVar_10 = (Record) (tmpseq_11[vdm_EXPR_i.GetValue()]);
              }
              elem_9 = vdm_EXPR_EvalExpr(tmpVar_10);
            }
            res_s_8.Insert(elem_9);
          }
        }
      }
    }
    vdm_EXPR_elm__sv = res_s_8;
    {
      Record rexpr_31(vdm_SEM_SET, length_SEM_SET);
      {
        rexpr_31 = Record(vdm_SEM_SET, length_SEM_SET);
        rexpr_31.SetField(1, vdm_EXPR_elm__sv);
      }
      return rexpr_31;
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalSetEnumerationExpr");
}

Record vdm_EXPR_EvalSetIntersect(Record var_1_1, Record var_2_2) {
  Set vdm_EXPR_op1__sv;
  Set vdm_EXPR_op2__sv;
  bool succ_3 = true;
  {
    succ_3 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_SET == ((Record) var_1_1).GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= ((Record) var_1_1).Length(); i_5++) 
          e_l_4.ImpAppend(((Record) var_1_1).GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Set permI_6;
          permI_6 = (Set) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op1__sv = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  {
    succ_3 = false;
    if (var_2_2.IsRecord()) 
      if (vdm_SEM_SET == ((Record) var_2_2).GetTag()) {
        Sequence e_l_7;
        for (int i_8 = 1; i_8 <= ((Record) var_2_2).Length(); i_8++) 
          e_l_7.ImpAppend(((Record) var_2_2).GetField(i_8));
        if (succ_3 = 1 == (Int) (e_l_7.Length())) {
          Set permI_9;
          permI_9 = (Set) (e_l_7.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op2__sv = permI_9;
            succ_3 = true;
          }
        }
      }
  }
  if (succ_3) {
    Set vdm_EXPR_set__sv;
    vdm_EXPR_set__sv = vdm_EXPR_op1__sv;
    vdm_EXPR_set__sv.ImpIntersect(vdm_EXPR_op2__sv);
    {
      Record rexpr_14(vdm_SEM_SET, length_SEM_SET);
      {
        rexpr_14 = Record(vdm_SEM_SET, length_SEM_SET);
        rexpr_14.SetField(1, vdm_EXPR_set__sv);
      }
      return rexpr_14;
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalSetIntersect");
}

Record vdm_EXPR_EvalSetMinus(Record var_1_1, Record var_2_2) {
  Set vdm_EXPR_op1__sv;
  Set vdm_EXPR_op2__sv;
  bool succ_3 = true;
  {
    succ_3 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_SET == ((Record) var_1_1).GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= ((Record) var_1_1).Length(); i_5++) 
          e_l_4.ImpAppend(((Record) var_1_1).GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Set permI_6;
          permI_6 = (Set) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op1__sv = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  {
    succ_3 = false;
    if (var_2_2.IsRecord()) 
      if (vdm_SEM_SET == ((Record) var_2_2).GetTag()) {
        Sequence e_l_7;
        for (int i_8 = 1; i_8 <= ((Record) var_2_2).Length(); i_8++) 
          e_l_7.ImpAppend(((Record) var_2_2).GetField(i_8));
        if (succ_3 = 1 == (Int) (e_l_7.Length())) {
          Set permI_9;
          permI_9 = (Set) (e_l_7.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op2__sv = permI_9;
            succ_3 = true;
          }
        }
      }
  }
  if (succ_3) {
    Set vdm_EXPR_set__sv;
    vdm_EXPR_set__sv = vdm_EXPR_op1__sv;
    vdm_EXPR_set__sv.ImpDiff(vdm_EXPR_op2__sv);
    {
      Record rexpr_14(vdm_SEM_SET, length_SEM_SET);
      {
        rexpr_14 = Record(vdm_SEM_SET, length_SEM_SET);
        rexpr_14.SetField(1, vdm_EXPR_set__sv);
      }
      return rexpr_14;
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalSetMinus");
}

Record vdm_EXPR_EvalSetRangeExpr(Record var_1_1) {
  Record vdm_EXPR_lb__e;
  Record vdm_EXPR_ub__e;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_SetRangeExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 3 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_lb__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_ub__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Record vdm_EXPR_lb__v;
    vdm_EXPR_lb__v = vdm_EXPR_EvalExpr(vdm_EXPR_lb__e);
    Record vdm_EXPR_ub__v;
    vdm_EXPR_ub__v = vdm_EXPR_EvalExpr(vdm_EXPR_ub__e);
    {
      Bool cond_11;
      {
        Bool var1_12;
        Record argTmp_14;
        argTmp_14 = vdm_EXPR_lb__v;
        if (argTmp_14.IsRecord()) 
          var1_12 = vdm_SEM_NUM == argTmp_14.GetTag();
        else 
          var1_12 = false;
        if ((cond_11 = var1_12).GetValue()) {
          Bool var2_13;
          Record argTmp_15;
          argTmp_15 = vdm_EXPR_ub__v;
          if (argTmp_15.IsRecord()) 
            var2_13 = vdm_SEM_NUM == argTmp_15.GetTag();
          else 
            var2_13 = false;
          cond_11 = var2_13;
        }
      }
      if (cond_11.GetValue()) {
        bool succ_16;
        Record tmpVal_17;
        tmpVal_17 = vdm_EXPR_lb__v;
        Real vdm_EXPR_lb;
        succ_16 = true;
        {
          succ_16 = false;
          if (tmpVal_17.IsRecord()) 
            if (vdm_SEM_NUM == ((Record) tmpVal_17).GetTag()) {
              Sequence e_l_18;
              for (int i_19 = 1; i_19 <= ((Record) tmpVal_17).Length(); i_19++) 
                e_l_18.ImpAppend(((Record) tmpVal_17).GetField(i_19));
              if (succ_16 = 1 == (Int) (e_l_18.Length())) {
                Real permI_20;
                permI_20 = (Real) (e_l_18.Hd());
                succ_16 = true;
                {
                  vdm_EXPR_lb = permI_20;
                  succ_16 = true;
                }
              }
            }
        }
        if (!succ_16) 
          RunTime("Pattern match did not succeed in value definition");
        Record tmpVal_21;
        tmpVal_21 = vdm_EXPR_ub__v;
        Real vdm_EXPR_ub;
        succ_16 = true;
        {
          succ_16 = false;
          if (tmpVal_21.IsRecord()) 
            if (vdm_SEM_NUM == ((Record) tmpVal_21).GetTag()) {
              Sequence e_l_22;
              for (int i_23 = 1; i_23 <= ((Record) tmpVal_21).Length(); i_23++) 
                e_l_22.ImpAppend(((Record) tmpVal_21).GetField(i_23));
              if (succ_16 = 1 == (Int) (e_l_22.Length())) {
                Real permI_24;
                permI_24 = (Real) (e_l_22.Hd());
                succ_16 = true;
                {
                  vdm_EXPR_ub = permI_24;
                  succ_16 = true;
                }
              }
            }
        }
        if (!succ_16) 
          RunTime("Pattern match did not succeed in value definition");
        {
          Record rexpr_25(vdm_SEM_SET, length_SEM_SET);
          {
            rexpr_25 = Record(vdm_SEM_SET, length_SEM_SET);
            Set tmpVar_26;
            {
              Set res_s_27;
              {
                Sequence seq_lv_32;
                bool succ_30;
                Bool tsucc_33;
                tsucc_33 = true;
                {
                  Set tmpVar_v_31;
                  {
                    tmpVar_v_31 = Set();
                    Int lb_35;
                    Int ub_36;
                    lb_35 = vdm_EXPR_Ceiling(vdm_EXPR_lb);
                    if (vdm_EXPR_ub.IsReal()) {
                      double tmp_41 = ((Real) vdm_EXPR_ub).GetValue();
                      ub_36 = (Int) ((int) (floor(tmp_41)));
                    }
                    else 
                      ub_36 = vdm_EXPR_ub;
                    int ubi_37 = ub_36.GetValue();
                    for (int count_38 = lb_35.GetValue(); count_38 <= ubi_37; count_38++) 
                      tmpVar_v_31.Insert((Int) count_38);
                  }
{ seq_lv_32.ImpAppend(tmpVar_v_31); }
                }
                Set allComb_34 = GenAllComb(seq_lv_32);
                Int vdm_EXPR_e;
                Generic tmpe_50;
                for (int bb_49 = allComb_34.First(tmpe_50); bb_49; bb_49 = allComb_34.Next(tmpe_50)) {
                  Sequence tmp_47 = tmpe_50;
                  {
                    if (succ_30 = 1 == (Int) (tmp_47.Length())) {
                      Int permI_48;
                      permI_48 = (Int) (tmp_47.Hd());
                      succ_30 = true;
                      {
                        vdm_EXPR_e = permI_48;
                        succ_30 = true;
                      }
                    }
                    if (succ_30) {
                      Record elem_28(vdm_SEM_NUM, length_SEM_NUM);
                      {
                        elem_28 = Record(vdm_SEM_NUM, length_SEM_NUM);
                        elem_28.SetField(1, vdm_EXPR_e);
                      }
                      res_s_27.Insert(elem_28);
                    }
                  }
                }
              }
              tmpVar_26 = res_s_27;
            }
            rexpr_25.SetField(1, tmpVar_26);
          }
          return rexpr_25;
        }
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalSetRangeExpr");
}

Record vdm_EXPR_EvalSetUnaryExpr(Generic vdm_EXPR_opr, Record vdm_EXPR_op__v) {
  Bool cond_4;
  {
    Record argTmp_5;
    argTmp_5 = vdm_EXPR_op__v;
    if (argTmp_5.IsRecord()) 
      cond_4 = vdm_SEM_SET == argTmp_5.GetTag();
    else 
      cond_4 = false;
  }
  if (cond_4.GetValue()) {
    bool succ_6;
    Record tmpVal_7;
    tmpVal_7 = vdm_EXPR_op__v;
    Set vdm_EXPR_op__sv;
    succ_6 = true;
    {
      succ_6 = false;
      if (tmpVal_7.IsRecord()) 
        if (vdm_SEM_SET == ((Record) tmpVal_7).GetTag()) {
          Sequence e_l_8;
          for (int i_9 = 1; i_9 <= ((Record) tmpVal_7).Length(); i_9++) 
            e_l_8.ImpAppend(((Record) tmpVal_7).GetField(i_9));
          if (succ_6 = 1 == (Int) (e_l_8.Length())) {
            Set permI_10;
            permI_10 = (Set) (e_l_8.Hd());
            succ_6 = true;
            {
              vdm_EXPR_op__sv = permI_10;
              succ_6 = true;
            }
          }
        }
    }
    if (!succ_6) 
      RunTime("Pattern match did not succeed in value definition");
    {
      Generic selRes_11;
      selRes_11 = vdm_EXPR_opr;
      bool succ_12 = true;
      {
        Quote tmpVal_13;
        tmpVal_13 = (Quote) "SETCARD";
        succ_12 = ((Bool) (selRes_11 == tmpVal_13)).GetValue();
        if (succ_12) {
          Record rexpr_14(vdm_SEM_NUM, length_SEM_NUM);
          {
            rexpr_14 = Record(vdm_SEM_NUM, length_SEM_NUM);
            rexpr_14.SetField(1, (Int) (vdm_EXPR_op__sv.Card()));
          }
          return rexpr_14;
        }
      }
      if (!succ_12) {
        Quote tmpVal_17;
        tmpVal_17 = (Quote) "SETPOWER";
        succ_12 = ((Bool) (selRes_11 == tmpVal_17)).GetValue();
        if (succ_12) {
          Set vdm_EXPR_ps__sv;
          Set res_s_20;
          {
            Sequence seq_lv_25;
            bool succ_23;
            Bool tsucc_26;
            tsucc_26 = true;
            {
              Set tmpVar_v_24;
              {
                Set rpowset_29;
                unsigned long powcard_31 = (unsigned long) (pow(2, (Int) (vdm_EXPR_op__sv.Card())));
                if ((Int) (vdm_EXPR_op__sv.Card()) > 15) 
                  RunTime("Power: Set too big");
                for (unsigned long ii_32 = 0; ii_32 < powcard_31; ii_32++) {
                  Generic tmpg_30;
                  Set tmps_33;
                  for (int jj_34 = 0, bb_35 = vdm_EXPR_op__sv.First(tmpg_30); bb_35; bb_35 = vdm_EXPR_op__sv.Next(tmpg_30)) {
                    if (ii_32 & 1 << jj_34) 
                      tmps_33.Insert(tmpg_30);
                    jj_34++;
                  }
                  rpowset_29.Insert(tmps_33);
                }
                tmpVar_v_24 = rpowset_29;
              }
{ seq_lv_25.ImpAppend(tmpVar_v_24); }
            }
            Set allComb_27 = GenAllComb(seq_lv_25);
            Set vdm_EXPR_sub;
            Generic tmpe_44;
            for (int bb_43 = allComb_27.First(tmpe_44); bb_43; bb_43 = allComb_27.Next(tmpe_44)) {
              Sequence tmp_41 = tmpe_44;
              {
                if (succ_23 = 1 == (Int) (tmp_41.Length())) {
                  Set permI_42;
                  permI_42 = (Set) (tmp_41.Hd());
                  succ_23 = true;
                  {
                    vdm_EXPR_sub = permI_42;
                    succ_23 = true;
                  }
                }
                if (succ_23) {
                  Record elem_21(vdm_SEM_SET, length_SEM_SET);
                  {
                    elem_21 = Record(vdm_SEM_SET, length_SEM_SET);
                    elem_21.SetField(1, vdm_EXPR_sub);
                  }
                  res_s_20.Insert(elem_21);
                }
              }
            }
          }
          vdm_EXPR_ps__sv = res_s_20;
          {
            Record rexpr_45(vdm_SEM_SET, length_SEM_SET);
            {
              rexpr_45 = Record(vdm_SEM_SET, length_SEM_SET);
              rexpr_45.SetField(1, vdm_EXPR_ps__sv);
            }
            return rexpr_45;
          }
        }
      }
      if (!succ_12) {
        Quote tmpVal_47;
        tmpVal_47 = (Quote) "SETDISTRUNION";
        succ_12 = ((Bool) (selRes_11 == tmpVal_47)).GetValue();
        if (succ_12) {
          Bool cond_48;
          {
            bool tmpQuant_49 = true;
            {
              Sequence seq_lv_52;
              bool succ_50;
              Bool tsucc_53;
              tsucc_53 = true;
              {
                Set tmpVar_v_51;
                tmpVar_v_51 = vdm_EXPR_op__sv;
{ seq_lv_52.ImpAppend(tmpVar_v_51); }
              }
              Set allComb_54 = GenAllComb(seq_lv_52);
              Bool pred_59;
              Record vdm_EXPR_elm__v;
              Generic tmpe_64;
              for (int bb_63 = allComb_54.First(tmpe_64); bb_63 && tmpQuant_49; bb_63 = allComb_54.Next(tmpe_64)) {
                Sequence tmp_60 = tmpe_64;
                {
                  if (succ_50 = 1 == (Int) (tmp_60.Length())) {
                    Record permI_62;
                    permI_62 = (Record) (tmp_60.Hd());
                    succ_50 = true;
                    {
                      vdm_EXPR_elm__v = permI_62;
                      succ_50 = true;
                    }
                  }
                  if (succ_50) {
                    Record argTmp_61;
                    argTmp_61 = vdm_EXPR_elm__v;
                    if (argTmp_61.IsRecord()) 
                      pred_59 = vdm_SEM_SET == argTmp_61.GetTag();
                    else 
                      pred_59 = false;
                    if (pred_59.GetValue()) {}
                    else 
                      tmpQuant_49 = false;
                  }
                }
              }
            }
            cond_48 = (Bool) tmpQuant_49;
          }
          if (cond_48.GetValue()) {
            Set vdm_EXPR_tmp__ssv;
            Set res_s_67;
            {
              Sequence seq_lv_76;
              bool succ_74;
              Bool tsucc_77;
              tsucc_77 = true;
              {
                Set tmpVar_v_75;
                tmpVar_v_75 = vdm_EXPR_op__sv;
{ seq_lv_76.ImpAppend(tmpVar_v_75); }
              }
              Set allComb_78 = GenAllComb(seq_lv_76);
              Record vdm_EXPR_elm__v;
              Generic tmpe_87;
              for (int bb_86 = allComb_78.First(tmpe_87); bb_86; bb_86 = allComb_78.Next(tmpe_87)) {
                Sequence tmp_84 = tmpe_87;
                {
                  if (succ_74 = 1 == (Int) (tmp_84.Length())) {
                    Record permI_85;
                    permI_85 = (Record) (tmp_84.Hd());
                    succ_74 = true;
                    {
                      vdm_EXPR_elm__v = permI_85;
                      succ_74 = true;
                    }
                  }
                  if (succ_74) {
                    Set elem_68;
                    {
                      bool succ_69;
                      Record tmpVal_70;
                      tmpVal_70 = vdm_EXPR_elm__v;
                      Set vdm_EXPR_elm__sv;
                      succ_69 = true;
                      {
                        succ_69 = false;
                        if (tmpVal_70.IsRecord()) 
                          if (vdm_SEM_SET == ((Record) tmpVal_70).GetTag()) {
                            Sequence e_l_71;
                            for (int i_72 = 1; i_72 <= ((Record) tmpVal_70).Length(); i_72++) 
                              e_l_71.ImpAppend(((Record) tmpVal_70).GetField(i_72));
                            if (succ_69 = 1 == (Int) (e_l_71.Length())) {
                              Set permI_73;
                              permI_73 = (Set) (e_l_71.Hd());
                              succ_69 = true;
                              {
                                vdm_EXPR_elm__sv = permI_73;
                                succ_69 = true;
                              }
                            }
                          }
                      }
                      if (!succ_69) 
                        RunTime("Pattern match did not succeed in value definition");
                      elem_68 = vdm_EXPR_elm__sv;
                    }
                    res_s_67.Insert(elem_68);
                  }
                }
              }
            }
            vdm_EXPR_tmp__ssv = res_s_67;
            {
              Record rexpr_88(vdm_SEM_SET, length_SEM_SET);
              {
                rexpr_88 = Record(vdm_SEM_SET, length_SEM_SET);
                Set tmpVar_89;
                {
                  Set rduset_91;
                  Generic tmpe_94;
                  for (int bb_93 = vdm_EXPR_tmp__ssv.First(tmpe_94); bb_93; bb_93 = vdm_EXPR_tmp__ssv.Next(tmpe_94)) {
                    Set e_92 = tmpe_94;
                    rduset_91.ImpUnion(e_92);
                  }
                  tmpVar_89 = rduset_91;
                }
                rexpr_88.SetField(1, tmpVar_89);
              }
              return rexpr_88;
            }
          }
          else { RunTime("Can not evaluate an error statement"); }
        }
      }
      if (!succ_12) {
        Quote tmpVal_95;
        tmpVal_95 = (Quote) "SETDISTRINTERSECT";
        succ_12 = ((Bool) (selRes_11 == tmpVal_95)).GetValue();
        if (succ_12) {
          Bool cond_96;
{ if ((cond_96 = (Bool) ((((Int) (vdm_EXPR_op__sv.Card())).GetValue()) > (((Int) 0).GetValue()))).GetValue()) {
   Bool var2_98;
   bool tmpQuant_102 = true;
   {
     Sequence seq_lv_105;
     bool succ_103;
     Bool tsucc_106;
     tsucc_106 = true;
     {
       Set tmpVar_v_104;
       tmpVar_v_104 = vdm_EXPR_op__sv;
{ seq_lv_105.ImpAppend(tmpVar_v_104); }
     }
     Set allComb_107 = GenAllComb(seq_lv_105);
     Bool pred_112;
     Record vdm_EXPR_elm__v;
     Generic tmpe_117;
     for (int bb_116 = allComb_107.First(tmpe_117); bb_116 && tmpQuant_102; bb_116 = allComb_107.Next(tmpe_117)) {
       Sequence tmp_113 = tmpe_117;
       {
         if (succ_103 = 1 == (Int) (tmp_113.Length())) {
           Record permI_115;
           permI_115 = (Record) (tmp_113.Hd());
           succ_103 = true;
           {
             vdm_EXPR_elm__v = permI_115;
             succ_103 = true;
           }
         }
         if (succ_103) {
           Record argTmp_114;
           argTmp_114 = vdm_EXPR_elm__v;
           if (argTmp_114.IsRecord()) 
             pred_112 = vdm_SEM_SET == argTmp_114.GetTag();
           else 
             pred_112 = false;
           if (pred_112.GetValue()) {}
           else 
             tmpQuant_102 = false;
         }
       }
     }
   }
   var2_98 = (Bool) tmpQuant_102;
   cond_96 = var2_98;
 } }
          if (cond_96.GetValue()) {
            Set vdm_EXPR_tmp__ssv;
            Set res_s_120;
            {
              Sequence seq_lv_129;
              bool succ_127;
              Bool tsucc_130;
              tsucc_130 = true;
              {
                Set tmpVar_v_128;
                tmpVar_v_128 = vdm_EXPR_op__sv;
{ seq_lv_129.ImpAppend(tmpVar_v_128); }
              }
              Set allComb_131 = GenAllComb(seq_lv_129);
              Record vdm_EXPR_elm__v;
              Generic tmpe_140;
              for (int bb_139 = allComb_131.First(tmpe_140); bb_139; bb_139 = allComb_131.Next(tmpe_140)) {
                Sequence tmp_137 = tmpe_140;
                {
                  if (succ_127 = 1 == (Int) (tmp_137.Length())) {
                    Record permI_138;
                    permI_138 = (Record) (tmp_137.Hd());
                    succ_127 = true;
                    {
                      vdm_EXPR_elm__v = permI_138;
                      succ_127 = true;
                    }
                  }
                  if (succ_127) {
                    Set elem_121;
                    {
                      bool succ_122;
                      Record tmpVal_123;
                      tmpVal_123 = vdm_EXPR_elm__v;
                      Set vdm_EXPR_elm__sv;
                      succ_122 = true;
                      {
                        succ_122 = false;
                        if (tmpVal_123.IsRecord()) 
                          if (vdm_SEM_SET == ((Record) tmpVal_123).GetTag()) {
                            Sequence e_l_124;
                            for (int i_125 = 1; i_125 <= ((Record) tmpVal_123).Length(); i_125++) 
                              e_l_124.ImpAppend(((Record) tmpVal_123).GetField(i_125));
                            if (succ_122 = 1 == (Int) (e_l_124.Length())) {
                              Set permI_126;
                              permI_126 = (Set) (e_l_124.Hd());
                              succ_122 = true;
                              {
                                vdm_EXPR_elm__sv = permI_126;
                                succ_122 = true;
                              }
                            }
                          }
                      }
                      if (!succ_122) 
                        RunTime("Pattern match did not succeed in value definition");
                      elem_121 = vdm_EXPR_elm__sv;
                    }
                    res_s_120.Insert(elem_121);
                  }
                }
              }
            }
            vdm_EXPR_tmp__ssv = res_s_120;
            {
              Record rexpr_141(vdm_SEM_SET, length_SEM_SET);
              {
                rexpr_141 = Record(vdm_SEM_SET, length_SEM_SET);
                Set tmpVar_142;
                {
                  Set rdiset_144 = vdm_EXPR_tmp__ssv.GetElem();
                  Generic tmpe_147;
                  for (int bb_146 = vdm_EXPR_tmp__ssv.First(tmpe_147); bb_146; bb_146 = vdm_EXPR_tmp__ssv.Next(tmpe_147)) {
                    Set e_145 = tmpe_147;
                    rdiset_144.ImpIntersect(e_145);
                  }
                  tmpVar_142 = rdiset_144;
                }
                rexpr_141.SetField(1, tmpVar_142);
              }
              return rexpr_141;
            }
          }
          else { RunTime("Can not evaluate an error statement"); }
        }
      }
      if (!succ_12) 
        RunTime("Can not evaluate an error statement");
    }
  }
  else { RunTime("Can not evaluate an error statement"); }
}

Record vdm_EXPR_EvalSetUnion(Record var_1_1, Record var_2_2) {
  Set vdm_EXPR_op1__sv;
  Set vdm_EXPR_op2__sv;
  bool succ_3 = true;
  {
    succ_3 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_SET == ((Record) var_1_1).GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= ((Record) var_1_1).Length(); i_5++) 
          e_l_4.ImpAppend(((Record) var_1_1).GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Set permI_6;
          permI_6 = (Set) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op1__sv = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  {
    succ_3 = false;
    if (var_2_2.IsRecord()) 
      if (vdm_SEM_SET == ((Record) var_2_2).GetTag()) {
        Sequence e_l_7;
        for (int i_8 = 1; i_8 <= ((Record) var_2_2).Length(); i_8++) 
          e_l_7.ImpAppend(((Record) var_2_2).GetField(i_8));
        if (succ_3 = 1 == (Int) (e_l_7.Length())) {
          Set permI_9;
          permI_9 = (Set) (e_l_7.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op2__sv = permI_9;
            succ_3 = true;
          }
        }
      }
  }
  if (succ_3) {
    Set vdm_EXPR_set__sv;
    vdm_EXPR_set__sv = vdm_EXPR_op1__sv;
    vdm_EXPR_set__sv.ImpUnion(vdm_EXPR_op2__sv);
    {
      Record rexpr_14(vdm_SEM_SET, length_SEM_SET);
      {
        rexpr_14 = Record(vdm_SEM_SET, length_SEM_SET);
        rexpr_14.SetField(1, vdm_EXPR_set__sv);
      }
      return rexpr_14;
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalSetUnion");
}

Record vdm_EXPR_EvalSubSequenceExpr(Record var_1_1) {
  Record vdm_EXPR_from__e;
  Record vdm_EXPR_seq__e;
  Record vdm_EXPR_to__e;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_SubSequenceExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 4 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_seq__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) {
            vdm_EXPR_from__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[3]);
          if (succ_2) {
            vdm_EXPR_to__e = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[4]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    bool succ_6;
    Record tmpVal_7;
    tmpVal_7 = vdm_EXPR_EvalExpr(vdm_EXPR_seq__e);
    Record vdm_EXPR_seq__v;
    succ_6 = true;
    {
      vdm_EXPR_seq__v = tmpVal_7;
      succ_6 = true;
    }
    if (!succ_6) 
      RunTime("Pattern match did not succeed in value definition");
    Record vdm_EXPR_from__v;
    vdm_EXPR_from__v = vdm_EXPR_EvalExpr(vdm_EXPR_from__e);
    Record vdm_EXPR_to__v;
    vdm_EXPR_to__v = vdm_EXPR_EvalExpr(vdm_EXPR_to__e);
    {
      Bool cond_13;
      {
        Bool var1_14;
        Bool var1_16;
        Record argTmp_18;
        argTmp_18 = vdm_EXPR_seq__v;
        if (argTmp_18.IsRecord()) 
          var1_16 = vdm_SEM_SEQ == argTmp_18.GetTag();
        else 
          var1_16 = false;
        if ((var1_14 = var1_16).GetValue()) {
          Bool var2_17;
          Record argTmp_19;
          argTmp_19 = vdm_EXPR_from__v;
          if (argTmp_19.IsRecord()) 
            var2_17 = vdm_SEM_NUM == argTmp_19.GetTag();
          else 
            var2_17 = false;
          var1_14 = var2_17;
        }
        if ((cond_13 = var1_14).GetValue()) {
          Bool var2_15;
          Record argTmp_20;
          argTmp_20 = vdm_EXPR_to__v;
          if (argTmp_20.IsRecord()) 
            var2_15 = vdm_SEM_NUM == argTmp_20.GetTag();
          else 
            var2_15 = false;
          cond_13 = var2_15;
        }
      }
      if (cond_13.GetValue()) {
        bool succ_21;
        Record tmpVal_22;
        tmpVal_22 = vdm_EXPR_from__v;
        Real vdm_EXPR_From;
        succ_21 = true;
        {
          succ_21 = false;
          if (tmpVal_22.IsRecord()) 
            if (vdm_SEM_NUM == ((Record) tmpVal_22).GetTag()) {
              Sequence e_l_23;
              for (int i_24 = 1; i_24 <= ((Record) tmpVal_22).Length(); i_24++) 
                e_l_23.ImpAppend(((Record) tmpVal_22).GetField(i_24));
              if (succ_21 = 1 == (Int) (e_l_23.Length())) {
                Real permI_25;
                permI_25 = (Real) (e_l_23.Hd());
                succ_21 = true;
                {
                  vdm_EXPR_From = permI_25;
                  succ_21 = true;
                }
              }
            }
        }
        if (!succ_21) 
          RunTime("Pattern match did not succeed in value definition");
        Record tmpVal_26;
        tmpVal_26 = vdm_EXPR_to__v;
        Real vdm_EXPR_To;
        succ_21 = true;
        {
          succ_21 = false;
          if (tmpVal_26.IsRecord()) 
            if (vdm_SEM_NUM == ((Record) tmpVal_26).GetTag()) {
              Sequence e_l_27;
              for (int i_28 = 1; i_28 <= ((Record) tmpVal_26).Length(); i_28++) 
                e_l_27.ImpAppend(((Record) tmpVal_26).GetField(i_28));
              if (succ_21 = 1 == (Int) (e_l_27.Length())) {
                Real permI_29;
                permI_29 = (Real) (e_l_27.Hd());
                succ_21 = true;
                {
                  vdm_EXPR_To = permI_29;
                  succ_21 = true;
                }
              }
            }
        }
        if (!succ_21) 
          RunTime("Pattern match did not succeed in value definition");
        Record tmpVal_30;
        tmpVal_30 = vdm_EXPR_seq__v;
        Sequence vdm_EXPR_Seq;
        succ_21 = true;
        {
          succ_21 = false;
          if (tmpVal_30.IsRecord()) 
            if (vdm_SEM_SEQ == ((Record) tmpVal_30).GetTag()) {
              Sequence e_l_31;
              for (int i_32 = 1; i_32 <= ((Record) tmpVal_30).Length(); i_32++) 
                e_l_31.ImpAppend(((Record) tmpVal_30).GetField(i_32));
              if (succ_21 = 1 == (Int) (e_l_31.Length())) {
                Sequence permI_33;
                permI_33 = (Sequence) (e_l_31.Hd());
                succ_21 = true;
                {
                  vdm_EXPR_Seq = permI_33;
                  succ_21 = true;
                }
              }
            }
        }
        if (!succ_21) 
          RunTime("Pattern match did not succeed in value definition");
        {
          Record rexpr_34(vdm_SEM_SEQ, length_SEM_SEQ);
          {
            rexpr_34 = Record(vdm_SEM_SEQ, length_SEM_SEQ);
            Sequence tmpVar_35;
            {
              Sequence res_l_36;
              Record reselem_37;
              Set resBind_s_39;
              {
                Set riseq_44;
                int max_45 = (Int) (vdm_EXPR_Seq.Length());
                for (int i_46 = 1; i_46 <= max_45; i_46++) 
                  riseq_44.Insert((Int) i_46);
                resBind_s_39 = riseq_44;
              }
              Sequence bind_l_38;
              if ((Int) (resBind_s_39.Card()) != (Int) 0) 
                bind_l_38 = Sort(resBind_s_39);
              bool succ_40 = true;
              Int vdm_EXPR_i;
              Generic tmpe_56;
              for (int i_55 = bind_l_38.First(tmpe_56); i_55; i_55 = bind_l_38.Next(tmpe_56)) {
                Int e_42 = tmpe_56;
                {
                  vdm_EXPR_i = e_42;
                  succ_40 = true;
                  if (succ_40) {
                    Bool pred_41;
{ if ((pred_41 = (Bool) ((vdm_EXPR_From.GetValue()) <= (vdm_EXPR_i.GetValue()))).GetValue()) { pred_41 = (Bool) ((vdm_EXPR_i.GetValue()) <= (vdm_EXPR_To.GetValue())); } }
                    if (pred_41.GetValue()) {
                      Sequence tmpseq_47;
                      tmpseq_47 = vdm_EXPR_Seq;
                      reselem_37 = (Record) (tmpseq_47[vdm_EXPR_i.GetValue()]);
                      res_l_36.ImpAppend(reselem_37);
                    }
                  }
                }
              }
              tmpVar_35 = res_l_36;
            }
            rexpr_34.SetField(1, tmpVar_35);
          }
          return rexpr_34;
        }
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalSubSequenceExpr");
}

Record vdm_EXPR_EvalSubSet(Record var_1_1, Record var_2_2) {
  Set vdm_EXPR_op1__sv;
  Set vdm_EXPR_op2__sv;
  bool succ_3 = true;
  {
    succ_3 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_SET == ((Record) var_1_1).GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= ((Record) var_1_1).Length(); i_5++) 
          e_l_4.ImpAppend(((Record) var_1_1).GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Set permI_6;
          permI_6 = (Set) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op1__sv = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  {
    succ_3 = false;
    if (var_2_2.IsRecord()) 
      if (vdm_SEM_SET == ((Record) var_2_2).GetTag()) {
        Sequence e_l_7;
        for (int i_8 = 1; i_8 <= ((Record) var_2_2).Length(); i_8++) 
          e_l_7.ImpAppend(((Record) var_2_2).GetField(i_8));
        if (succ_3 = 1 == (Int) (e_l_7.Length())) {
          Set permI_9;
          permI_9 = (Set) (e_l_7.Hd());
          succ_3 = true;
          {
            vdm_EXPR_op2__sv = permI_9;
            succ_3 = true;
          }
        }
      }
  }
  if (succ_3) {
    Bool vdm_EXPR_b;
    vdm_EXPR_b = vdm_EXPR_op1__sv.SubSet(vdm_EXPR_op2__sv);
    {
      Record rexpr_14(vdm_SEM_BOOL, length_SEM_BOOL);
      {
        rexpr_14 = Record(vdm_SEM_BOOL, length_SEM_BOOL);
        rexpr_14.SetField(1, vdm_EXPR_b);
      }
      return rexpr_14;
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalSubSet");
}

Record vdm_EXPR_EvalTokenConstructorExpr(Record var_1_1) {
  Record vdm_EXPR_expr;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_TokenConstructorExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 2 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_expr = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    bool succ_6;
    Record tmpVal_7;
    tmpVal_7 = vdm_EXPR_EvalExpr(vdm_EXPR_expr);
    Record vdm_EXPR_val__v;
    succ_6 = true;
    {
      vdm_EXPR_val__v = tmpVal_7;
      succ_6 = true;
    }
    if (!succ_6) 
      RunTime("Pattern match did not succeed in value definition");
    {
      Record rexpr_9(vdm_SEM_TOKEN, length_SEM_TOKEN);
      {
        rexpr_9 = Record(vdm_SEM_TOKEN, length_SEM_TOKEN);
        rexpr_9.SetField(1, vdm_EXPR_val__v);
      }
      return rexpr_9;
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalTokenConstructorExpr");
}

Record vdm_EXPR_EvalTupleConstructorExpr(Record var_1_1) {
  Sequence vdm_EXPR_fields;
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_AS_TupleConstructorExpr == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 2 == (Int) (e_l_3.Length())) {
          Generic permI_5;
          permI_5 = (Generic) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_fields = permI_5;
            succ_2 = true;
          }
          permI_5 = (Generic) (e_l_3[2]);
          if (succ_2) 
            succ_2 = true;
        }
      }
  }
  if (succ_2) {
    Sequence vdm_EXPR_fields__lv;
    {
      Sequence res_l_8;
      Record reselem_9;
      Set resBind_s_11;
      {
        Set riseq_16;
        int max_17 = (Int) (vdm_EXPR_fields.Length());
        for (int i_18 = 1; i_18 <= max_17; i_18++) 
          riseq_16.Insert((Int) i_18);
        resBind_s_11 = riseq_16;
      }
      Sequence bind_l_10;
      if ((Int) (resBind_s_11.Card()) != (Int) 0) 
        bind_l_10 = Sort(resBind_s_11);
      bool succ_12 = true;
      Int vdm_EXPR_i;
      Generic tmpe_23;
      for (int i_22 = bind_l_10.First(tmpe_23); i_22; i_22 = bind_l_10.Next(tmpe_23)) {
        Int e_14 = tmpe_23;
        {
          vdm_EXPR_i = e_14;
          succ_12 = true;
          if (succ_12) {
            Record tmpVar_19;
            {
              Sequence tmpseq_20;
              tmpseq_20 = vdm_EXPR_fields;
              tmpVar_19 = (Record) (tmpseq_20[vdm_EXPR_i.GetValue()]);
            }
            reselem_9 = vdm_EXPR_EvalExpr(tmpVar_19);
            res_l_8.ImpAppend(reselem_9);
          }
        }
      }
      vdm_EXPR_fields__lv = res_l_8;
    }
    {
      Record rexpr_24(vdm_SEM_TUPLE, length_SEM_TUPLE);
      {
        rexpr_24 = Record(vdm_SEM_TUPLE, length_SEM_TUPLE);
        rexpr_24.SetField(1, vdm_EXPR_fields__lv);
      }
      return rexpr_24;
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: EvalTupleConstructorExpr");
}

Record vdm_EXPR_GetApproxVal(Record var_1_1, Sequence var_2_2) {
  Sequence vdm_EXPR_arg__lv;
  Record vdm_EXPR_loc(vdm_AS_Name, length_AS_Name);
  bool succ_3 = true;
  {
    succ_3 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_LOC == var_1_1.GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= var_1_1.Length(); i_5++) 
          e_l_4.ImpAppend(var_1_1.GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Record permI_6(vdm_AS_Name, length_AS_Name);
          permI_6 = (Record) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_loc = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  {
    vdm_EXPR_arg__lv = var_2_2;
    succ_3 = true;
  }
  if (succ_3) {
    bool succ_7;
    Record tmpVal_8;
    tmpVal_8 = vdm_EXPR_GetModule(vdm_EXPR_CurrentModule());
    Record vdm_EXPR_sigmamo;
    succ_7 = true;
    {
      vdm_EXPR_sigmamo = tmpVal_8;
      succ_7 = true;
    }
    if (!succ_7) 
      RunTime("Pattern match did not succeed in value definition");
    {
      Record vdm_EXPR_inout;
      Generic tmpGen_12;
      {
        Record tmpRec_15;
        tmpRec_15 = vdm_EXPR_sigmamo;
        if (((Record) tmpRec_15).Is(vdm_GLOBAL_SigmaMO)) 
          tmpGen_12 = ((Record) tmpRec_15).GetField(pos_GLOBAL_SigmaMO_gv);
        else 
          RunTime("Unknown record field selector");
      }
      if (tmpGen_12.IsMap()) {
        Map tmpRes_14 = tmpGen_12;
        vdm_EXPR_inout = (Record) (tmpRes_14[vdm_EXPR_loc]);
      }
      else 
        RunTime("The argument could not be applied");
      Record vdm_EXPR_args(vdm_SEM_SEQ, length_SEM_SEQ);
      vdm_EXPR_args = Record(vdm_SEM_SEQ, length_SEM_SEQ);
      vdm_EXPR_args.SetField(1, vdm_EXPR_arg__lv);
      {
        Bool cond_18;
        {
          Record argTmp_19;
          argTmp_19 = vdm_EXPR_inout;
          if (argTmp_19.IsRecord()) 
            cond_18 = vdm_SEM_MAP == argTmp_19.GetTag();
          else 
            cond_18 = false;
        }
        if (cond_18.GetValue()) {
          Generic vdm_EXPR_inout__v;
          Record tmpRec_22;
          tmpRec_22 = vdm_EXPR_inout;
          if (((Record) tmpRec_22).Is(vdm_SEM_TUPLE)) 
            vdm_EXPR_inout__v = ((Record) tmpRec_22).GetField(pos_SEM_TUPLE_v);
          else 
            if (((Record) tmpRec_22).Is(vdm_SEM_TOKEN)) 
              vdm_EXPR_inout__v = ((Record) tmpRec_22).GetField(pos_SEM_TOKEN_v);
            else 
              if (((Record) tmpRec_22).Is(vdm_SEM_SET)) 
                vdm_EXPR_inout__v = ((Record) tmpRec_22).GetField(pos_SEM_SET_v);
              else 
                if (((Record) tmpRec_22).Is(vdm_SEM_SEQ)) 
                  vdm_EXPR_inout__v = ((Record) tmpRec_22).GetField(pos_SEM_SEQ_v);
                else 
                  if (((Record) tmpRec_22).Is(vdm_SEM_REC)) 
                    vdm_EXPR_inout__v = ((Record) tmpRec_22).GetField(pos_SEM_REC_v);
                  else 
                    if (((Record) tmpRec_22).Is(vdm_SEM_QUOTE)) 
                      vdm_EXPR_inout__v = ((Record) tmpRec_22).GetField(pos_SEM_QUOTE_v);
                    else 
                      if (((Record) tmpRec_22).Is(vdm_SEM_NUM)) 
                        vdm_EXPR_inout__v = ((Record) tmpRec_22).GetField(pos_SEM_NUM_v);
                      else 
                        if (((Record) tmpRec_22).Is(vdm_SEM_MAP)) 
                          vdm_EXPR_inout__v = ((Record) tmpRec_22).GetField(pos_SEM_MAP_v);
                        else 
                          if (((Record) tmpRec_22).Is(vdm_SEM_ExtVAL)) 
                            vdm_EXPR_inout__v = ((Record) tmpRec_22).GetField(pos_SEM_ExtVAL_v);
                          else 
                            if (((Record) tmpRec_22).Is(vdm_SEM_EXIT)) 
                              vdm_EXPR_inout__v = ((Record) tmpRec_22).GetField(pos_SEM_EXIT_v);
                            else 
                              if (((Record) tmpRec_22).Is(vdm_SEM_CHAR)) 
                                vdm_EXPR_inout__v = ((Record) tmpRec_22).GetField(pos_SEM_CHAR_v);
                              else 
                                if (((Record) tmpRec_22).Is(vdm_SEM_BOOL)) 
                                  vdm_EXPR_inout__v = ((Record) tmpRec_22).GetField(pos_SEM_BOOL_v);
                                else 
                                  RunTime("Unknown record field selector");
          {
            Bool cond_23;
            {
              Set var2_25;
              if (!vdm_EXPR_inout__v.IsMap()) 
                RunTime("A map was expected");
              else 
                var2_25 = ((Map) vdm_EXPR_inout__v).Dom();
              cond_23 = (Bool) (var2_25.InSet(vdm_EXPR_args));
            }
            if (cond_23.GetValue()) {
              Generic rexpr_27;
              {
                Generic tmpGen_28;
                tmpGen_28 = vdm_EXPR_inout__v;
                if (tmpGen_28.IsSequence()) {
                  Sequence tmpRes_30 = tmpGen_28;
                  rexpr_27 = tmpRes_30[((Int) vdm_EXPR_args).GetValue()];
                }
                else 
                  if (tmpGen_28.IsMap()) {
                    Map tmpRes_30 = tmpGen_28;
                    rexpr_27 = (Record) (tmpRes_30[vdm_EXPR_args]);
                  }
                  else 
                    RunTime("The argument could not be applied");
              }
              return rexpr_27;
            }
            else { RunTime("Can not evaluate an error statement"); }
          }
        }
        else { RunTime("Can not evaluate an error statement"); }
      }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: GetApproxVal");
}

Record vdm_EXPR_GetExtFnOpVal(Record vdm_EXPR_id) {
  Record vdm_EXPR_sigmaimo(vdm_GLOBAL_SigmaIMO, length_GLOBAL_SigmaIMO);
  vdm_EXPR_sigmaimo = vdm_EXPR_GetImplModule(vdm_EXPR_CurrentModule());
  {
    Bool cond_6;
    {
      Set var2_8;
      Map unArg_9;
      Record tmpRec_10(vdm_GLOBAL_SigmaIMO, length_GLOBAL_SigmaIMO);
      tmpRec_10 = vdm_EXPR_sigmaimo;
      if (tmpRec_10.Is(vdm_GLOBAL_SigmaIMO)) 
        unArg_9 = tmpRec_10.GetField(pos_GLOBAL_SigmaIMO_extfns);
      else 
        RunTime("Unknown record field selector");
      var2_8 = unArg_9.Dom();
      cond_6 = (Bool) (var2_8.InSet(vdm_EXPR_id));
    }
    if (cond_6.GetValue()) {
      Record rexpr_15(vdm_SEM_ExtFN, length_SEM_ExtFN);
      {
        Map tmp_m_16;
        {
          Record tmpRec_18(vdm_GLOBAL_SigmaIMO, length_GLOBAL_SigmaIMO);
          tmpRec_18 = vdm_EXPR_sigmaimo;
          if (tmpRec_18.Is(vdm_GLOBAL_SigmaIMO)) 
            tmp_m_16 = tmpRec_18.GetField(pos_GLOBAL_SigmaIMO_extfns);
          else 
            RunTime("Unknown record field selector");
        }
        rexpr_15 = (Record) (((Map) tmp_m_16)[vdm_EXPR_id]);
      }
      return rexpr_15;
    }
    else {
      Record rexpr_11(vdm_SEM_ExtOP, length_SEM_ExtOP);
      {
        Map tmp_m_12;
        {
          Record tmpRec_14(vdm_GLOBAL_SigmaIMO, length_GLOBAL_SigmaIMO);
          tmpRec_14 = vdm_EXPR_sigmaimo;
          if (tmpRec_14.Is(vdm_GLOBAL_SigmaIMO)) 
            tmp_m_12 = tmpRec_14.GetField(pos_GLOBAL_SigmaIMO_extops);
          else 
            RunTime("Unknown record field selector");
        }
        rexpr_11 = (Record) (((Map) tmp_m_12)[vdm_EXPR_id]);
      }
      return rexpr_11;
    }
  }
}

// 20060105
//Record vdm_EXPR_GetExtVal(Record vdm_EXPR_id) {
//  Record rexpr_3;
//  {
//    Record tmpVar_4(vdm_SEM_LOC, length_SEM_LOC);
//    {
//      tmpVar_4 = Record(vdm_SEM_LOC, length_SEM_LOC);
//      tmpVar_4.SetField(1, vdm_EXPR_id);
//    }
//    Sequence tmpVar_6;
//    tmpVar_6 = Sequence();
//    rexpr_3 = vdm_EXPR_APPROXVal(tmpVar_4, tmpVar_6);
//  }
//  return rexpr_3;
//}

Record vdm_EXPR_GetFunctionVal(Record vdm_EXPR_id) {
  bool succ_3;
  Record tmpVal_4;
  tmpVal_4 = vdm_EXPR_GetModule(vdm_EXPR_CurrentModule());
  Record vdm_EXPR_sigmamo;
  succ_3 = true;
  {
    vdm_EXPR_sigmamo = tmpVal_4;
    succ_3 = true;
  }
  if (!succ_3) 
    RunTime("Pattern match did not succeed in value definition");
  {
    Bool cond_6;
    {
      Set var2_8;
      Map unArg_9;
      Record tmpRec_10;
      tmpRec_10 = vdm_EXPR_sigmamo;
      if (((Record) tmpRec_10).Is(vdm_GLOBAL_SigmaMO)) 
        unArg_9 = ((Record) tmpRec_10).GetField(pos_GLOBAL_SigmaMO_explfns);
      else 
        RunTime("Unknown record field selector");
      var2_8 = unArg_9.Dom();
      cond_6 = (Bool) (var2_8.InSet(vdm_EXPR_id));
    }
    if (cond_6.GetValue()) {
      Record rexpr_15(vdm_SEM_ExplFN, length_SEM_ExplFN);
      {
        Map tmp_m_16;
        {
          Record tmpRec_18;
          tmpRec_18 = vdm_EXPR_sigmamo;
          if (((Record) tmpRec_18).Is(vdm_GLOBAL_SigmaMO)) 
            tmp_m_16 = ((Record) tmpRec_18).GetField(pos_GLOBAL_SigmaMO_explfns);
          else 
            RunTime("Unknown record field selector");
        }
        rexpr_15 = (Record) (((Map) tmp_m_16)[vdm_EXPR_id]);
      }
      return rexpr_15;
    }
    else {
      Record rexpr_11(vdm_SEM_ImplFN, length_SEM_ImplFN);
      {
        Map tmp_m_12;
        {
          Record tmpRec_14;
          tmpRec_14 = vdm_EXPR_sigmamo;
          if (((Record) tmpRec_14).Is(vdm_GLOBAL_SigmaMO)) 
            tmp_m_12 = ((Record) tmpRec_14).GetField(pos_GLOBAL_SigmaMO_implfns);
          else 
            RunTime("Unknown record field selector");
        }
        rexpr_11 = (Record) (((Map) tmp_m_12)[vdm_EXPR_id]);
      }
      return rexpr_11;
    }
  }
}

Record vdm_EXPR_GetOperationVal(Record vdm_EXPR_id) {
  bool succ_3;
  Record tmpVal_4;
  tmpVal_4 = vdm_EXPR_GetModule(vdm_EXPR_CurrentModule());
  Record vdm_EXPR_sigmamo;
  succ_3 = true;
  {
    vdm_EXPR_sigmamo = tmpVal_4;
    succ_3 = true;
  }
  if (!succ_3) 
    RunTime("Pattern match did not succeed in value definition");
  {
    Bool cond_6;
    {
      Set var2_8;
      Map unArg_9;
      Record tmpRec_10;
      tmpRec_10 = vdm_EXPR_sigmamo;
      if (((Record) tmpRec_10).Is(vdm_GLOBAL_SigmaMO)) 
        unArg_9 = ((Record) tmpRec_10).GetField(pos_GLOBAL_SigmaMO_explops);
      else 
        RunTime("Unknown record field selector");
      var2_8 = unArg_9.Dom();
      cond_6 = (Bool) (var2_8.InSet(vdm_EXPR_id));
    }
    if (cond_6.GetValue()) {
      Record rexpr_15(vdm_SEM_ExplOP, length_SEM_ExplOP);
      {
        Map tmp_m_16;
        {
          Record tmpRec_18;
          tmpRec_18 = vdm_EXPR_sigmamo;
          if (((Record) tmpRec_18).Is(vdm_GLOBAL_SigmaMO)) 
            tmp_m_16 = ((Record) tmpRec_18).GetField(pos_GLOBAL_SigmaMO_explops);
          else 
            RunTime("Unknown record field selector");
        }
        rexpr_15 = (Record) (((Map) tmp_m_16)[vdm_EXPR_id]);
      }
      return rexpr_15;
    }
    else {
      Record rexpr_11(vdm_SEM_ImplOP, length_SEM_ImplOP);
      {
        Map tmp_m_12;
        {
          Record tmpRec_14;
          tmpRec_14 = vdm_EXPR_sigmamo;
          if (((Record) tmpRec_14).Is(vdm_GLOBAL_SigmaMO)) 
            tmp_m_12 = ((Record) tmpRec_14).GetField(pos_GLOBAL_SigmaMO_implops);
          else 
            RunTime("Unknown record field selector");
        }
        rexpr_11 = (Record) (((Map) tmp_m_12)[vdm_EXPR_id]);
      }
      return rexpr_11;
    }
  }
}

Record vdm_EXPR_GetPolyVal(Record vdm_EXPR_id) {
  bool succ_3;
  Record tmpVal_4;
  tmpVal_4 = vdm_EXPR_GetModule(vdm_EXPR_CurrentModule());
  Record vdm_EXPR_sigmamo;
  succ_3 = true;
  {
    vdm_EXPR_sigmamo = tmpVal_4;
    succ_3 = true;
  }
  if (!succ_3) 
    RunTime("Pattern match did not succeed in value definition");
  {
    Bool cond_6;
    {
      Set var2_8;
      Map unArg_9;
      Record tmpRec_10;
      tmpRec_10 = vdm_EXPR_sigmamo;
      if (((Record) tmpRec_10).Is(vdm_GLOBAL_SigmaMO)) 
        unArg_9 = ((Record) tmpRec_10).GetField(pos_GLOBAL_SigmaMO_explpolys);
      else 
        RunTime("Unknown record field selector");
      var2_8 = unArg_9.Dom();
      cond_6 = (Bool) (var2_8.InSet(vdm_EXPR_id));
    }
    if (cond_6.GetValue()) {
      Record rexpr_15(vdm_SEM_ExplPOLY, length_SEM_ExplPOLY);
      {
        Map tmp_m_16;
        {
          Record tmpRec_18;
          tmpRec_18 = vdm_EXPR_sigmamo;
          if (((Record) tmpRec_18).Is(vdm_GLOBAL_SigmaMO)) 
            tmp_m_16 = ((Record) tmpRec_18).GetField(pos_GLOBAL_SigmaMO_explpolys);
          else 
            RunTime("Unknown record field selector");
        }
        rexpr_15 = (Record) (((Map) tmp_m_16)[vdm_EXPR_id]);
      }
      return rexpr_15;
    }
    else {
      Record rexpr_11(vdm_SEM_ImplPOLY, length_SEM_ImplPOLY);
      {
        Map tmp_m_12;
        {
          Record tmpRec_14;
          tmpRec_14 = vdm_EXPR_sigmamo;
          if (((Record) tmpRec_14).Is(vdm_GLOBAL_SigmaMO)) 
            tmp_m_12 = ((Record) tmpRec_14).GetField(pos_GLOBAL_SigmaMO_implpolys);
          else 
            RunTime("Unknown record field selector");
        }
        rexpr_11 = (Record) (((Map) tmp_m_12)[vdm_EXPR_id]);
      }
      return rexpr_11;
    }
  }
}

Bool vdm_EXPR_IsDefApproxVal(Record var_1_1) {
  Record vdm_EXPR_loc(vdm_AS_Name, length_AS_Name);
  bool succ_2 = true;
  {
    succ_2 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_LOC == var_1_1.GetTag()) {
        Sequence e_l_3;
        for (int i_4 = 1; i_4 <= var_1_1.Length(); i_4++) 
          e_l_3.ImpAppend(var_1_1.GetField(i_4));
        if (succ_2 = 1 == (Int) (e_l_3.Length())) {
          Record permI_5(vdm_AS_Name, length_AS_Name);
          permI_5 = (Record) (e_l_3.Hd());
          succ_2 = true;
          {
            vdm_EXPR_loc = permI_5;
            succ_2 = true;
          }
        }
      }
  }
  if (succ_2) {
    bool succ_6;
    Record tmpVal_7;
    tmpVal_7 = vdm_EXPR_GetModule(vdm_EXPR_CurrentModule());
    Record vdm_EXPR_sigmamo;
    succ_6 = true;
    {
      vdm_EXPR_sigmamo = tmpVal_7;
      succ_6 = true;
    }
    if (!succ_6) 
      RunTime("Pattern match did not succeed in value definition");
    {
      Bool rexpr_9;
      {
        Set var2_11;
        Generic unArg_12;
        Record tmpRec_13;
        tmpRec_13 = vdm_EXPR_sigmamo;
        if (((Record) tmpRec_13).Is(vdm_GLOBAL_SigmaMO)) 
          unArg_12 = ((Record) tmpRec_13).GetField(pos_GLOBAL_SigmaMO_gv);
        else 
          RunTime("Unknown record field selector");
        if (!unArg_12.IsMap()) 
          RunTime("A map was expected");
        else 
          var2_11 = ((Map) unArg_12).Dom();
        rexpr_9 = (Bool) (var2_11.InSet(vdm_EXPR_loc));
      }
      return rexpr_9;
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: IsDefApproxVal");
}

Bool vdm_EXPR_IsExtFnOp(Record vdm_EXPR_id) {
  Record vdm_EXPR_sigmaimo(vdm_GLOBAL_SigmaIMO, length_GLOBAL_SigmaIMO);
  vdm_EXPR_sigmaimo = vdm_EXPR_GetImplModule(vdm_EXPR_CurrentModule());
  {
    Bool rexpr_6;
    {
      Bool var1_7;
      Set var2_10;
      Map unArg_11;
      Record tmpRec_12(vdm_GLOBAL_SigmaIMO, length_GLOBAL_SigmaIMO);
      tmpRec_12 = vdm_EXPR_sigmaimo;
      if (tmpRec_12.Is(vdm_GLOBAL_SigmaIMO)) 
        unArg_11 = tmpRec_12.GetField(pos_GLOBAL_SigmaIMO_extfns);
      else 
        RunTime("Unknown record field selector");
      var2_10 = unArg_11.Dom();
      var1_7 = (Bool) (var2_10.InSet(vdm_EXPR_id));
      if (!(rexpr_6 = var1_7).GetValue()) {
        Bool var2_8;
        Set var2_14;
        Map unArg_15;
        Record tmpRec_16(vdm_GLOBAL_SigmaIMO, length_GLOBAL_SigmaIMO);
        tmpRec_16 = vdm_EXPR_sigmaimo;
        if (tmpRec_16.Is(vdm_GLOBAL_SigmaIMO)) 
          unArg_15 = tmpRec_16.GetField(pos_GLOBAL_SigmaIMO_extops);
        else 
          RunTime("Unknown record field selector");
        var2_14 = unArg_15.Dom();
        var2_8 = (Bool) (var2_14.InSet(vdm_EXPR_id));
        rexpr_6 = var2_8;
      }
    }
    return rexpr_6;
  }
}

Bool vdm_EXPR_IsExtVal(Record vdm_EXPR_id) {
  Record vdm_EXPR_sigmaimo(vdm_GLOBAL_SigmaIMO, length_GLOBAL_SigmaIMO);
  vdm_EXPR_sigmaimo = vdm_EXPR_GetImplModule(vdm_EXPR_CurrentModule());
  {
    Bool rexpr_6;
    {
      Set var2_8;
      Generic unArg_9;
      Record tmpRec_10(vdm_GLOBAL_SigmaIMO, length_GLOBAL_SigmaIMO);
      tmpRec_10 = vdm_EXPR_sigmaimo;
      if (tmpRec_10.Is(vdm_GLOBAL_SigmaIMO)) 
        unArg_9 = tmpRec_10.GetField(pos_GLOBAL_SigmaIMO_extv);
      else 
        RunTime("Unknown record field selector");
      if (!unArg_9.IsMap()) 
        RunTime("A map was expected");
      else 
        var2_8 = ((Map) unArg_9).Dom();
      rexpr_6 = (Bool) (var2_8.InSet(vdm_EXPR_id));
    }
    return rexpr_6;
  }
}

Bool vdm_EXPR_IsFunction(Record vdm_EXPR_id) {
  bool succ_3;
  Record tmpVal_4;
  tmpVal_4 = vdm_EXPR_GetModule(vdm_EXPR_CurrentModule());
  Record vdm_EXPR_sigmamo;
  succ_3 = true;
  {
    vdm_EXPR_sigmamo = tmpVal_4;
    succ_3 = true;
  }
  if (!succ_3) 
    RunTime("Pattern match did not succeed in value definition");
  {
    Bool rexpr_6;
    {
      Bool var1_7;
      Set var2_10;
      Map unArg_11;
      Record tmpRec_12;
      tmpRec_12 = vdm_EXPR_sigmamo;
      if (((Record) tmpRec_12).Is(vdm_GLOBAL_SigmaMO)) 
        unArg_11 = ((Record) tmpRec_12).GetField(pos_GLOBAL_SigmaMO_explfns);
      else 
        RunTime("Unknown record field selector");
      var2_10 = unArg_11.Dom();
      var1_7 = (Bool) (var2_10.InSet(vdm_EXPR_id));
      if (!(rexpr_6 = var1_7).GetValue()) {
        Bool var2_8;
        Set var2_14;
        Map unArg_15;
        Record tmpRec_16;
        tmpRec_16 = vdm_EXPR_sigmamo;
        if (((Record) tmpRec_16).Is(vdm_GLOBAL_SigmaMO)) 
          unArg_15 = ((Record) tmpRec_16).GetField(pos_GLOBAL_SigmaMO_implfns);
        else 
          RunTime("Unknown record field selector");
        var2_14 = unArg_15.Dom();
        var2_8 = (Bool) (var2_14.InSet(vdm_EXPR_id));
        rexpr_6 = var2_8;
      }
    }
    return rexpr_6;
  }
}

Bool vdm_EXPR_IsOperation(Record vdm_EXPR_id) {
  bool succ_3;
  Record tmpVal_4;
  tmpVal_4 = vdm_EXPR_GetModule(vdm_EXPR_CurrentModule());
  Record vdm_EXPR_sigmamo;
  succ_3 = true;
  {
    vdm_EXPR_sigmamo = tmpVal_4;
    succ_3 = true;
  }
  if (!succ_3) 
    RunTime("Pattern match did not succeed in value definition");
  {
    Bool rexpr_6;
    {
      Bool var1_7;
      Set var2_10;
      Map unArg_11;
      Record tmpRec_12;
      tmpRec_12 = vdm_EXPR_sigmamo;
      if (((Record) tmpRec_12).Is(vdm_GLOBAL_SigmaMO)) 
        unArg_11 = ((Record) tmpRec_12).GetField(pos_GLOBAL_SigmaMO_explops);
      else 
        RunTime("Unknown record field selector");
      var2_10 = unArg_11.Dom();
      var1_7 = (Bool) (var2_10.InSet(vdm_EXPR_id));
      if (!(rexpr_6 = var1_7).GetValue()) {
        Bool var2_8;
        Set var2_14;
        Map unArg_15;
        Record tmpRec_16;
        tmpRec_16 = vdm_EXPR_sigmamo;
        if (((Record) tmpRec_16).Is(vdm_GLOBAL_SigmaMO)) 
          unArg_15 = ((Record) tmpRec_16).GetField(pos_GLOBAL_SigmaMO_implops);
        else 
          RunTime("Unknown record field selector");
        var2_14 = unArg_15.Dom();
        var2_8 = (Bool) (var2_14.InSet(vdm_EXPR_id));
        rexpr_6 = var2_8;
      }
    }
    return rexpr_6;
  }
}

Bool vdm_EXPR_IsPoly(Record vdm_EXPR_id) {
  bool succ_3;
  Record tmpVal_4;
  tmpVal_4 = vdm_EXPR_GetModule(vdm_EXPR_CurrentModule());
  Record vdm_EXPR_sigmamo;
  succ_3 = true;
  {
    vdm_EXPR_sigmamo = tmpVal_4;
    succ_3 = true;
  }
  if (!succ_3) 
    RunTime("Pattern match did not succeed in value definition");
  {
    Bool rexpr_6;
    {
      Bool var1_7;
      Set var2_10;
      Map unArg_11;
      Record tmpRec_12;
      tmpRec_12 = vdm_EXPR_sigmamo;
      if (((Record) tmpRec_12).Is(vdm_GLOBAL_SigmaMO)) 
        unArg_11 = ((Record) tmpRec_12).GetField(pos_GLOBAL_SigmaMO_explpolys);
      else 
        RunTime("Unknown record field selector");
      var2_10 = unArg_11.Dom();
      var1_7 = (Bool) (var2_10.InSet(vdm_EXPR_id));
      if (!(rexpr_6 = var1_7).GetValue()) {
        Bool var2_8;
        Set var2_14;
        Map unArg_15;
        Record tmpRec_16;
        tmpRec_16 = vdm_EXPR_sigmamo;
        if (((Record) tmpRec_16).Is(vdm_GLOBAL_SigmaMO)) 
          unArg_15 = ((Record) tmpRec_16).GetField(pos_GLOBAL_SigmaMO_implpolys);
        else 
          RunTime("Unknown record field selector");
        var2_14 = unArg_15.Dom();
        var2_8 = (Bool) (var2_14.InSet(vdm_EXPR_id));
        rexpr_6 = var2_8;
      }
    }
    return rexpr_6;
  }
}

Record vdm_EXPR_IterateFct(Record vdm_EXPR_fn__e, Record vdm_EXPR_num) {
  bool succ_4;
  Record tmpVal_5;
  tmpVal_5 = vdm_EXPR_num;
  Real vdm_EXPR_n;
  succ_4 = true;
  {
    succ_4 = false;
    if (tmpVal_5.IsRecord()) 
      if (vdm_SEM_NUM == ((Record) tmpVal_5).GetTag()) {
        Sequence e_l_6;
        for (int i_7 = 1; i_7 <= ((Record) tmpVal_5).Length(); i_7++) 
          e_l_6.ImpAppend(((Record) tmpVal_5).GetField(i_7));
        if (succ_4 = 1 == (Int) (e_l_6.Length())) {
          Real permI_8;
          permI_8 = (Real) (e_l_6.Hd());
          succ_4 = true;
          {
            vdm_EXPR_n = permI_8;
            succ_4 = true;
          }
        }
      }
  }
  if (!succ_4) 
    RunTime("Pattern match did not succeed in value definition");
  {
    Bool cond_9;
    cond_9 = (Bool) (vdm_EXPR_n == (Int) 1);
    if (cond_9.GetValue()) {
      Record rexpr_99;
      rexpr_99 = vdm_EXPR_EvalExpr(vdm_EXPR_fn__e);
      return rexpr_99;
    }
    else {
      cond_9 = (Bool) ((vdm_EXPR_n.GetValue()) > (((Int) 1).GetValue()));
      if (cond_9.GetValue()) {
        Quote vdm_EXPR_binop;
        vdm_EXPR_binop = (Quote) "COMPOSE";
        {
          Record vdm_EXPR_body(vdm_AS_BinaryExpr, length_AS_BinaryExpr);
          {
            vdm_EXPR_body = Record(vdm_AS_BinaryExpr, length_AS_BinaryExpr);
            vdm_EXPR_body.SetField(1, vdm_EXPR_fn__e);
            vdm_EXPR_body.SetField(2, vdm_EXPR_binop);
            vdm_EXPR_body.SetField(3, vdm_EXPR_fn__e);
            vdm_EXPR_body.SetField(4, Nil());
          }
          {
            Int lb_84;
            lb_84 = (Int) 2;
            int ilb_88 = lb_84.GetValue();
            Real ub_85;
            ub_85 = vdm_EXPR_n - (Int) 1;
            if (!IsInteger(ub_85)) 
              RunTime("An integer was expected in indexed for loop");
            int iub_89 = ((Int) ub_85).GetValue();
            Int by_91;
            by_91 = (Int) 1;
            int iby_90 = by_91.GetValue();
            if (iby_90 == 0) 
              RunTime("Step length in indexed for loop was 0");
            if (ilb_88 <= iub_89 && iby_90 > 0 || ilb_88 >= iub_89 && iby_90 < 0) 
              for (              ; iby_90 < 0 ? ilb_88 >= iub_89 : ilb_88 <= iub_89; ilb_88 += iby_90) {
                Int vdm_EXPR_i = (Int) ilb_88;
                {
                  Record rhs_92(vdm_AS_BinaryExpr, length_AS_BinaryExpr);
                  {
                    rhs_92 = Record(vdm_AS_BinaryExpr, length_AS_BinaryExpr);
                    rhs_92.SetField(1, vdm_EXPR_fn__e);
                    rhs_92.SetField(2, vdm_EXPR_binop);
                    rhs_92.SetField(3, vdm_EXPR_body);
                    rhs_92.SetField(4, Nil());
                  }
                  vdm_EXPR_body = rhs_92;
                }
              }
          }
          {
            Record rexpr_97;
            rexpr_97 = vdm_EXPR_EvalBinaryExpr(vdm_EXPR_body);
            return rexpr_97;
          }
        }
      }
      else {
        cond_9 = (Bool) (vdm_EXPR_n == (Int) 0);
        if (cond_9.GetValue()) {
          bool succ_14;
          Record tmpVal_15;
          tmpVal_15 = vdm_EXPR_EvalExpr(vdm_EXPR_fn__e);
          Sequence vdm_EXPR_parms;
          Record vdm_EXPR_tp;
          succ_14 = true;
          {
            succ_14 = false;
            if (tmpVal_15.IsRecord()) 
              if (vdm_SEM_ExplFN == ((Record) tmpVal_15).GetTag()) {
                Sequence e_l_17;
                for (int i_18 = 1; i_18 <= ((Record) tmpVal_15).Length(); i_18++) 
                  e_l_17.ImpAppend(((Record) tmpVal_15).GetField(i_18));
                if (succ_14 = 10 == (Int) (e_l_17.Length())) {
                  Generic permI_19;
                  permI_19 = (Generic) (e_l_17.Hd());
                  succ_14 = true;
                  {
                    vdm_EXPR_tp = permI_19;
                    succ_14 = true;
                  }
                  permI_19 = (Generic) (e_l_17[2]);
                  if (succ_14) {
                    vdm_EXPR_parms = permI_19;
                    succ_14 = true;
                  }
                  permI_19 = (Generic) (e_l_17[3]);
                  if (succ_14) 
                    succ_14 = true;
                  permI_19 = (Generic) (e_l_17[4]);
                  if (succ_14) 
                    succ_14 = true;
                  permI_19 = (Generic) (e_l_17[5]);
                  if (succ_14) 
                    succ_14 = true;
                  permI_19 = (Generic) (e_l_17[6]);
                  if (succ_14) 
                    succ_14 = true;
                  permI_19 = (Generic) (e_l_17[7]);
                  if (succ_14) 
                    succ_14 = true;
                  permI_19 = (Generic) (e_l_17[8]);
                  if (succ_14) 
                    succ_14 = true;
                  permI_19 = (Generic) (e_l_17[9]);
                  if (succ_14) 
                    succ_14 = true;
                  permI_19 = (Generic) (e_l_17[10]);
                  if (succ_14) 
                    succ_14 = true;
                }
              }
          }
          if (!succ_14) 
            RunTime("Pattern match did not succeed in value definition");
          {
            Bool cond_20;
            {
              Int var1_21;
              Sequence unArg_23;
              Record tmpRec_24;
              tmpRec_24 = vdm_EXPR_tp;
              if (((Record) tmpRec_24).Is(vdm_AS_TotalFnType)) 
                unArg_23 = ((Record) tmpRec_24).GetField(pos_AS_TotalFnType_fndom);
              else 
                if (((Record) tmpRec_24).Is(vdm_AS_PartialFnType)) 
                  unArg_23 = ((Record) tmpRec_24).GetField(pos_AS_PartialFnType_fndom);
                else 
                  RunTime("Unknown record field selector");
              var1_21 = (Int) (unArg_23.Length());
              cond_20 = (Bool) (!(var1_21 == (Int) 1));
            }
            if (cond_20.GetValue()) 
              RunTime("Can not evaluate an error statement");
            else {
              bool succ_25;
              Sequence tmpVal_26;
              {
                Record tmpRec_27;
                tmpRec_27 = vdm_EXPR_tp;
                if (((Record) tmpRec_27).Is(vdm_AS_TotalFnType)) 
                  tmpVal_26 = ((Record) tmpRec_27).GetField(pos_AS_TotalFnType_fndom);
                else 
                  if (((Record) tmpRec_27).Is(vdm_AS_PartialFnType)) 
                    tmpVal_26 = ((Record) tmpRec_27).GetField(pos_AS_PartialFnType_fndom);
                  else 
                    RunTime("Unknown record field selector");
              }
              Record vdm_EXPR_fnrng;
              succ_25 = true;
{ if (succ_25 = tmpVal_26.IsSequence()) { if (succ_25 = 1 == (Int) (tmpVal_26.Length())) {
   Record permI_28;
   permI_28 = (Record) (tmpVal_26.Hd());
   succ_25 = true;
   {
     vdm_EXPR_fnrng = permI_28;
     succ_25 = true;
   }
 } } }
              if (!succ_25) 
                RunTime("Pattern match did not succeed in value definition");
              Record vdm_EXPR_res__tp(vdm_AS_PartialFnType, length_AS_PartialFnType);
              vdm_EXPR_res__tp = Record(vdm_AS_PartialFnType, length_AS_PartialFnType);
              Sequence tmpVar_30;
              {
                Record tmpRec_31;
                tmpRec_31 = vdm_EXPR_tp;
                if (((Record) tmpRec_31).Is(vdm_AS_TotalFnType)) 
                  tmpVar_30 = ((Record) tmpRec_31).GetField(pos_AS_TotalFnType_fndom);
                else 
                  if (((Record) tmpRec_31).Is(vdm_AS_PartialFnType)) 
                    tmpVar_30 = ((Record) tmpRec_31).GetField(pos_AS_PartialFnType_fndom);
                  else 
                    RunTime("Unknown record field selector");
              }
              vdm_EXPR_res__tp.SetField(1, tmpVar_30);
              vdm_EXPR_res__tp.SetField(2, vdm_EXPR_fnrng);
              Sequence vdm_EXPR_l__prm;
              {
                bool succ_34;
                Sequence tmpVal_35;
                tmpVal_35 = (Sequence) (vdm_EXPR_parms.Hd());
                Sequence vdm_EXPR_tmp;
                succ_34 = true;
                {
                  vdm_EXPR_tmp = tmpVal_35;
                  succ_34 = true;
                }
                if (!succ_34) 
                  RunTime("Pattern match did not succeed in value definition");
                {
                  Sequence res_l_37;
                  Record reselem_38;
                  Set resBind_s_40;
                  {
                    Set riseq_45;
                    int max_46 = (Int) (vdm_EXPR_tmp.Length());
                    for (int i_47 = 1; i_47 <= max_46; i_47++) 
                      riseq_45.Insert((Int) i_47);
                    resBind_s_40 = riseq_45;
                  }
                  Sequence bind_l_39;
                  if ((Int) (resBind_s_40.Card()) != (Int) 0) 
                    bind_l_39 = Sort(resBind_s_40);
                  bool succ_41 = true;
                  Int vdm_EXPR_i;
                  Generic tmpe_52;
                  for (int i_51 = bind_l_39.First(tmpe_52); i_51; i_51 = bind_l_39.Next(tmpe_52)) {
                    Int e_43 = tmpe_52;
                    {
                      vdm_EXPR_i = e_43;
                      succ_41 = true;
                      if (succ_41) {
                        Record tmpVar_48;
                        {
                          Sequence tmpseq_49;
                          tmpseq_49 = vdm_EXPR_tmp;
                          tmpVar_48 = (Record) (tmpseq_49[vdm_EXPR_i.GetValue()]);
                        }
                        reselem_38 = vdm_EXPR_GetExpr(tmpVar_48);
                        res_l_37.ImpAppend(reselem_38);
                      }
                    }
                  }
                  vdm_EXPR_l__prm = res_l_37;
                }
              }
              {
                bool succ_53;
                Record vdm_EXPR_l__bdy;
                if (((Bool) ((Int) (vdm_EXPR_l__prm.Length()) == (Int) 1)).GetValue()) {
                  Sequence tmpseq_61;
                  tmpseq_61 = vdm_EXPR_l__prm;
                  vdm_EXPR_l__bdy = (Record) (tmpseq_61[((Int) 1).GetValue()]);
                }
                else {
                  vdm_EXPR_l__bdy = Record(vdm_AS_TupleConstructorExpr, length_AS_TupleConstructorExpr);
                  vdm_EXPR_l__bdy.SetField(1, vdm_EXPR_l__prm);
                  vdm_EXPR_l__bdy.SetField(2, Nil());
                }
                Record tmpVal_63(vdm_AS_Name, length_AS_Name);
                tmpVal_63 = vdm_EXPR_CurrentModule();
                Record vdm_EXPR_modName(vdm_AS_Name, length_AS_Name);
                succ_53 = true;
                {
                  vdm_EXPR_modName = tmpVal_63;
                  succ_53 = true;
                }
                if (!succ_53) 
                  RunTime("Pattern match did not succeed in value definition");
                {
                  Record rexpr_64(vdm_SEM_ExplFN, length_SEM_ExplFN);
                  {
                    rexpr_64 = Record(vdm_SEM_ExplFN, length_SEM_ExplFN);
                    rexpr_64.SetField(1, vdm_EXPR_res__tp);
                    rexpr_64.SetField(2, vdm_EXPR_parms);
                    rexpr_64.SetField(3, vdm_EXPR_l__bdy);
                    rexpr_64.SetField(4, Nil());
                    rexpr_64.SetField(5, Nil());
                    rexpr_64.SetField(6, vdm_EXPR_MkEmptyBlkEnv((Quote) "READ_ONLY"));
                    Map tmpVar_72;
                    tmpVar_72 = Map();
                    rexpr_64.SetField(7, tmpVar_72);
                    rexpr_64.SetField(8, Nil());
                    rexpr_64.SetField(9, vdm_EXPR_modName);
                    rexpr_64.SetField(10, Nil());
                  }
                  return rexpr_64;
                }
              }
            }
          }
        }
        else { RunTime("Can not evaluate an error statement"); }
      }
    }
  }
}

Record vdm_EXPR_IterateMap(Record var_1_1, Int var_2_2) {
  Map vdm_EXPR_map__v;
  Int vdm_EXPR_n;
  bool succ_3 = true;
  {
    succ_3 = false;
    if (var_1_1.IsRecord()) 
      if (vdm_SEM_MAP == ((Record) var_1_1).GetTag()) {
        Sequence e_l_4;
        for (int i_5 = 1; i_5 <= ((Record) var_1_1).Length(); i_5++) 
          e_l_4.ImpAppend(((Record) var_1_1).GetField(i_5));
        if (succ_3 = 1 == (Int) (e_l_4.Length())) {
          Map permI_6;
          permI_6 = (Map) (e_l_4.Hd());
          succ_3 = true;
          {
            vdm_EXPR_map__v = permI_6;
            succ_3 = true;
          }
        }
      }
  }
  {
    vdm_EXPR_n = var_2_2;
    succ_3 = true;
  }
  if (succ_3) {
    Bool cond_7;
{ if ((cond_7 = (Bool) ((vdm_EXPR_n.GetValue()) >= (((Int) 1).GetValue()))).GetValue()) {
   Bool var2_9;
   if (((Bool) ((vdm_EXPR_n.GetValue()) >= (((Int) 2).GetValue()))).GetValue()) {
     Bool var2_13;
     var2_13 = vdm_EXPR_map__v.Rng().SubSet(vdm_EXPR_map__v.Dom());
     var2_9 = var2_13;
   }
   else 
     var2_9 = (Bool) true;
   cond_7 = var2_9;
 } }
    if (cond_7.GetValue()) {
      bool succ_42;
      Record tmpVal_43;
      {
        Record tmpVar_44(vdm_SEM_MAP, length_SEM_MAP);
        {
          tmpVar_44 = Record(vdm_SEM_MAP, length_SEM_MAP);
          tmpVar_44.SetField(1, vdm_EXPR_map__v);
        }
        tmpVal_43 = vdm_EXPR_IterateMap(tmpVar_44, vdm_EXPR_n - (Int) 1);
      }
      Map vdm_EXPR_tmp__v;
      succ_42 = true;
      {
        succ_42 = false;
        if (tmpVal_43.IsRecord()) 
          if (vdm_SEM_MAP == ((Record) tmpVal_43).GetTag()) {
            Sequence e_l_49;
            for (int i_50 = 1; i_50 <= ((Record) tmpVal_43).Length(); i_50++) 
              e_l_49.ImpAppend(((Record) tmpVal_43).GetField(i_50));
            if (succ_42 = 1 == (Int) (e_l_49.Length())) {
              Map permI_51;
              permI_51 = (Map) (e_l_49.Hd());
              succ_42 = true;
              {
                vdm_EXPR_tmp__v = permI_51;
                succ_42 = true;
              }
            }
          }
      }
      if (!succ_42) 
        RunTime("Pattern match did not succeed in value definition");
      {
        Record rexpr_52(vdm_SEM_MAP, length_SEM_MAP);
        {
          rexpr_52 = Record(vdm_SEM_MAP, length_SEM_MAP);
          Map tmpVar_53;
          {
            Map res_m_54;
            Record mr_56;
            {
              Sequence seq_lv_63;
              bool succ_61;
              Bool tsucc_64;
              tsucc_64 = true;
              {
                Set tmpVar_v_62;
                tmpVar_v_62 = vdm_EXPR_map__v.Dom();
{ seq_lv_63.ImpAppend(tmpVar_v_62); }
              }
              Set allComb_65 = GenAllComb(seq_lv_63);
              Record vdm_EXPR_i;
              Generic tmpe_75;
              for (int bb_74 = allComb_65.First(tmpe_75); bb_74; bb_74 = allComb_65.Next(tmpe_75)) {
                Sequence tmp_72 = tmpe_75;
                {
                  if (succ_61 = 1 == (Int) (tmp_72.Length())) {
                    Record permI_73;
                    permI_73 = (Record) (tmp_72.Hd());
                    succ_61 = true;
                    {
                      vdm_EXPR_i = permI_73;
                      succ_61 = true;
                    }
                  }
                  if (succ_61) {
                    Map tmp_m_57;
                    tmp_m_57 = vdm_EXPR_map__v;
                    Record tmppar_58;
                    {
                      Map tmp_m_59;
                      tmp_m_59 = vdm_EXPR_tmp__v;
                      tmppar_58 = (Record) (((Map) tmp_m_59)[vdm_EXPR_i]);
                    }
                    mr_56 = (Record) (((Map) tmp_m_57)[tmppar_58]);
                    res_m_54.Insert(vdm_EXPR_i, mr_56);
                  }
                }
              }
            }
            tmpVar_53 = res_m_54;
          }
          rexpr_52.SetField(1, tmpVar_53);
        }
        return rexpr_52;
      }
    }
    else {
      cond_7 = (Bool) (vdm_EXPR_n == (Int) 0);
      if (cond_7.GetValue()) {
        Record rexpr_22(vdm_SEM_MAP, length_SEM_MAP);
        {
          rexpr_22 = Record(vdm_SEM_MAP, length_SEM_MAP);
          Map tmpVar_23;
          {
            Map res_m_24;
            {
              Sequence seq_lv_29;
              bool succ_27;
              Bool tsucc_30;
              tsucc_30 = true;
              {
                Set tmpVar_v_28;
                tmpVar_v_28 = vdm_EXPR_map__v.Dom();
{ seq_lv_29.ImpAppend(tmpVar_v_28); }
              }
              Set allComb_31 = GenAllComb(seq_lv_29);
              Record vdm_EXPR_i;
              Generic tmpe_41;
              for (int bb_40 = allComb_31.First(tmpe_41); bb_40; bb_40 = allComb_31.Next(tmpe_41)) {
                Sequence tmp_38 = tmpe_41;
                {
                  if (succ_27 = 1 == (Int) (tmp_38.Length())) {
                    Record permI_39;
                    permI_39 = (Record) (tmp_38.Hd());
                    succ_27 = true;
                    {
                      vdm_EXPR_i = permI_39;
                      succ_27 = true;
                    }
                  }
                  if (succ_27) 
                    res_m_24.Insert(vdm_EXPR_i, vdm_EXPR_i);
                }
              }
            }
            tmpVar_23 = res_m_24;
          }
          rexpr_22.SetField(1, tmpVar_23);
        }
        return rexpr_22;
      }
      else { RunTime("Can not evaluate an error statement"); }
    }
  }
  else 
    RunTime("Pattern match failed in function apply in operation: IterateMap");
}

Record vdm_EXPR_SubstType(Record vdm_EXPR_tp, Sequence vdm_EXPR_tv__l, Sequence vdm_EXPR_tp__l) {
  Bool selRes_5;
  selRes_5 = (Bool) true;
  bool succ_6 = true;
  {
    Bool tmpVal_7;
    {
      Record argTmp_8;
      argTmp_8 = vdm_EXPR_tp;
      if (argTmp_8.IsRecord()) 
        tmpVal_7 = vdm_AS_BasicType == argTmp_8.GetTag();
      else 
        tmpVal_7 = false;
    }
    succ_6 = ((Bool) (selRes_5 == tmpVal_7)).GetValue();
    if (!succ_6) {
      Bool tmpVal_9;
      {
        Record argTmp_10;
        argTmp_10 = vdm_EXPR_tp;
        if (argTmp_10.IsRecord()) 
          tmpVal_9 = vdm_AS_QuoteType == argTmp_10.GetTag();
        else 
          tmpVal_9 = false;
      }
      succ_6 = ((Bool) (selRes_5 == tmpVal_9)).GetValue();
    }
    if (!succ_6) {
      Bool tmpVal_11;
      {
        Record argTmp_12;
        argTmp_12 = vdm_EXPR_tp;
        if (argTmp_12.IsRecord()) 
          tmpVal_11 = vdm_AS_TypeName == argTmp_12.GetTag();
        else 
          tmpVal_11 = false;
      }
      succ_6 = ((Bool) (selRes_5 == tmpVal_11)).GetValue();
    }
    if (succ_6) {
      Record rexpr_13;
      rexpr_13 = vdm_EXPR_tp;
      return rexpr_13;
    }
  }
  if (!succ_6) {
    Bool tmpVal_14;
    {
      Record argTmp_15;
      argTmp_15 = vdm_EXPR_tp;
      if (argTmp_15.IsRecord()) 
        tmpVal_14 = vdm_AS_BracketedType == argTmp_15.GetTag();
      else 
        tmpVal_14 = false;
    }
    succ_6 = ((Bool) (selRes_5 == tmpVal_14)).GetValue();
    if (succ_6) {
      bool succ_16;
      Record tmpVal_17;
      tmpVal_17 = vdm_EXPR_tp;
      Record vdm_EXPR_btp;
      succ_16 = true;
      {
        succ_16 = false;
        if (tmpVal_17.IsRecord()) 
          if (vdm_AS_BracketedType == ((Record) tmpVal_17).GetTag()) {
            Sequence e_l_18;
            for (int i_19 = 1; i_19 <= ((Record) tmpVal_17).Length(); i_19++) 
              e_l_18.ImpAppend(((Record) tmpVal_17).GetField(i_19));
            if (succ_16 = 1 == (Int) (e_l_18.Length())) {
              Record permI_20;
              permI_20 = (Record) (e_l_18.Hd());
              succ_16 = true;
              {
                vdm_EXPR_btp = permI_20;
                succ_16 = true;
              }
            }
          }
      }
      if (!succ_16) 
        RunTime("Pattern match did not succeed in value definition");
      {
        Record rexpr_21(vdm_AS_BracketedType, length_AS_BracketedType);
        {
          rexpr_21 = Record(vdm_AS_BracketedType, length_AS_BracketedType);
          rexpr_21.SetField(1, vdm_EXPR_SubstType(vdm_EXPR_btp, vdm_EXPR_tv__l, vdm_EXPR_tp__l));
        }
        return rexpr_21;
      }
    }
  }
  if (!succ_6) {
    Bool tmpVal_26;
    {
      Record argTmp_27;
      argTmp_27 = vdm_EXPR_tp;
      if (argTmp_27.IsRecord()) 
        tmpVal_26 = vdm_AS_CompositeType == argTmp_27.GetTag();
      else 
        tmpVal_26 = false;
    }
    succ_6 = ((Bool) (selRes_5 == tmpVal_26)).GetValue();
    if (succ_6) {
      bool succ_28;
      Record tmpVal_29;
      tmpVal_29 = vdm_EXPR_tp;
      Sequence vdm_EXPR_fields;
      Record vdm_EXPR_id(vdm_AS_Name, length_AS_Name);
      succ_28 = true;
      {
        succ_28 = false;
        if (tmpVal_29.IsRecord()) 
          if (vdm_AS_CompositeType == ((Record) tmpVal_29).GetTag()) {
            Sequence e_l_30;
            for (int i_31 = 1; i_31 <= ((Record) tmpVal_29).Length(); i_31++) 
              e_l_30.ImpAppend(((Record) tmpVal_29).GetField(i_31));
            if (succ_28 = 2 == (Int) (e_l_30.Length())) {
              Generic permI_32;
              permI_32 = (Generic) (e_l_30.Hd());
              succ_28 = true;
              {
                vdm_EXPR_id = permI_32;
                succ_28 = true;
              }
              permI_32 = (Generic) (e_l_30[2]);
              if (succ_28) {
                vdm_EXPR_fields = permI_32;
                succ_28 = true;
              }
            }
          }
      }
      if (!succ_28) 
        RunTime("Pattern match did not succeed in value definition");
      {
        Sequence vdm_EXPR_newf;
        vdm_EXPR_newf = Sequence();
        {
          Sequence sq_33;
          sq_33 = vdm_EXPR_fields;
          Record vdm_EXPR_ftp;
          Generic vdm_EXPR_sel;
          bool succ_35;
          Generic tmpe_49;
          for (int i_48 = sq_33.First(tmpe_49); i_48; i_48 = sq_33.Next(tmpe_49)) {
            Record elem_34 = tmpe_49;
            {
              succ_35 = true;
              {
                succ_35 = false;
                if (elem_34.IsRecord()) 
                  if (vdm_AS_Field == elem_34.GetTag()) {
                    Sequence e_l_45;
                    for (int i_46 = 1; i_46 <= elem_34.Length(); i_46++) 
                      e_l_45.ImpAppend(elem_34.GetField(i_46));
                    if (succ_35 = 2 == (Int) (e_l_45.Length())) {
                      Generic permI_47;
                      permI_47 = (Generic) (e_l_45.Hd());
                      succ_35 = true;
                      {
                        vdm_EXPR_sel = permI_47;
                        succ_35 = true;
                      }
                      permI_47 = (Generic) (e_l_45[2]);
                      if (succ_35) {
                        vdm_EXPR_ftp = permI_47;
                        succ_35 = true;
                      }
                    }
                  }
              }
              if (succ_35) {
                Sequence rhs_36;
                {
                  Sequence var2_38;
                  Record tmpVar_39(vdm_AS_Field, length_AS_Field);
                  tmpVar_39 = Record(vdm_AS_Field, length_AS_Field);
                  tmpVar_39.SetField(1, vdm_EXPR_sel);
                  tmpVar_39.SetField(2, vdm_EXPR_SubstType(vdm_EXPR_ftp, vdm_EXPR_tv__l, vdm_EXPR_tp__l));
                  var2_38 = Sequence().ImpAppend(tmpVar_39);
                  rhs_36.ImpConc(vdm_EXPR_newf).ImpConc(var2_38);
                }
                vdm_EXPR_newf = rhs_36;
              }
              else 
                RunTime("Pattern did not match in sequence for loop");
            }
          }
        }
        {
          Record rexpr_50(vdm_AS_CompositeType, length_AS_CompositeType);
          {
            rexpr_50 = Record(vdm_AS_CompositeType, length_AS_CompositeType);
            rexpr_50.SetField(1, vdm_EXPR_id);
            rexpr_50.SetField(2, vdm_EXPR_newf);
          }
          return rexpr_50;
        }
      }
    }
  }
  if (!succ_6) {
    Bool tmpVal_53;
    {
      Record argTmp_54;
      argTmp_54 = vdm_EXPR_tp;
      if (argTmp_54.IsRecord()) 
        tmpVal_53 = vdm_AS_UnionType == argTmp_54.GetTag();
      else 
        tmpVal_53 = false;
    }
    succ_6 = ((Bool) (selRes_5 == tmpVal_53)).GetValue();
    if (succ_6) {
      bool succ_55;
      Record tmpVal_56;
      tmpVal_56 = vdm_EXPR_tp;
      Sequence vdm_EXPR_utp__l;
      succ_55 = true;
      {
        succ_55 = false;
        if (tmpVal_56.IsRecord()) 
          if (vdm_AS_UnionType == ((Record) tmpVal_56).GetTag()) {
            Sequence e_l_57;
            for (int i_58 = 1; i_58 <= ((Record) tmpVal_56).Length(); i_58++) 
              e_l_57.ImpAppend(((Record) tmpVal_56).GetField(i_58));
            if (succ_55 = 1 == (Int) (e_l_57.Length())) {
              Sequence permI_59;
              permI_59 = (Sequence) (e_l_57.Hd());
              succ_55 = true;
              {
                vdm_EXPR_utp__l = permI_59;
                succ_55 = true;
              }
            }
          }
      }
      if (!succ_55) 
        RunTime("Pattern match did not succeed in value definition");
      {
        Record rexpr_60(vdm_AS_UnionType, length_AS_UnionType);
        {
          rexpr_60 = Record(vdm_AS_UnionType, length_AS_UnionType);
          Sequence tmpVar_61;
          {
            Sequence res_l_62;
            Record reselem_63;
            Set resBind_s_65;
            {
              Set riseq_70;
              int max_71 = (Int) (vdm_EXPR_utp__l.Length());
              for (int i_72 = 1; i_72 <= max_71; i_72++) 
                riseq_70.Insert((Int) i_72);
              resBind_s_65 = riseq_70;
            }
            Sequence bind_l_64;
            if ((Int) (resBind_s_65.Card()) != (Int) 0) 
              bind_l_64 = Sort(resBind_s_65);
            bool succ_66 = true;
            Int vdm_EXPR_i;
            Generic tmpe_79;
            for (int i_78 = bind_l_64.First(tmpe_79); i_78; i_78 = bind_l_64.Next(tmpe_79)) {
              Int e_68 = tmpe_79;
              {
                vdm_EXPR_i = e_68;
                succ_66 = true;
                if (succ_66) {
                  Record tmpVar_73;
                  {
                    Sequence tmpseq_74;
                    tmpseq_74 = vdm_EXPR_utp__l;
                    tmpVar_73 = (Record) (tmpseq_74[vdm_EXPR_i.GetValue()]);
                  }
                  reselem_63 = vdm_EXPR_SubstType(tmpVar_73, vdm_EXPR_tv__l, vdm_EXPR_tp__l);
                  res_l_62.ImpAppend(reselem_63);
                }
              }
            }
            tmpVar_61 = res_l_62;
          }
          rexpr_60.SetField(1, tmpVar_61);
        }
        return rexpr_60;
      }
    }
  }
  if (!succ_6) {
    Bool tmpVal_80;
    {
      Record argTmp_81;
      argTmp_81 = vdm_EXPR_tp;
      if (argTmp_81.IsRecord()) 
        tmpVal_80 = vdm_AS_ProductType == argTmp_81.GetTag();
      else 
        tmpVal_80 = false;
    }
    succ_6 = ((Bool) (selRes_5 == tmpVal_80)).GetValue();
    if (succ_6) {
      bool succ_82;
      Record tmpVal_83;
      tmpVal_83 = vdm_EXPR_tp;
      Sequence vdm_EXPR_ptp__l;
      succ_82 = true;
      {
        succ_82 = false;
        if (tmpVal_83.IsRecord()) 
          if (vdm_AS_ProductType == ((Record) tmpVal_83).GetTag()) {
            Sequence e_l_84;
            for (int i_85 = 1; i_85 <= ((Record) tmpVal_83).Length(); i_85++) 
              e_l_84.ImpAppend(((Record) tmpVal_83).GetField(i_85));
            if (succ_82 = 1 == (Int) (e_l_84.Length())) {
              Sequence permI_86;
              permI_86 = (Sequence) (e_l_84.Hd());
              succ_82 = true;
              {
                vdm_EXPR_ptp__l = permI_86;
                succ_82 = true;
              }
            }
          }
      }
      if (!succ_82) 
        RunTime("Pattern match did not succeed in value definition");
      {
        Record rexpr_87(vdm_AS_ProductType, length_AS_ProductType);
        {
          rexpr_87 = Record(vdm_AS_ProductType, length_AS_ProductType);
          Sequence tmpVar_88;
          {
            Sequence res_l_89;
            Record reselem_90;
            Set resBind_s_92;
            {
              Set riseq_97;
              int max_98 = (Int) (vdm_EXPR_ptp__l.Length());
              for (int i_99 = 1; i_99 <= max_98; i_99++) 
                riseq_97.Insert((Int) i_99);
              resBind_s_92 = riseq_97;
            }
            Sequence bind_l_91;
            if ((Int) (resBind_s_92.Card()) != (Int) 0) 
              bind_l_91 = Sort(resBind_s_92);
            bool succ_93 = true;
            Int vdm_EXPR_i;
            Generic tmpe_106;
            for (int i_105 = bind_l_91.First(tmpe_106); i_105; i_105 = bind_l_91.Next(tmpe_106)) {
              Int e_95 = tmpe_106;
              {
                vdm_EXPR_i = e_95;
                succ_93 = true;
                if (succ_93) {
                  Record tmpVar_100;
                  {
                    Sequence tmpseq_101;
                    tmpseq_101 = vdm_EXPR_ptp__l;
                    tmpVar_100 = (Record) (tmpseq_101[vdm_EXPR_i.GetValue()]);
                  }
                  reselem_90 = vdm_EXPR_SubstType(tmpVar_100, vdm_EXPR_tv__l, vdm_EXPR_tp__l);
                  res_l_89.ImpAppend(reselem_90);
                }
              }
            }
            tmpVar_88 = res_l_89;
          }
          rexpr_87.SetField(1, tmpVar_88);
        }
        return rexpr_87;
      }
    }
  }
  if (!succ_6) {
    Bool tmpVal_107;
    {
      Record argTmp_108;
      argTmp_108 = vdm_EXPR_tp;
      if (argTmp_108.IsRecord()) 
        tmpVal_107 = vdm_AS_OptionalType == argTmp_108.GetTag();
      else 
        tmpVal_107 = false;
    }
    succ_6 = ((Bool) (selRes_5 == tmpVal_107)).GetValue();
    if (succ_6) {
      bool succ_109;
      Record tmpVal_110;
      tmpVal_110 = vdm_EXPR_tp;
      Record vdm_EXPR_otp;
      succ_109 = true;
      {
        succ_109 = false;
        if (tmpVal_110.IsRecord()) 
          if (vdm_AS_OptionalType == ((Record) tmpVal_110).GetTag()) {
            Sequence e_l_111;
            for (int i_112 = 1; i_112 <= ((Record) tmpVal_110).Length(); i_112++) 
              e_l_111.ImpAppend(((Record) tmpVal_110).GetField(i_112));
            if (succ_109 = 1 == (Int) (e_l_111.Length())) {
              Record permI_113;
              permI_113 = (Record) (e_l_111.Hd());
              succ_109 = true;
              {
                vdm_EXPR_otp = permI_113;
                succ_109 = true;
              }
            }
          }
      }
      if (!succ_109) 
        RunTime("Pattern match did not succeed in value definition");
      {
        Record rexpr_114(vdm_AS_OptionalType, length_AS_OptionalType);
        {
          rexpr_114 = Record(vdm_AS_OptionalType, length_AS_OptionalType);
          rexpr_114.SetField(1, vdm_EXPR_SubstType(vdm_EXPR_otp, vdm_EXPR_tv__l, vdm_EXPR_tp__l));
        }
        return rexpr_114;
      }
    }
  }
  if (!succ_6) {
    Bool tmpVal_119;
    {
      Record argTmp_120;
      argTmp_120 = vdm_EXPR_tp;
      if (argTmp_120.IsRecord()) 
        tmpVal_119 = vdm_AS_SetType == argTmp_120.GetTag();
      else 
        tmpVal_119 = false;
    }
    succ_6 = ((Bool) (selRes_5 == tmpVal_119)).GetValue();
    if (succ_6) {
      bool succ_121;
      Record tmpVal_122;
      tmpVal_122 = vdm_EXPR_tp;
      Record vdm_EXPR_stp;
      succ_121 = true;
      {
        succ_121 = false;
        if (tmpVal_122.IsRecord()) 
          if (vdm_AS_SetType == ((Record) tmpVal_122).GetTag()) {
            Sequence e_l_123;
            for (int i_124 = 1; i_124 <= ((Record) tmpVal_122).Length(); i_124++) 
              e_l_123.ImpAppend(((Record) tmpVal_122).GetField(i_124));
            if (succ_121 = 1 == (Int) (e_l_123.Length())) {
              Record permI_125;
              permI_125 = (Record) (e_l_123.Hd());
              succ_121 = true;
              {
                vdm_EXPR_stp = permI_125;
                succ_121 = true;
              }
            }
          }
      }
      if (!succ_121) 
        RunTime("Pattern match did not succeed in value definition");
      {
        Record rexpr_126(vdm_AS_SetType, length_AS_SetType);
        {
          rexpr_126 = Record(vdm_AS_SetType, length_AS_SetType);
          rexpr_126.SetField(1, vdm_EXPR_SubstType(vdm_EXPR_stp, vdm_EXPR_tv__l, vdm_EXPR_tp__l));
        }
        return rexpr_126;
      }
    }
  }
  if (!succ_6) {
    Bool tmpVal_131;
    {
      Record argTmp_132;
      argTmp_132 = vdm_EXPR_tp;
      if (argTmp_132.IsRecord()) 
        tmpVal_131 = vdm_AS_Seq0Type == argTmp_132.GetTag();
      else 
        tmpVal_131 = false;
    }
    succ_6 = ((Bool) (selRes_5 == tmpVal_131)).GetValue();
    if (succ_6) {
      bool succ_133;
      Record tmpVal_134;
      tmpVal_134 = vdm_EXPR_tp;
      Record vdm_EXPR_stp;
      succ_133 = true;
      {
        succ_133 = false;
        if (tmpVal_134.IsRecord()) 
          if (vdm_AS_Seq0Type == ((Record) tmpVal_134).GetTag()) {
            Sequence e_l_135;
            for (int i_136 = 1; i_136 <= ((Record) tmpVal_134).Length(); i_136++) 
              e_l_135.ImpAppend(((Record) tmpVal_134).GetField(i_136));
            if (succ_133 = 1 == (Int) (e_l_135.Length())) {
              Record permI_137;
              permI_137 = (Record) (e_l_135.Hd());
              succ_133 = true;
              {
                vdm_EXPR_stp = permI_137;
                succ_133 = true;
              }
            }
          }
      }
      if (!succ_133) 
        RunTime("Pattern match did not succeed in value definition");
      {
        Record rexpr_138(vdm_AS_Seq0Type, length_AS_Seq0Type);
        {
          rexpr_138 = Record(vdm_AS_Seq0Type, length_AS_Seq0Type);
          rexpr_138.SetField(1, vdm_EXPR_SubstType(vdm_EXPR_stp, vdm_EXPR_tv__l, vdm_EXPR_tp__l));
        }
        return rexpr_138;
      }
    }
  }
  if (!succ_6) {
    Bool tmpVal_143;
    {
      Record argTmp_144;
      argTmp_144 = vdm_EXPR_tp;
      if (argTmp_144.IsRecord()) 
        tmpVal_143 = vdm_AS_Seq1Type == argTmp_144.GetTag();
      else 
        tmpVal_143 = false;
    }
    succ_6 = ((Bool) (selRes_5 == tmpVal_143)).GetValue();
    if (succ_6) {
      bool succ_145;
      Record tmpVal_146;
      tmpVal_146 = vdm_EXPR_tp;
      Record vdm_EXPR_stp;
      succ_145 = true;
      {
        succ_145 = false;
        if (tmpVal_146.IsRecord()) 
          if (vdm_AS_Seq1Type == ((Record) tmpVal_146).GetTag()) {
            Sequence e_l_147;
            for (int i_148 = 1; i_148 <= ((Record) tmpVal_146).Length(); i_148++) 
              e_l_147.ImpAppend(((Record) tmpVal_146).GetField(i_148));
            if (succ_145 = 1 == (Int) (e_l_147.Length())) {
              Record permI_149;
              permI_149 = (Record) (e_l_147.Hd());
              succ_145 = true;
              {
                vdm_EXPR_stp = permI_149;
                succ_145 = true;
              }
            }
          }
      }
      if (!succ_145) 
        RunTime("Pattern match did not succeed in value definition");
      {
        Record rexpr_150(vdm_AS_Seq1Type, length_AS_Seq1Type);
        {
          rexpr_150 = Record(vdm_AS_Seq1Type, length_AS_Seq1Type);
          rexpr_150.SetField(1, vdm_EXPR_SubstType(vdm_EXPR_stp, vdm_EXPR_tv__l, vdm_EXPR_tp__l));
        }
        return rexpr_150;
      }
    }
  }
  if (!succ_6) {
    Bool tmpVal_155;
    {
      Record argTmp_156;
      argTmp_156 = vdm_EXPR_tp;
      if (argTmp_156.IsRecord()) 
        tmpVal_155 = vdm_AS_GeneralMapType == argTmp_156.GetTag();
      else 
        tmpVal_155 = false;
    }
    succ_6 = ((Bool) (selRes_5 == tmpVal_155)).GetValue();
    if (succ_6) {
      bool succ_157;
      Record tmpVal_158;
      tmpVal_158 = vdm_EXPR_tp;
      Record vdm_EXPR_dtp;
      Record vdm_EXPR_rtp;
      succ_157 = true;
      {
        succ_157 = false;
        if (tmpVal_158.IsRecord()) 
          if (vdm_AS_GeneralMapType == ((Record) tmpVal_158).GetTag()) {
            Sequence e_l_159;
            for (int i_160 = 1; i_160 <= ((Record) tmpVal_158).Length(); i_160++) 
              e_l_159.ImpAppend(((Record) tmpVal_158).GetField(i_160));
            if (succ_157 = 2 == (Int) (e_l_159.Length())) {
              Record permI_161;
              permI_161 = (Record) (e_l_159.Hd());
              succ_157 = true;
              {
                vdm_EXPR_dtp = permI_161;
                succ_157 = true;
              }
              permI_161 = (Record) (e_l_159[2]);
              if (succ_157) {
                vdm_EXPR_rtp = permI_161;
                succ_157 = true;
              }
            }
          }
      }
      if (!succ_157) 
        RunTime("Pattern match did not succeed in value definition");
      {
        Record rexpr_162(vdm_AS_GeneralMapType, length_AS_GeneralMapType);
        {
          rexpr_162 = Record(vdm_AS_GeneralMapType, length_AS_GeneralMapType);
          rexpr_162.SetField(1, vdm_EXPR_SubstType(vdm_EXPR_dtp, vdm_EXPR_tv__l, vdm_EXPR_tp__l));
          rexpr_162.SetField(2, vdm_EXPR_SubstType(vdm_EXPR_rtp, vdm_EXPR_tv__l, vdm_EXPR_tp__l));
        }
        return rexpr_162;
      }
    }
  }
  if (!succ_6) {
    Bool tmpVal_171;
    {
      Record argTmp_172;
      argTmp_172 = vdm_EXPR_tp;
      if (argTmp_172.IsRecord()) 
        tmpVal_171 = vdm_AS_InjectiveMapType == argTmp_172.GetTag();
      else 
        tmpVal_171 = false;
    }
    succ_6 = ((Bool) (selRes_5 == tmpVal_171)).GetValue();
    if (succ_6) {
      bool succ_173;
      Record tmpVal_174;
      tmpVal_174 = vdm_EXPR_tp;
      Record vdm_EXPR_dtp;
      Record vdm_EXPR_rtp;
      succ_173 = true;
      {
        succ_173 = false;
        if (tmpVal_174.IsRecord()) 
          if (vdm_AS_InjectiveMapType == ((Record) tmpVal_174).GetTag()) {
            Sequence e_l_175;
            for (int i_176 = 1; i_176 <= ((Record) tmpVal_174).Length(); i_176++) 
              e_l_175.ImpAppend(((Record) tmpVal_174).GetField(i_176));
            if (succ_173 = 2 == (Int) (e_l_175.Length())) {
              Record permI_177;
              permI_177 = (Record) (e_l_175.Hd());
              succ_173 = true;
              {
                vdm_EXPR_dtp = permI_177;
                succ_173 = true;
              }
              permI_177 = (Record) (e_l_175[2]);
              if (succ_173) {
                vdm_EXPR_rtp = permI_177;
                succ_173 = true;
              }
            }
          }
      }
      if (!succ_173) 
        RunTime("Pattern match did not succeed in value definition");
      {
        Record rexpr_178(vdm_AS_InjectiveMapType, length_AS_InjectiveMapType);
        {
          rexpr_178 = Record(vdm_AS_InjectiveMapType, length_AS_InjectiveMapType);
          rexpr_178.SetField(1, vdm_EXPR_SubstType(vdm_EXPR_dtp, vdm_EXPR_tv__l, vdm_EXPR_tp__l));
          rexpr_178.SetField(2, vdm_EXPR_SubstType(vdm_EXPR_rtp, vdm_EXPR_tv__l, vdm_EXPR_tp__l));
        }
        return rexpr_178;
      }
    }
  }
  if (!succ_6) {
    Bool tmpVal_187;
    {
      Record argTmp_188;
      argTmp_188 = vdm_EXPR_tp;
      if (argTmp_188.IsRecord()) 
        tmpVal_187 = vdm_AS_PartialFnType == argTmp_188.GetTag();
      else 
        tmpVal_187 = false;
    }
    succ_6 = ((Bool) (selRes_5 == tmpVal_187)).GetValue();
    if (succ_6) {
      bool succ_189;
      Record tmpVal_190;
      tmpVal_190 = vdm_EXPR_tp;
      Sequence vdm_EXPR_dtp;
      Record vdm_EXPR_rtp;
      succ_189 = true;
      {
        succ_189 = false;
        if (tmpVal_190.IsRecord()) 
          if (vdm_AS_PartialFnType == ((Record) tmpVal_190).GetTag()) {
            Sequence e_l_191;
            for (int i_192 = 1; i_192 <= ((Record) tmpVal_190).Length(); i_192++) 
              e_l_191.ImpAppend(((Record) tmpVal_190).GetField(i_192));
            if (succ_189 = 2 == (Int) (e_l_191.Length())) {
              Generic permI_193;
              permI_193 = (Generic) (e_l_191.Hd());
              succ_189 = true;
              {
                vdm_EXPR_dtp = permI_193;
                succ_189 = true;
              }
              permI_193 = (Generic) (e_l_191[2]);
              if (succ_189) {
                vdm_EXPR_rtp = permI_193;
                succ_189 = true;
              }
            }
          }
      }
      if (!succ_189) 
        RunTime("Pattern match did not succeed in value definition");
      {
        Record rexpr_194(vdm_AS_PartialFnType, length_AS_PartialFnType);
        {
          rexpr_194 = Record(vdm_AS_PartialFnType, length_AS_PartialFnType);
          Sequence tmpVar_195;
          {
            Sequence res_l_196;
            Record reselem_197;
            Set resBind_s_199;
            {
              Set riseq_204;
              int max_205 = (Int) (vdm_EXPR_dtp.Length());
              for (int i_206 = 1; i_206 <= max_205; i_206++) 
                riseq_204.Insert((Int) i_206);
              resBind_s_199 = riseq_204;
            }
            Sequence bind_l_198;
            if ((Int) (resBind_s_199.Card()) != (Int) 0) 
              bind_l_198 = Sort(resBind_s_199);
            bool succ_200 = true;
            Int vdm_EXPR_i;
            Generic tmpe_213;
            for (int i_212 = bind_l_198.First(tmpe_213); i_212; i_212 = bind_l_198.Next(tmpe_213)) {
              Int e_202 = tmpe_213;
              {
                vdm_EXPR_i = e_202;
                succ_200 = true;
                if (succ_200) {
                  Record tmpVar_207;
                  {
                    Sequence tmpseq_208;
                    tmpseq_208 = vdm_EXPR_dtp;
                    tmpVar_207 = (Record) (tmpseq_208[vdm_EXPR_i.GetValue()]);
                  }
                  reselem_197 = vdm_EXPR_SubstType(tmpVar_207, vdm_EXPR_tv__l, vdm_EXPR_tp__l);
                  res_l_196.ImpAppend(reselem_197);
                }
              }
            }
            tmpVar_195 = res_l_196;
          }
          rexpr_194.SetField(1, tmpVar_195);
          rexpr_194.SetField(2, vdm_EXPR_SubstType(vdm_EXPR_rtp, vdm_EXPR_tv__l, vdm_EXPR_tp__l));
        }
        return rexpr_194;
      }
    }
  }
  if (!succ_6) {
    Bool tmpVal_218;
    {
      Record argTmp_219;
      argTmp_219 = vdm_EXPR_tp;
      if (argTmp_219.IsRecord()) 
        tmpVal_218 = vdm_AS_TotalFnType == argTmp_219.GetTag();
      else 
        tmpVal_218 = false;
    }
    succ_6 = ((Bool) (selRes_5 == tmpVal_218)).GetValue();
    if (succ_6) {
      bool succ_220;
      Record tmpVal_221;
      tmpVal_221 = vdm_EXPR_tp;
      Sequence vdm_EXPR_dtp;
      Record vdm_EXPR_rtp;
      succ_220 = true;
      {
        succ_220 = false;
        if (tmpVal_221.IsRecord()) 
          if (vdm_AS_TotalFnType == ((Record) tmpVal_221).GetTag()) {
            Sequence e_l_222;
            for (int i_223 = 1; i_223 <= ((Record) tmpVal_221).Length(); i_223++) 
              e_l_222.ImpAppend(((Record) tmpVal_221).GetField(i_223));
            if (succ_220 = 2 == (Int) (e_l_222.Length())) {
              Generic permI_224;
              permI_224 = (Generic) (e_l_222.Hd());
              succ_220 = true;
              {
                vdm_EXPR_dtp = permI_224;
                succ_220 = true;
              }
              permI_224 = (Generic) (e_l_222[2]);
              if (succ_220) {
                vdm_EXPR_rtp = permI_224;
                succ_220 = true;
              }
            }
          }
      }
      if (!succ_220) 
        RunTime("Pattern match did not succeed in value definition");
      {
        Record rexpr_225(vdm_AS_TotalFnType, length_AS_TotalFnType);
        {
          rexpr_225 = Record(vdm_AS_TotalFnType, length_AS_TotalFnType);
          Sequence tmpVar_226;
          {
            Sequence res_l_227;
            Record reselem_228;
            Set resBind_s_230;
            {
              Set riseq_235;
              int max_236 = (Int) (vdm_EXPR_dtp.Length());
              for (int i_237 = 1; i_237 <= max_236; i_237++) 
                riseq_235.Insert((Int) i_237);
              resBind_s_230 = riseq_235;
            }
            Sequence bind_l_229;
            if ((Int) (resBind_s_230.Card()) != (Int) 0) 
              bind_l_229 = Sort(resBind_s_230);
            bool succ_231 = true;
            Int vdm_EXPR_i;
            Generic tmpe_244;
            for (int i_243 = bind_l_229.First(tmpe_244); i_243; i_243 = bind_l_229.Next(tmpe_244)) {
              Int e_233 = tmpe_244;
              {
                vdm_EXPR_i = e_233;
                succ_231 = true;
                if (succ_231) {
                  Record tmpVar_238;
                  {
                    Sequence tmpseq_239;
                    tmpseq_239 = vdm_EXPR_dtp;
                    tmpVar_238 = (Record) (tmpseq_239[vdm_EXPR_i.GetValue()]);
                  }
                  reselem_228 = vdm_EXPR_SubstType(tmpVar_238, vdm_EXPR_tv__l, vdm_EXPR_tp__l);
                  res_l_227.ImpAppend(reselem_228);
                }
              }
            }
            tmpVar_226 = res_l_227;
          }
          rexpr_225.SetField(1, tmpVar_226);
          rexpr_225.SetField(2, vdm_EXPR_SubstType(vdm_EXPR_rtp, vdm_EXPR_tv__l, vdm_EXPR_tp__l));
        }
        return rexpr_225;
      }
    }
  }
  if (!succ_6) {
    Bool tmpVal_249;
    {
      Record argTmp_250;
      argTmp_250 = vdm_EXPR_tp;
      if (argTmp_250.IsRecord()) 
        tmpVal_249 = vdm_AS_TypeVar == argTmp_250.GetTag();
      else 
        tmpVal_249 = false;
    }
    succ_6 = ((Bool) (selRes_5 == tmpVal_249)).GetValue();
    if (succ_6) {
      bool succ_251;
      Record tmpVal_252;
      tmpVal_252 = vdm_EXPR_tp;
      Record vdm_EXPR_id(vdm_AS_Name, length_AS_Name);
      succ_251 = true;
      {
        succ_251 = false;
        if (tmpVal_252.IsRecord()) 
          if (vdm_AS_TypeVar == ((Record) tmpVal_252).GetTag()) {
            Sequence e_l_253;
            for (int i_254 = 1; i_254 <= ((Record) tmpVal_252).Length(); i_254++) 
              e_l_253.ImpAppend(((Record) tmpVal_252).GetField(i_254));
            if (succ_251 = 1 == (Int) (e_l_253.Length())) {
              Record permI_255(vdm_AS_Name, length_AS_Name);
              permI_255 = (Record) (e_l_253.Hd());
              succ_251 = true;
              {
                vdm_EXPR_id = permI_255;
                succ_251 = true;
              }
            }
          }
      }
      if (!succ_251) 
        RunTime("Pattern match did not succeed in value definition");
      {
        Sequence vdm_EXPR_ttv__l;
        vdm_EXPR_ttv__l = vdm_EXPR_tv__l;
        Sequence vdm_EXPR_ttp__l;
        vdm_EXPR_ttp__l = vdm_EXPR_tp__l;
        {
          Bool whCrtl_256;
          while ( true){
            Sequence var2_258;
            var2_258 = Sequence();
            whCrtl_256 = (Bool) (!(vdm_EXPR_ttv__l == var2_258));
            if (whCrtl_256.GetValue()) {
              bool succ_259;
              Record tmpVal_260(vdm_AS_TypeVar, length_AS_TypeVar);
              tmpVal_260 = (Record) (vdm_EXPR_ttv__l.Hd());
              Record vdm_EXPR_tv__id(vdm_AS_Name, length_AS_Name);
              succ_259 = true;
              {
                succ_259 = false;
                if (tmpVal_260.IsRecord()) 
                  if (vdm_AS_TypeVar == tmpVal_260.GetTag()) {
                    Sequence e_l_262;
                    for (int i_263 = 1; i_263 <= tmpVal_260.Length(); i_263++) 
                      e_l_262.ImpAppend(tmpVal_260.GetField(i_263));
                    if (succ_259 = 1 == (Int) (e_l_262.Length())) {
                      Record permI_264(vdm_AS_Name, length_AS_Name);
                      permI_264 = (Record) (e_l_262.Hd());
                      succ_259 = true;
                      {
                        vdm_EXPR_tv__id = permI_264;
                        succ_259 = true;
                      }
                    }
                  }
              }
              if (!succ_259) 
                RunTime("Pattern match did not succeed in value definition");
              {
                Bool cond_265;
                cond_265 = (Bool) (vdm_EXPR_id == vdm_EXPR_tv__id);
                if (cond_265.GetValue()) {
                  Record rexpr_268;
                  rexpr_268 = (Record) (vdm_EXPR_ttp__l.Hd());
                  return rexpr_268;
                }
              }
              {
                Sequence rhs_270;
                rhs_270 = vdm_EXPR_ttv__l.Tl();
                vdm_EXPR_ttv__l = rhs_270;
              }
              {
                Sequence rhs_272;
                rhs_272 = vdm_EXPR_ttp__l.Tl();
                vdm_EXPR_ttp__l = rhs_272;
              }
            }
            else 
              break;
          }
        }
        RunTime("Can not evaluate an error statement");
      }
    }
  }
}
