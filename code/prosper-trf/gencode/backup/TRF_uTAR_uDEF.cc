//
// THIS FILE IS AUTOMATICALLY GENERATED!!
//
// Generated at Wed 20-Oct-99 by the VDM-SLtoC++ Code Generator
// (v3.3 - Mon 22-Mar-99)
//
// Supported compilers:
// 	egcs version 1.1 on SunOS4, SunOS5, Linux, HP-UX10
// 	VC++ version 6.0 on Windows95, Windows NT
//



#include "TRF_uTAR_uDEF.h"

void TYPE_TRF_uTAR_uDEF_FnBody::Init(Generic p1, TYPE_CI_ContextId p2) {
  SetField(1, p1);
  SetField(2, p2);
}

Generic TYPE_TRF_uTAR_uDEF_FnBody::get_body() const { return (Generic) GetField(1); }

void TYPE_TRF_uTAR_uDEF_FnBody::set_body(const Generic &p) { SetField(1, p); }

TYPE_CI_ContextId TYPE_TRF_uTAR_uDEF_FnBody::get_cid() const { return (TYPE_CI_ContextId) GetField(2); }

void TYPE_TRF_uTAR_uDEF_FnBody::set_cid(const TYPE_CI_ContextId &p) { SetField(2, p); }

void TYPE_TRF_uTAR_uDEF_ValueDef::Init(TYPE_AS_ValueDef p1, TYPE_TRF_uTAR_uEXPR_Identifiers p2, TYPE_TRF_uTAR_uPAT_PatternIds p3) {
  SetField(1, p1);
  SetField(2, p2);
  SetField(3, p3);
}

TYPE_AS_ValueDef TYPE_TRF_uTAR_uDEF_ValueDef::get_val() const { return (TYPE_AS_ValueDef) GetField(1); }

void TYPE_TRF_uTAR_uDEF_ValueDef::set_val(const TYPE_AS_ValueDef &p) { SetField(1, p); }

TYPE_TRF_uTAR_uEXPR_Identifiers TYPE_TRF_uTAR_uDEF_ValueDef::get_fv() const { return (TYPE_TRF_uTAR_uEXPR_Identifiers) GetField(2); }

void TYPE_TRF_uTAR_uDEF_ValueDef::set_fv(const TYPE_TRF_uTAR_uEXPR_Identifiers &p) { SetField(2, p); }

TYPE_TRF_uTAR_uPAT_PatternIds TYPE_TRF_uTAR_uDEF_ValueDef::get_pid() const { return (TYPE_TRF_uTAR_uPAT_PatternIds) GetField(3); }

void TYPE_TRF_uTAR_uDEF_ValueDef::set_pid(const TYPE_TRF_uTAR_uPAT_PatternIds &p) { SetField(3, p); }

void TYPE_TRF_uTAR_uDEF_PATTYPEPAIR::Init(TYPE_TRF_uTAR_uPAT_Pattern p1, TYPE_TRF_uTAR_uTYPE_Type p2, TYPE_CI_ContextId p3) {
  SetField(1, p1);
  SetField(2, p2);
  SetField(3, p3);
}

TYPE_TRF_uTAR_uPAT_Pattern TYPE_TRF_uTAR_uDEF_PATTYPEPAIR::get_pat() const { return (TYPE_TRF_uTAR_uPAT_Pattern) GetField(1); }

void TYPE_TRF_uTAR_uDEF_PATTYPEPAIR::set_pat(const TYPE_TRF_uTAR_uPAT_Pattern &p) { SetField(1, p); }

TYPE_TRF_uTAR_uTYPE_Type TYPE_TRF_uTAR_uDEF_PATTYPEPAIR::get_tp() const { return (TYPE_TRF_uTAR_uTYPE_Type) GetField(2); }

void TYPE_TRF_uTAR_uDEF_PATTYPEPAIR::set_tp(const TYPE_TRF_uTAR_uTYPE_Type &p) { SetField(2, p); }

TYPE_CI_ContextId TYPE_TRF_uTAR_uDEF_PATTYPEPAIR::get_cid() const { return (TYPE_CI_ContextId) GetField(3); }

void TYPE_TRF_uTAR_uDEF_PATTYPEPAIR::set_cid(const TYPE_CI_ContextId &p) { SetField(3, p); }

void init_TRF_uTAR_uDEF_VDMLib() {
  VDMGetDefaultRecInfoMap().NewTag(TAG_TYPE_TRF_uTAR_uDEF_FnBody, 2);
  VDMGetDefaultRecInfoMap().SetSymTag(TAG_TYPE_TRF_uTAR_uDEF_FnBody, "TRF_uTAR_uDEF`FnBody");
  VDMGetDefaultRecInfoMap().NewTag(TAG_TYPE_TRF_uTAR_uDEF_PATTYPEPAIR, 3);
  VDMGetDefaultRecInfoMap().SetSymTag(TAG_TYPE_TRF_uTAR_uDEF_PATTYPEPAIR, "TRF_uTAR_uDEF`PATTYPEPAIR");
  VDMGetDefaultRecInfoMap().NewTag(TAG_TYPE_TRF_uTAR_uDEF_ValueDef, 3);
  VDMGetDefaultRecInfoMap().SetSymTag(TAG_TYPE_TRF_uTAR_uDEF_ValueDef, "TRF_uTAR_uDEF`ValueDef");
  VDMGetDefaultRecInfoMap().NewTag(TOKEN, 1);
  VDMGetDefaultRecInfoMap().SetSymTag(TOKEN, "token");
}
#ifdef DEF_TRF_uTAR_uDEF_USERIMPL

#include "TRF_uTAR_uDEF_userimpl.cc"

#endif


void init_TRF_uTAR_uDEF() { init_TRF_uTAR_uDEF_VDMLib(); }
#ifndef DEF_TRF_uTAR_uDEF_ComputeNewParameters

TYPE_TRF_uTAR_uDEF_Parameters vdm_TRF_uTAR_uDEF_ComputeNewParameters(const TYPE_TRF_uTAR_uDEF_Parameters &vdm_TRF_uTAR_uDEF_parms, const TYPE_TRF_uTAR_uEXPR_Identifiers &vdm_TRF_uTAR_uDEF_names) {
  Sequence varRes_4;
  if (((Bool) (vdm_TRF_uTAR_uDEF_parms == Sequence())).GetValue()) 
    varRes_4 = Sequence();
  else {
    bool succ_9;
    Record vdm_TRF_uTAR_uDEF_head = (Record) vdm_TRF_uTAR_uDEF_parms.Hd();
    Sequence vdm_TRF_uTAR_uDEF_tail = vdm_TRF_uTAR_uDEF_parms.Tl();
    Generic tmpVal_14;
    Record selRes_16;    if (((Record) vdm_TRF_uTAR_uDEF_head).Is(vdm_TRF_uTAR_uPAT_TuplePattern)) 
      selRes_16 = ((Record) vdm_TRF_uTAR_uDEF_head).GetField(pos_TRF_uTAR_uPAT_TuplePattern_pat);
    else 
      if (((Record) vdm_TRF_uTAR_uDEF_head).Is(vdm_TRF_uTAR_uPAT_SetUnionPattern)) 
        selRes_16 = ((Record) vdm_TRF_uTAR_uDEF_head).GetField(pos_TRF_uTAR_uPAT_SetUnionPattern_pat);
      else 
        if (((Record) vdm_TRF_uTAR_uDEF_head).Is(vdm_TRF_uTAR_uPAT_SetEnumPattern)) 
          selRes_16 = ((Record) vdm_TRF_uTAR_uDEF_head).GetField(pos_TRF_uTAR_uPAT_SetEnumPattern_pat);
        else 
          if (((Record) vdm_TRF_uTAR_uDEF_head).Is(vdm_TRF_uTAR_uPAT_SeqEnumPattern)) 
            selRes_16 = ((Record) vdm_TRF_uTAR_uDEF_head).GetField(pos_TRF_uTAR_uPAT_SeqEnumPattern_pat);
          else 
            if (((Record) vdm_TRF_uTAR_uDEF_head).Is(vdm_TRF_uTAR_uPAT_SeqConcPattern)) 
              selRes_16 = ((Record) vdm_TRF_uTAR_uDEF_head).GetField(pos_TRF_uTAR_uPAT_SeqConcPattern_pat);
            else 
              if (((Record) vdm_TRF_uTAR_uDEF_head).Is(vdm_TRF_uTAR_uPAT_RecordPattern)) 
                selRes_16 = ((Record) vdm_TRF_uTAR_uDEF_head).GetField(pos_TRF_uTAR_uPAT_RecordPattern_pat);
              else 
                if (((Record) vdm_TRF_uTAR_uDEF_head).Is(vdm_TRF_uTAR_uPAT_PatternName)) 
                  selRes_16 = ((Record) vdm_TRF_uTAR_uDEF_head).GetField(pos_TRF_uTAR_uPAT_PatternName_pat);
                else 
                  if (((Record) vdm_TRF_uTAR_uDEF_head).Is(vdm_TRF_uTAR_uPAT_MatchVal)) 
                    selRes_16 = ((Record) vdm_TRF_uTAR_uDEF_head).GetField(pos_TRF_uTAR_uPAT_MatchVal_pat);
                  else 
                    RunTime("Unknown record field selector 01");    bool succ_15 = true;    {
      Int vdm_TRF_uTAR_uDEF_cid;
      succ_15 = true;
      if (selRes_16.IsRecord() && vdm_AS_PatternName == ((Record) selRes_16).GetTag()) {
        Sequence e_l_19;
        for (int i_20 = 1; i_20 <= ((Record) selRes_16).Length(); i_20++) 
          e_l_19.ImpAppend(((Record) selRes_16).GetField(i_20));
        if (succ_15 = 2 == (Int) e_l_19.Length()) {
          succ_15 = true;
          if ((Generic) e_l_19.Hd() != Nil()) 
            succ_15 = false;
          if (succ_15) { vdm_TRF_uTAR_uDEF_cid = (Generic) e_l_19[2]; }
        }
      }
      else 
        succ_15 = false;
      if (!succ_15) {
        succ_15 = true;
        if (selRes_16.IsRecord() && vdm_AS_MatchVal == ((Record) selRes_16).GetTag()) {
          Sequence e_l_22;
          for (int i_23 = 1; i_23 <= ((Record) selRes_16).Length(); i_23++) 
            e_l_22.ImpAppend(((Record) selRes_16).GetField(i_23));
          if (succ_15 = 2 == (Int) e_l_22.Length()) 
            vdm_TRF_uTAR_uDEF_cid = (Generic) e_l_22[2];
        }
        else 
          succ_15 = false;
      }
      if (!succ_15) {
        succ_15 = true;
        if (selRes_16.IsRecord() && vdm_AS_SetEnumPattern == ((Record) selRes_16).GetTag()) {
          Sequence e_l_24;
          for (int i_25 = 1; i_25 <= ((Record) selRes_16).Length(); i_25++) 
            e_l_24.ImpAppend(((Record) selRes_16).GetField(i_25));
          if (succ_15 = 2 == (Int) e_l_24.Length()) 
            vdm_TRF_uTAR_uDEF_cid = (Generic) e_l_24[2];
        }
        else 
          succ_15 = false;
      }
      if (!succ_15) {
        succ_15 = true;
        if (selRes_16.IsRecord() && vdm_AS_SetUnionPattern == ((Record) selRes_16).GetTag()) {
          Sequence e_l_26;
          for (int i_27 = 1; i_27 <= ((Record) selRes_16).Length(); i_27++) 
            e_l_26.ImpAppend(((Record) selRes_16).GetField(i_27));
          if (succ_15 = 3 == (Int) e_l_26.Length()) 
            vdm_TRF_uTAR_uDEF_cid = (Generic) e_l_26[3];
        }
        else 
          succ_15 = false;
      }
      if (!succ_15) {
        succ_15 = true;
        if (selRes_16.IsRecord() && vdm_AS_SeqEnumPattern == ((Record) selRes_16).GetTag()) {
          Sequence e_l_28;
          for (int i_29 = 1; i_29 <= ((Record) selRes_16).Length(); i_29++) 
            e_l_28.ImpAppend(((Record) selRes_16).GetField(i_29));
          if (succ_15 = 2 == (Int) e_l_28.Length()) 
            vdm_TRF_uTAR_uDEF_cid = (Generic) e_l_28[2];
        }
        else 
          succ_15 = false;
      }
      if (!succ_15) {
        succ_15 = true;
        if (selRes_16.IsRecord() && vdm_AS_SeqConcPattern == ((Record) selRes_16).GetTag()) {
          Sequence e_l_30;
          for (int i_31 = 1; i_31 <= ((Record) selRes_16).Length(); i_31++) 
            e_l_30.ImpAppend(((Record) selRes_16).GetField(i_31));
          if (succ_15 = 3 == (Int) e_l_30.Length()) 
            vdm_TRF_uTAR_uDEF_cid = (Generic) e_l_30[3];
        }
        else 
          succ_15 = false;
      }
      if (!succ_15) {
        succ_15 = true;
        if (selRes_16.IsRecord() && vdm_AS_RecordPattern == ((Record) selRes_16).GetTag()) {
          Sequence e_l_32;
          for (int i_33 = 1; i_33 <= ((Record) selRes_16).Length(); i_33++) 
            e_l_32.ImpAppend(((Record) selRes_16).GetField(i_33));
          if (succ_15 = 3 == (Int) e_l_32.Length()) 
            vdm_TRF_uTAR_uDEF_cid = (Generic) e_l_32[3];
        }
        else 
          succ_15 = false;
      }
      if (!succ_15) {
        succ_15 = true;
        if (selRes_16.IsRecord() && vdm_AS_TuplePattern == ((Record) selRes_16).GetTag()) {
          Sequence e_l_34;
          for (int i_35 = 1; i_35 <= ((Record) selRes_16).Length(); i_35++) 
            e_l_34.ImpAppend(((Record) selRes_16).GetField(i_35));
          if (succ_15 = 2 == (Int) e_l_34.Length()) 
            vdm_TRF_uTAR_uDEF_cid = (Generic) e_l_34[2];
        }
        else 
          succ_15 = false;
      }
      if (succ_15) {
        Sequence vdm_TRF_uTAR_uDEF_ids = vdm_TRF_uTAR_uEXPR_GetNewName((Generic) vdm_TRF_uTAR_uDEF_names);
        Record vdm_TRF_uTAR_uDEF_as_unm(vdm_AS_Name, length_AS_Name);
        vdm_TRF_uTAR_uDEF_as_unm = Record(vdm_AS_Name, length_AS_Name);
        vdm_TRF_uTAR_uDEF_as_unm.SetField(1, vdm_TRF_uTAR_uDEF_ids);
        vdm_TRF_uTAR_uDEF_as_unm.SetField(2, vdm_TRF_uTAR_uDEF_cid);
        Record vdm_TRF_uTAR_uDEF_pat(vdm_AS_PatternName, length_AS_PatternName);
        vdm_TRF_uTAR_uDEF_pat = Record(vdm_AS_PatternName, length_AS_PatternName);
        vdm_TRF_uTAR_uDEF_pat.SetField(1, vdm_TRF_uTAR_uDEF_as_unm);
        vdm_TRF_uTAR_uDEF_pat.SetField(2, vdm_TRF_uTAR_uDEF_cid);
        Set vdm_TRF_uTAR_uDEF_fv = Set();
        Set vdm_TRF_uTAR_uDEF_pid;
        vdm_TRF_uTAR_uDEF_pid = Set().Insert(vdm_TRF_uTAR_uDEF_ids);
        tmpVal_14 = Tuple(2);
        Record tmpVar_48(vdm_TRF_uTAR_uPAT_PatternName, length_TRF_uTAR_uPAT_PatternName);
        tmpVar_48 = Record(vdm_TRF_uTAR_uPAT_PatternName, length_TRF_uTAR_uPAT_PatternName);
        tmpVar_48.SetField(1, vdm_TRF_uTAR_uDEF_pat);
        tmpVar_48.SetField(2, vdm_TRF_uTAR_uDEF_fv);
        tmpVar_48.SetField(3, vdm_TRF_uTAR_uDEF_pid);
        tmpVal_14 = Tuple(tmpVal_14).SetField(1, tmpVar_48);
        Set tmpVar_52;
        tmpVar_52 = Set().Insert(vdm_TRF_uTAR_uDEF_ids);
        tmpVal_14 = Tuple(tmpVal_14).SetField(2, tmpVar_52);
      }
    }    if (!succ_15) {
      succ_15 = true;
      if (selRes_16.IsRecord() && vdm_AS_PatternName == ((Record) selRes_16).GetTag()) {
        Sequence e_l_54;
        for (int i_55 = 1; i_55 <= ((Record) selRes_16).Length(); i_55++) 
          e_l_54.ImpAppend(((Record) selRes_16).GetField(i_55));
        if (succ_15 = 2 == (Int) e_l_54.Length()) {}
      }
      else 
        succ_15 = false;
      if (succ_15) {
        tmpVal_14 = Tuple(2);
        tmpVal_14 = Tuple(tmpVal_14).SetField(1, vdm_TRF_uTAR_uDEF_head);
        tmpVal_14 = Tuple(tmpVal_14).SetField(2, Set());
      }
    }    if (!succ_15) 
      RunTime("Can not evaluate an undefined expression");
    Generic vdm_TRF_uTAR_uDEF_new_uhd;
    Generic vdm_TRF_uTAR_uDEF_new_unames;
    succ_9 = true;
    if (tmpVal_14.IsTuple()) {
      Sequence e_l_58;
      for (int i_59 = 1; i_59 <= ((Tuple) tmpVal_14).Length(); i_59++) 
        e_l_58.ImpAppend(((Tuple) tmpVal_14).GetField(i_59));
      if (succ_9 = 2 == (Int) e_l_58.Length()) {
        vdm_TRF_uTAR_uDEF_new_uhd = (Generic) e_l_58.Hd();
        vdm_TRF_uTAR_uDEF_new_unames = (Generic) e_l_58[2];
      }
    }
    else 
      succ_9 = false;
    if (!succ_9) 
      RunTime("Pattern match did not succeed in value definition");
    Sequence var1_60;
    var1_60 = Sequence().ImpAppend(vdm_TRF_uTAR_uDEF_new_uhd);
    Sequence var2_62;
    Set par_64;
    par_64 = vdm_TRF_uTAR_uDEF_names;
    par_64.ImpUnion((Set) vdm_TRF_uTAR_uDEF_new_unames);
    var2_62 = vdm_TRF_uTAR_uDEF_ComputeNewParameters((Generic) vdm_TRF_uTAR_uDEF_tail, (Generic) par_64);
    varRes_4.ImpConc(var1_60).ImpConc(var2_62);
  }
  return (Generic) varRes_4;
}
#endif

#ifndef DEF_TRF_uTAR_uDEF_ExtractLocalDefs

type_dL vdm_TRF_uTAR_uDEF_ExtractLocalDefs(const TYPE_TRF_uTAR_uDEF_Parameters &vdm_TRF_uTAR_uDEF_parms, const TYPE_TRF_uTAR_uDEF_Parameters &vdm_TRF_uTAR_uDEF_simp_uparms) {
  Sequence varRes_4;
  if (((Bool) (vdm_TRF_uTAR_uDEF_parms == Sequence())).GetValue()) 
    varRes_4 = Sequence();
  else {
    Record vdm_TRF_uTAR_uDEF_head = (Record) vdm_TRF_uTAR_uDEF_parms.Hd();
    Record vdm_TRF_uTAR_uDEF_simp_uhead = (Record) vdm_TRF_uTAR_uDEF_simp_uparms.Hd();
    Sequence vdm_TRF_uTAR_uDEF_tl_uldefs = vdm_TRF_uTAR_uDEF_ExtractLocalDefs((Generic) vdm_TRF_uTAR_uDEF_parms.Tl(), (Generic) vdm_TRF_uTAR_uDEF_simp_uparms.Tl());
    Generic vdm_TRF_uTAR_uDEF_hd_uldefs;
    Record selRes_21;
    if (((Record) vdm_TRF_uTAR_uDEF_head).Is(vdm_TRF_uTAR_uPAT_TuplePattern)) 
      selRes_21 = ((Record) vdm_TRF_uTAR_uDEF_head).GetField(pos_TRF_uTAR_uPAT_TuplePattern_pat);
    else 
      if (((Record) vdm_TRF_uTAR_uDEF_head).Is(vdm_TRF_uTAR_uPAT_SetUnionPattern)) 
        selRes_21 = ((Record) vdm_TRF_uTAR_uDEF_head).GetField(pos_TRF_uTAR_uPAT_SetUnionPattern_pat);
      else 
        if (((Record) vdm_TRF_uTAR_uDEF_head).Is(vdm_TRF_uTAR_uPAT_SetEnumPattern)) 
          selRes_21 = ((Record) vdm_TRF_uTAR_uDEF_head).GetField(pos_TRF_uTAR_uPAT_SetEnumPattern_pat);
        else 
          if (((Record) vdm_TRF_uTAR_uDEF_head).Is(vdm_TRF_uTAR_uPAT_SeqEnumPattern)) 
            selRes_21 = ((Record) vdm_TRF_uTAR_uDEF_head).GetField(pos_TRF_uTAR_uPAT_SeqEnumPattern_pat);
          else 
            if (((Record) vdm_TRF_uTAR_uDEF_head).Is(vdm_TRF_uTAR_uPAT_SeqConcPattern)) 
              selRes_21 = ((Record) vdm_TRF_uTAR_uDEF_head).GetField(pos_TRF_uTAR_uPAT_SeqConcPattern_pat);
            else 
              if (((Record) vdm_TRF_uTAR_uDEF_head).Is(vdm_TRF_uTAR_uPAT_RecordPattern)) 
                selRes_21 = ((Record) vdm_TRF_uTAR_uDEF_head).GetField(pos_TRF_uTAR_uPAT_RecordPattern_pat);
              else 
                if (((Record) vdm_TRF_uTAR_uDEF_head).Is(vdm_TRF_uTAR_uPAT_PatternName)) 
                  selRes_21 = ((Record) vdm_TRF_uTAR_uDEF_head).GetField(pos_TRF_uTAR_uPAT_PatternName_pat);
                else 
                  if (((Record) vdm_TRF_uTAR_uDEF_head).Is(vdm_TRF_uTAR_uPAT_MatchVal)) 
                    selRes_21 = ((Record) vdm_TRF_uTAR_uDEF_head).GetField(pos_TRF_uTAR_uPAT_MatchVal_pat);
                  else 
                    RunTime("Unknown record field selector 02");
    bool succ_20 = true;
    {
      succ_20 = true;
      if (selRes_21.IsRecord() && vdm_AS_PatternName == ((Record) selRes_21).GetTag()) {
        Sequence e_l_24;
        for (int i_25 = 1; i_25 <= ((Record) selRes_21).Length(); i_25++) 
          e_l_24.ImpAppend(((Record) selRes_21).GetField(i_25));
        if (succ_20 = 2 == (Int) e_l_24.Length()) {}
      }
      else 
        succ_20 = false;
      if (!succ_20) {
        succ_20 = true;
        if (selRes_21.IsRecord() && vdm_AS_MatchVal == ((Record) selRes_21).GetTag()) {
          Sequence e_l_26;
          for (int i_27 = 1; i_27 <= ((Record) selRes_21).Length(); i_27++) 
            e_l_26.ImpAppend(((Record) selRes_21).GetField(i_27));
          if (succ_20 = 2 == (Int) e_l_26.Length()) {}
        }
        else 
          succ_20 = false;
      }
      if (succ_20) 
        vdm_TRF_uTAR_uDEF_hd_uldefs = Sequence();
    }
    if (!succ_20) {
      Int vdm_TRF_uTAR_uDEF_cid;
      succ_20 = true;
      if (selRes_21.IsRecord() && vdm_AS_SetEnumPattern == ((Record) selRes_21).GetTag()) {
        Sequence e_l_28;
        for (int i_29 = 1; i_29 <= ((Record) selRes_21).Length(); i_29++) 
          e_l_28.ImpAppend(((Record) selRes_21).GetField(i_29));
        if (succ_20 = 2 == (Int) e_l_28.Length()) 
          vdm_TRF_uTAR_uDEF_cid = (Generic) e_l_28[2];
      }
      else 
        succ_20 = false;
      if (!succ_20) {
        succ_20 = true;
        if (selRes_21.IsRecord() && vdm_AS_SetUnionPattern == ((Record) selRes_21).GetTag()) {
          Sequence e_l_30;
          for (int i_31 = 1; i_31 <= ((Record) selRes_21).Length(); i_31++) 
            e_l_30.ImpAppend(((Record) selRes_21).GetField(i_31));
          if (succ_20 = 3 == (Int) e_l_30.Length()) 
            vdm_TRF_uTAR_uDEF_cid = (Generic) e_l_30[3];
        }
        else 
          succ_20 = false;
      }
      if (!succ_20) {
        succ_20 = true;
        if (selRes_21.IsRecord() && vdm_AS_SeqEnumPattern == ((Record) selRes_21).GetTag()) {
          Sequence e_l_32;
          for (int i_33 = 1; i_33 <= ((Record) selRes_21).Length(); i_33++) 
            e_l_32.ImpAppend(((Record) selRes_21).GetField(i_33));
          if (succ_20 = 2 == (Int) e_l_32.Length()) 
            vdm_TRF_uTAR_uDEF_cid = (Generic) e_l_32[2];
        }
        else 
          succ_20 = false;
      }
      if (!succ_20) {
        succ_20 = true;
        if (selRes_21.IsRecord() && vdm_AS_SeqConcPattern == ((Record) selRes_21).GetTag()) {
          Sequence e_l_34;
          for (int i_35 = 1; i_35 <= ((Record) selRes_21).Length(); i_35++) 
            e_l_34.ImpAppend(((Record) selRes_21).GetField(i_35));
          if (succ_20 = 3 == (Int) e_l_34.Length()) 
            vdm_TRF_uTAR_uDEF_cid = (Generic) e_l_34[3];
        }
        else 
          succ_20 = false;
      }
      if (!succ_20) {
        succ_20 = true;
        if (selRes_21.IsRecord() && vdm_AS_RecordPattern == ((Record) selRes_21).GetTag()) {
          Sequence e_l_36;
          for (int i_37 = 1; i_37 <= ((Record) selRes_21).Length(); i_37++) 
            e_l_36.ImpAppend(((Record) selRes_21).GetField(i_37));
          if (succ_20 = 3 == (Int) e_l_36.Length()) 
            vdm_TRF_uTAR_uDEF_cid = (Generic) e_l_36[3];
        }
        else 
          succ_20 = false;
      }
      if (!succ_20) {
        succ_20 = true;
        if (selRes_21.IsRecord() && vdm_AS_TuplePattern == ((Record) selRes_21).GetTag()) {
          Sequence e_l_38;
          for (int i_39 = 1; i_39 <= ((Record) selRes_21).Length(); i_39++) 
            e_l_38.ImpAppend(((Record) selRes_21).GetField(i_39));
          if (succ_20 = 2 == (Int) e_l_38.Length()) 
            vdm_TRF_uTAR_uDEF_cid = (Generic) e_l_38[2];
        }
        else 
          succ_20 = false;
      }
      if (succ_20) {
        Record vdm_TRF_uTAR_uDEF_val(vdm_TRF_uTAR_uEXPR_NameExpr, length_TRF_uTAR_uEXPR_NameExpr);
        Record par_42;
        if (((Record) vdm_TRF_uTAR_uDEF_simp_uhead).Is(vdm_TRF_uTAR_uPAT_TuplePattern)) 
          par_42 = ((Record) vdm_TRF_uTAR_uDEF_simp_uhead).GetField(pos_TRF_uTAR_uPAT_TuplePattern_pat);
        else 
          if (((Record) vdm_TRF_uTAR_uDEF_simp_uhead).Is(vdm_TRF_uTAR_uPAT_SetUnionPattern)) 
            par_42 = ((Record) vdm_TRF_uTAR_uDEF_simp_uhead).GetField(pos_TRF_uTAR_uPAT_SetUnionPattern_pat);
          else 
            if (((Record) vdm_TRF_uTAR_uDEF_simp_uhead).Is(vdm_TRF_uTAR_uPAT_SetEnumPattern)) 
              par_42 = ((Record) vdm_TRF_uTAR_uDEF_simp_uhead).GetField(pos_TRF_uTAR_uPAT_SetEnumPattern_pat);
            else 
              if (((Record) vdm_TRF_uTAR_uDEF_simp_uhead).Is(vdm_TRF_uTAR_uPAT_SeqEnumPattern)) 
                par_42 = ((Record) vdm_TRF_uTAR_uDEF_simp_uhead).GetField(pos_TRF_uTAR_uPAT_SeqEnumPattern_pat);
              else 
                if (((Record) vdm_TRF_uTAR_uDEF_simp_uhead).Is(vdm_TRF_uTAR_uPAT_SeqConcPattern)) 
                  par_42 = ((Record) vdm_TRF_uTAR_uDEF_simp_uhead).GetField(pos_TRF_uTAR_uPAT_SeqConcPattern_pat);
                else 
                  if (((Record) vdm_TRF_uTAR_uDEF_simp_uhead).Is(vdm_TRF_uTAR_uPAT_RecordPattern)) 
                    par_42 = ((Record) vdm_TRF_uTAR_uDEF_simp_uhead).GetField(pos_TRF_uTAR_uPAT_RecordPattern_pat);
                  else 
                    if (((Record) vdm_TRF_uTAR_uDEF_simp_uhead).Is(vdm_TRF_uTAR_uPAT_PatternName)) 
                      par_42 = ((Record) vdm_TRF_uTAR_uDEF_simp_uhead).GetField(pos_TRF_uTAR_uPAT_PatternName_pat);
                    else 
                      if (((Record) vdm_TRF_uTAR_uDEF_simp_uhead).Is(vdm_TRF_uTAR_uPAT_MatchVal)) 
                        par_42 = ((Record) vdm_TRF_uTAR_uDEF_simp_uhead).GetField(pos_TRF_uTAR_uPAT_MatchVal_pat);
                      else 
                        RunTime("Unknown record field selector 03");
        vdm_TRF_uTAR_uDEF_val = vdm_CAST_PatternName2Expr((Generic) par_42);
        Record vdm_TRF_uTAR_uDEF_pat = vdm_TRF_uTAR_uDEF_head;
        Generic vdm_TRF_uTAR_uDEF_tp = Nil();
        vdm_TRF_uTAR_uDEF_hd_uldefs = Sequence().ImpAppend(vdm_TRF_uTAR_uDEF_tar_uValueDef((Generic) vdm_TRF_uTAR_uDEF_pat, (Generic) vdm_TRF_uTAR_uDEF_tp, (Generic) vdm_TRF_uTAR_uDEF_val, (Generic) vdm_TRF_uTAR_uDEF_cid));
      }
    }
    if (!succ_20) 
      RunTime("Can not evaluate an undefined expression");
    varRes_4.ImpConc(vdm_TRF_uTAR_uDEF_hd_uldefs).ImpConc(vdm_TRF_uTAR_uDEF_tl_uldefs);
  }
  return (Generic) varRes_4;
}
#endif

#ifndef DEF_TRF_uTAR_uDEF_pre_ExtractLocalDefs

Bool vdm_TRF_uTAR_uDEF_pre_ExtractLocalDefs(const TYPE_TRF_uTAR_uDEF_Parameters &vdm_TRF_uTAR_uDEF_parms, const TYPE_TRF_uTAR_uDEF_Parameters &vdm_TRF_uTAR_uDEF_simp_uparms) {
  Bool varRes_4;
{ if ((varRes_4 = (Bool) ((Int) vdm_TRF_uTAR_uDEF_parms.Length() == (Int) vdm_TRF_uTAR_uDEF_simp_uparms.Length())).GetValue()) {
   Bool var2_10;
   bool tmpQuant_11 = true;
   {
     bool succ_16 = true;
     Set e_set_17;     Set riseq_19;     int max_20 = (Int) vdm_TRF_uTAR_uDEF_simp_uparms.Length();     for (int i_21 = 1; i_21 <= max_20; i_21++) 
       riseq_19.Insert((Int) i_21);     e_set_17 = riseq_19;
     Int vdm_TRF_uTAR_uDEF_i;
     {
       Generic tmpe_24;
       for (int bb_23 = e_set_17.First(tmpe_24); bb_23 && tmpQuant_11; bb_23 = e_set_17.Next(tmpe_24)) {
         Int elem_22 = tmpe_24;
         succ_16 = true;         vdm_TRF_uTAR_uDEF_i = elem_22;         if (succ_16) {
           Bool pred_12;
           if (((Record) vdm_TRF_uTAR_uDEF_simp_uparms[vdm_TRF_uTAR_uDEF_i.GetValue()]).IsRecord()) 
             pred_12 = vdm_TRF_uTAR_uPAT_PatternName == ((Record) vdm_TRF_uTAR_uDEF_simp_uparms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetTag();
           else 
             pred_12 = false;
           if (pred_12.GetValue()) {}
           else 
             tmpQuant_11 = false;
         }
       }
     }
   }
   var2_10 = (Bool) tmpQuant_11;
   varRes_4 = var2_10;
 } }
  return (Generic) varRes_4;
}
#endif

#ifndef DEF_TRF_uTAR_uDEF_MakeNewContextInfo

TYPE_CI_ContextId vdm_TRF_uTAR_uDEF_MakeNewContextInfo(const TYPE_REP_TypeRep &vdm_TRF_uTAR_uDEF_tp_urep, const TYPE_CI_ContextId &vdm_TRF_uTAR_uDEF_cid) {
  Int varRes_4;
  {
    Int vdm_TRF_uTAR_uDEF_fid = vdm_CI_ConvCid2Fid((Generic) vdm_TRF_uTAR_uDEF_cid);
    Int vdm_TRF_uTAR_uDEF_new_ucid = vdm_CI_Push((Generic) vdm_TRF_uTAR_uDEF_fid);
    Bool vdm_TRF_uTAR_uDEF_dummy = vdm_TRF_uTAR_uDEF_NewSetTypeInfo((Generic) vdm_TRF_uTAR_uDEF_new_ucid, (Generic) vdm_TRF_uTAR_uDEF_tp_urep);
    varRes_4 = vdm_TRF_uTAR_uDEF_new_ucid;
  }
  return (Generic) varRes_4;
}
#endif

#ifndef DEF_TRF_uTAR_uDEF_pre_MakeNewContextInfo

Bool vdm_TRF_uTAR_uDEF_pre_MakeNewContextInfo(const TYPE_REP_TypeRep &vdm_TRF_uTAR_uDEF_tp_urep, const TYPE_CI_ContextId &vdm_TRF_uTAR_uDEF_cid) { return (Generic) vdm_CI_IsAValidContextId((Generic) vdm_TRF_uTAR_uDEF_cid); }
#endif

#ifndef DEF_TRF_uTAR_uDEF_post_MakeNewContextInfo

Bool vdm_TRF_uTAR_uDEF_post_MakeNewContextInfo(const TYPE_REP_TypeRep &vdm_TRF_uTAR_uDEF_tp_urep, const TYPE_CI_ContextId &vdm_TRF_uTAR_uDEF_cid, const TYPE_CI_ContextId &vdm_TRF_uTAR_uDEF_RESULT) {
  Bool varRes_5;
{ if ((varRes_5 = vdm_CI_IsAValidContextId((Generic) vdm_TRF_uTAR_uDEF_cid)).GetValue()) 
   varRes_5 = vdm_CI_HasTypeInfo((Generic) vdm_TRF_uTAR_uDEF_cid); }
  return (Generic) varRes_5;
}
#endif

#ifndef DEF_TRF_uTAR_uDEF_tar_uAstCI

TYPE_TRF_uTAR_uDEF_AstCI vdm_TRF_uTAR_uDEF_tar_uAstCI(const Generic &vdm_TRF_uTAR_uDEF_ast, const type_19CI_TokenContextInfoCL &vdm_TRF_uTAR_uDEF_tllci, const TYPE_CI_FileIdMap &vdm_TRF_uTAR_uDEF_fidm) {
  Record varRes_5(vdm_AS_AstCI, length_AS_AstCI);
  varRes_5 = Record(vdm_AS_AstCI, length_AS_AstCI);
  varRes_5.SetField(1, vdm_TRF_uTAR_uDEF_ast);
  varRes_5.SetField(2, vdm_TRF_uTAR_uDEF_tllci);
  varRes_5.SetField(3, vdm_TRF_uTAR_uDEF_fidm);
  return (Generic) varRes_5;
}
#endif

#ifndef DEF_TRF_uTAR_uDEF_tar_uDefinitions

TYPE_TRF_uTAR_uDEF_Definitions vdm_TRF_uTAR_uDEF_tar_uDefinitions(const type_7AS_NameC10AS_TypeDefCM &vdm_TRF_uTAR_uDEF_typem, const type_11AS_ValueDefCL &vdm_TRF_uTAR_uDEF_valuem, const type_7AS_NameC12AS_ExplFnDefCM &vdm_TRF_uTAR_uDEF_fnm, const type_7AS_NameCFM &vdm_TRF_uTAR_uDEF_opm, const Generic &vdm_TRF_uTAR_uDEF_stt, const TYPE_CI_ContextId &vdm_TRF_uTAR_uDEF_cid) {
  Record varRes_8(vdm_AS_Definitions, length_AS_Definitions);
  varRes_8 = Record(vdm_AS_Definitions, length_AS_Definitions);
  varRes_8.SetField(1, vdm_TRF_uTAR_uDEF_typem);
  varRes_8.SetField(2, vdm_TRF_uTAR_uDEF_valuem);
  varRes_8.SetField(3, vdm_TRF_uTAR_uDEF_fnm);
  varRes_8.SetField(4, vdm_TRF_uTAR_uDEF_opm);
  varRes_8.SetField(5, vdm_TRF_uTAR_uDEF_stt);
  varRes_8.SetField(6, vdm_TRF_uTAR_uDEF_cid);
  return (Generic) varRes_8;
}
#endif

#ifndef DEF_TRF_uTAR_uDEF_tar_uDocument

TYPE_TRF_uTAR_uDEF_Document vdm_TRF_uTAR_uDEF_tar_uDocument(const type_dL &vdm_TRF_uTAR_uDEF_doc) { return (Generic) vdm_TRF_uTAR_uDEF_doc; }
#endif

#ifndef DEF_TRF_uTAR_uDEF_tar_uExplFunction

TYPE_TRF_uTAR_uDEF_ExplFnDef vdm_TRF_uTAR_uDEF_tar_uExplFunction(const TYPE_TRF_uTAR_uEXPR_NameName &vdm_TRF_uTAR_uDEF_nm, const TYPE_TRF_uTAR_uDEF_TypeVarList &vdm_TRF_uTAR_uDEF_tpvarlst, const TYPE_TRF_uTAR_uTYPE_FnType &vdm_TRF_uTAR_uDEF_tp, const TYPE_TRF_uTAR_uDEF_ParametersList &vdm_TRF_uTAR_uDEF_parmlst, const TYPE_TRF_uTAR_uDEF_FnBody &vdm_TRF_uTAR_uDEF_fnbody, const Generic &vdm_TRF_uTAR_uDEF_fnpre, const Generic &vdm_TRF_uTAR_uDEF_fnpost, const TYPE_CI_ContextId &vdm_TRF_uTAR_uDEF_cid) {
  Record varRes_10(vdm_AS_ExplFnDef, length_AS_ExplFnDef);
  {
    Sequence vdm_TRF_uTAR_uDEF_parms = (Sequence) vdm_TRF_uTAR_uDEF_parmlst.Hd();
    Set vdm_TRF_uTAR_uDEF_parms_ufv;
    Set unArg_15;
    Set res_s_16;
    {
      bool succ_21 = true;
      Set e_set_22;      Set riseq_24;      int max_25 = (Int) vdm_TRF_uTAR_uDEF_parms.Length();      for (int i_26 = 1; i_26 <= max_25; i_26++) 
        riseq_24.Insert((Int) i_26);      e_set_22 = riseq_24;
      Int vdm_TRF_uTAR_uDEF_i;
      {
        Generic tmpe_29;
        for (int bb_28 = e_set_22.First(tmpe_29); bb_28; bb_28 = e_set_22.Next(tmpe_29)) {
          Int elem_27 = tmpe_29;
          succ_21 = true;          vdm_TRF_uTAR_uDEF_i = elem_27;          if (succ_21) {
            Set res_s_17;
            if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_TuplePattern)) 
              res_s_17 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_TuplePattern_fv);
            else 
              if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_SetUnionPattern)) 
                res_s_17 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_SetUnionPattern_fv);
              else 
                if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_SetEnumPattern)) 
                  res_s_17 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_SetEnumPattern_fv);
                else 
                  if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_SeqEnumPattern)) 
                    res_s_17 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_SeqEnumPattern_fv);
                  else 
                    if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_SeqConcPattern)) 
                      res_s_17 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_SeqConcPattern_fv);
                    else 
                      if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_RecordPattern)) 
                        res_s_17 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_RecordPattern_fv);
                      else 
                        if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_PatternName)) 
                          res_s_17 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_PatternName_fv);
                        else 
                          if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_MatchVal)) 
                            res_s_17 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_MatchVal_fv);
                          else 
                            RunTime("Unknown record field selector 1");
            res_s_16.Insert(res_s_17);
          }
        }
      }
    }
    unArg_15 = res_s_16;
    Set rduset_30;    Generic tmpe_33;    for (int bb_32 = unArg_15.First(tmpe_33); bb_32; bb_32 = unArg_15.Next(tmpe_33)) {
      Set e_31 = tmpe_33;
      rduset_30.ImpUnion(e_31);
    }    vdm_TRF_uTAR_uDEF_parms_ufv = rduset_30;
    Set vdm_TRF_uTAR_uDEF_parms_upid;
    Set unArg_35;
    Set res_s_36;
    {
      bool succ_41 = true;
      Set e_set_42;      Set riseq_44;      int max_45 = (Int) vdm_TRF_uTAR_uDEF_parms.Length();      for (int i_46 = 1; i_46 <= max_45; i_46++) 
        riseq_44.Insert((Int) i_46);      e_set_42 = riseq_44;
      Int vdm_TRF_uTAR_uDEF_i;
      {
        Generic tmpe_49;
        for (int bb_48 = e_set_42.First(tmpe_49); bb_48; bb_48 = e_set_42.Next(tmpe_49)) {
          Int elem_47 = tmpe_49;
          succ_41 = true;          vdm_TRF_uTAR_uDEF_i = elem_47;          if (succ_41) {
            Set res_s_37;
            if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_TuplePattern)) 
              res_s_37 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_TuplePattern_pid);
            else 
              if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_SetUnionPattern)) 
                res_s_37 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_SetUnionPattern_pid);
              else 
                if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_SetEnumPattern)) 
                  res_s_37 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_SetEnumPattern_pid);
                else 
                  if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_SeqEnumPattern)) 
                    res_s_37 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_SeqEnumPattern_pid);
                  else 
                    if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_SeqConcPattern)) 
                      res_s_37 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_SeqConcPattern_pid);
                    else 
                      if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_RecordPattern)) 
                        res_s_37 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_RecordPattern_pid);
                      else 
                        if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_PatternName)) 
                          res_s_37 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_PatternName_pid);
                        else 
                          if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_MatchVal)) 
                            res_s_37 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_MatchVal_pid);
                          else 
                            RunTime("Unknown record field selector 2");
            res_s_36.Insert(res_s_37);
          }
        }
      }
    }
    unArg_35 = res_s_36;
    Set rduset_50;    Generic tmpe_53;    for (int bb_52 = unArg_35.First(tmpe_53); bb_52; bb_52 = unArg_35.Next(tmpe_53)) {
      Set e_51 = tmpe_53;
      rduset_50.ImpUnion(e_51);
    }    vdm_TRF_uTAR_uDEF_parms_upid = rduset_50;
    Set vdm_TRF_uTAR_uDEF_bodies_ufv;
    Bool cond_56;
    Generic var1_57;
    if (vdm_TRF_uTAR_uDEF_fnbody.Is(vdm_TRF_uTAR_uDEF_FnBody)) 
      var1_57 = vdm_TRF_uTAR_uDEF_fnbody.GetField(pos_TRF_uTAR_uDEF_FnBody_body);
    else 
      RunTime("Unknown record field selector 3");
    cond_56 = (Bool) (var1_57 == (Quote) "NOTYETSPEC");
    if (cond_56.GetValue()) 
      vdm_TRF_uTAR_uDEF_bodies_ufv = Set();
    else {
      Set var1_60;
      Generic tmpRec_61;
      if (vdm_TRF_uTAR_uDEF_fnbody.Is(vdm_TRF_uTAR_uDEF_FnBody)) 
        tmpRec_61 = vdm_TRF_uTAR_uDEF_fnbody.GetField(pos_TRF_uTAR_uDEF_FnBody_body);
      else 
        RunTime("Unknown record field selector 4");
      if (tmpRec_61.IsRecord()) 
        if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_UndefinedExpr)) 
          var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_UndefinedExpr_fv);
        else 
          if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_TypeJudgementExpr)) 
            var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_TypeJudgementExpr_fv);
          else 
            if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_TupleSelectExpr)) 
              var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_TupleSelectExpr_fv);
            else 
              if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_TupleConstructorExpr)) 
                var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_TupleConstructorExpr_fv);
              else 
                if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_TokenConstructorExpr)) 
                  var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_TokenConstructorExpr_fv);
                else 
                  if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_TextLit)) 
                    var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_TextLit_fv);
                  else 
                    if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_SubSequenceExpr)) 
                      var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_SubSequenceExpr_fv);
                    else 
                      if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_SetRangeExpr)) 
                        var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_SetRangeExpr_fv);
                      else 
                        if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_SetEnumerationExpr)) 
                          var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_SetEnumerationExpr_fv);
                        else 
                          if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_SetComprehensionExpr)) 
                            var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_SetComprehensionExpr_fv);
                          else 
                            if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_SeqModifyMapOverrideExpr)) 
                              var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_SeqModifyMapOverrideExpr_fv);
                            else 
                              if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_SeqEnumerationExpr)) 
                                var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_SeqEnumerationExpr_fv);
                              else 
                                if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_SeqComprehensionExpr)) 
                                  var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_SeqComprehensionExpr_fv);
                                else 
                                  if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_RecordModifierExpr)) 
                                    var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_RecordModifierExpr_fv);
                                  else 
                                    if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_RecordConstructorExpr)) 
                                      var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_RecordConstructorExpr_fv);
                                    else 
                                      if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_RealLit)) 
                                        var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_RealLit_fv);
                                      else 
                                        if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_QuoteLit)) 
                                          var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_QuoteLit_fv);
                                        else 
                                          if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_PrefixExpr)) 
                                            var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_PrefixExpr_fv);
                                          else 
                                            if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_PreConditionApplyExpr)) 
                                              var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_PreConditionApplyExpr_fv);
                                            else 
                                              if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_OldName)) 
                                                var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_OldName_fv);
                                              else 
                                                if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_NumLit)) 
                                                  var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_NumLit_fv);
                                                else 
                                                  if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_NilLit)) 
                                                    var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_NilLit_fv);
                                                  else 
                                                    if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_NameExpr)) 
                                                      var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_NameExpr_fv);
                                                    else 
                                                      if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_MapInverseExpr)) 
                                                        var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_MapInverseExpr_fv);
                                                      else 
                                                        if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_MapEnumerationExpr)) 
                                                          var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_MapEnumerationExpr_fv);
                                                        else 
                                                          if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_MapComprehensionExpr)) 
                                                            var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_MapComprehensionExpr_fv);
                                                          else 
                                                            if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_LetExpr)) 
                                                              var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_LetExpr_fv);
                                                            else 
                                                              if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_LetBeSTExpr)) 
                                                                var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_LetBeSTExpr_fv);
                                                              else 
                                                                if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_LambdaExpr)) 
                                                                  var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_LambdaExpr_fv);
                                                                else 
                                                                  if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_IsExpr)) 
                                                                    var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_IsExpr_fv);
                                                                  else 
                                                                    if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_IotaExpr)) 
                                                                      var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_IotaExpr_fv);
                                                                    else 
                                                                      if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_IfExpr)) 
                                                                        var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_IfExpr_fv);
                                                                      else 
                                                                        if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_FieldSelectExpr)) 
                                                                          var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_FieldSelectExpr_fv);
                                                                        else 
                                                                          if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_FctTypeInstExpr)) 
                                                                            var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_FctTypeInstExpr_fv);
                                                                          else 
                                                                            if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_ExistsUniqueExpr)) 
                                                                              var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_ExistsUniqueExpr_fv);
                                                                            else 
                                                                              if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_DefExpr)) 
                                                                                var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_DefExpr_fv);
                                                                              else 
                                                                                if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_CharLit)) 
                                                                                  var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_CharLit_fv);
                                                                                else 
                                                                                  if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_CasesExpr)) 
                                                                                    var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_CasesExpr_fv);
                                                                                  else 
                                                                                    if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_BracketedExpr)) 
                                                                                      var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_BracketedExpr_fv);
                                                                                    else 
                                                                                      if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_BoolLit)) 
                                                                                        var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_BoolLit_fv);
                                                                                      else 
                                                                                        if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_BinaryExpr)) 
                                                                                          var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_BinaryExpr_fv);
                                                                                        else 
                                                                                          if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_ApplyExpr)) 
                                                                                            var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_ApplyExpr_fv);
                                                                                          else 
                                                                                            if (((Record) tmpRec_61).Is(vdm_TRF_uTAR_uEXPR_AllOrExistsExpr)) 
                                                                                              var1_60 = ((Record) tmpRec_61).GetField(pos_TRF_uTAR_uEXPR_AllOrExistsExpr_fv);
                                                                                            else 
                                                                                              RunTime("Unknown record field selector 5");
      else 
        RunTime("A record was expected 6");
      Set var2_63;
      if (((Bool) (vdm_TRF_uTAR_uDEF_fnpre == Nil())).GetValue()) 
        var2_63 = Set();
      else {
        Set var1_68;
        if (vdm_TRF_uTAR_uDEF_fnpre.IsRecord()) 
          if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_UndefinedExpr)) 
            var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_UndefinedExpr_fv);
          else 
            if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_TypeJudgementExpr)) 
              var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_TypeJudgementExpr_fv);
            else 
              if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_TupleSelectExpr)) 
                var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_TupleSelectExpr_fv);
              else 
                if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_TupleConstructorExpr)) 
                  var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_TupleConstructorExpr_fv);
                else 
                  if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_TokenConstructorExpr)) 
                    var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_TokenConstructorExpr_fv);
                  else 
                    if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_TextLit)) 
                      var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_TextLit_fv);
                    else 
                      if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_SubSequenceExpr)) 
                        var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_SubSequenceExpr_fv);
                      else 
                        if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_SetRangeExpr)) 
                          var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_SetRangeExpr_fv);
                        else 
                          if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_SetEnumerationExpr)) 
                            var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_SetEnumerationExpr_fv);
                          else 
                            if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_SetComprehensionExpr)) 
                              var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_SetComprehensionExpr_fv);
                            else 
                              if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_SeqModifyMapOverrideExpr)) 
                                var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_SeqModifyMapOverrideExpr_fv);
                              else 
                                if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_SeqEnumerationExpr)) 
                                  var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_SeqEnumerationExpr_fv);
                                else 
                                  if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_SeqComprehensionExpr)) 
                                    var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_SeqComprehensionExpr_fv);
                                  else 
                                    if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_RecordModifierExpr)) 
                                      var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_RecordModifierExpr_fv);
                                    else 
                                      if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_RecordConstructorExpr)) 
                                        var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_RecordConstructorExpr_fv);
                                      else 
                                        if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_RealLit)) 
                                          var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_RealLit_fv);
                                        else 
                                          if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_QuoteLit)) 
                                            var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_QuoteLit_fv);
                                          else 
                                            if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_PrefixExpr)) 
                                              var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_PrefixExpr_fv);
                                            else 
                                              if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_PreConditionApplyExpr)) 
                                                var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_PreConditionApplyExpr_fv);
                                              else 
                                                if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_OldName)) 
                                                  var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_OldName_fv);
                                                else 
                                                  if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_NumLit)) 
                                                    var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_NumLit_fv);
                                                  else 
                                                    if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_NilLit)) 
                                                      var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_NilLit_fv);
                                                    else 
                                                      if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_NameExpr)) 
                                                        var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_NameExpr_fv);
                                                      else 
                                                        if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_MapInverseExpr)) 
                                                          var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_MapInverseExpr_fv);
                                                        else 
                                                          if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_MapEnumerationExpr)) 
                                                            var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_MapEnumerationExpr_fv);
                                                          else 
                                                            if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_MapComprehensionExpr)) 
                                                              var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_MapComprehensionExpr_fv);
                                                            else 
                                                              if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_LetExpr)) 
                                                                var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_LetExpr_fv);
                                                              else 
                                                                if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_LetBeSTExpr)) 
                                                                  var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_LetBeSTExpr_fv);
                                                                else 
                                                                  if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_LambdaExpr)) 
                                                                    var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_LambdaExpr_fv);
                                                                  else 
                                                                    if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_IsExpr)) 
                                                                      var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_IsExpr_fv);
                                                                    else 
                                                                      if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_IotaExpr)) 
                                                                        var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_IotaExpr_fv);
                                                                      else 
                                                                        if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_IfExpr)) 
                                                                          var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_IfExpr_fv);
                                                                        else 
                                                                          if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_FieldSelectExpr)) 
                                                                            var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_FieldSelectExpr_fv);
                                                                          else 
                                                                            if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_FctTypeInstExpr)) 
                                                                              var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_FctTypeInstExpr_fv);
                                                                            else 
                                                                              if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_ExistsUniqueExpr)) 
                                                                                var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_ExistsUniqueExpr_fv);
                                                                              else 
                                                                                if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_DefExpr)) 
                                                                                  var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_DefExpr_fv);
                                                                                else 
                                                                                  if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_CharLit)) 
                                                                                    var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_CharLit_fv);
                                                                                  else 
                                                                                    if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_CasesExpr)) 
                                                                                      var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_CasesExpr_fv);
                                                                                    else 
                                                                                      if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_BracketedExpr)) 
                                                                                        var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_BracketedExpr_fv);
                                                                                      else 
                                                                                        if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_BoolLit)) 
                                                                                          var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_BoolLit_fv);
                                                                                        else 
                                                                                          if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_BinaryExpr)) 
                                                                                            var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_BinaryExpr_fv);
                                                                                          else 
                                                                                            if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_ApplyExpr)) 
                                                                                              var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_ApplyExpr_fv);
                                                                                            else 
                                                                                              if (((Record) vdm_TRF_uTAR_uDEF_fnpre).Is(vdm_TRF_uTAR_uEXPR_AllOrExistsExpr)) 
                                                                                                var1_68 = ((Record) vdm_TRF_uTAR_uDEF_fnpre).GetField(pos_TRF_uTAR_uEXPR_AllOrExistsExpr_fv);
                                                                                              else 
                                                                                                RunTime("Unknown record field selector 8");
        else 
          RunTime("A record was expected 9");
        Set var2_70;
        if (((Bool) (vdm_TRF_uTAR_uDEF_fnpost == Nil())).GetValue()) 
          var2_70 = Set();
        else 
          if (vdm_TRF_uTAR_uDEF_fnpost.IsRecord()) 
            if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_UndefinedExpr)) 
              var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_UndefinedExpr_fv);
            else 
              if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_TypeJudgementExpr)) 
                var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_TypeJudgementExpr_fv);
              else 
                if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_TupleSelectExpr)) 
                  var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_TupleSelectExpr_fv);
                else 
                  if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_TupleConstructorExpr)) 
                    var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_TupleConstructorExpr_fv);
                  else 
                    if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_TokenConstructorExpr)) 
                      var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_TokenConstructorExpr_fv);
                    else 
                      if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_TextLit)) 
                        var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_TextLit_fv);
                      else 
                        if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_SubSequenceExpr)) 
                          var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_SubSequenceExpr_fv);
                        else 
                          if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_SetRangeExpr)) 
                            var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_SetRangeExpr_fv);
                          else 
                            if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_SetEnumerationExpr)) 
                              var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_SetEnumerationExpr_fv);
                            else 
                              if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_SetComprehensionExpr)) 
                                var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_SetComprehensionExpr_fv);
                              else 
                                if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_SeqModifyMapOverrideExpr)) 
                                  var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_SeqModifyMapOverrideExpr_fv);
                                else 
                                  if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_SeqEnumerationExpr)) 
                                    var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_SeqEnumerationExpr_fv);
                                  else 
                                    if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_SeqComprehensionExpr)) 
                                      var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_SeqComprehensionExpr_fv);
                                    else 
                                      if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_RecordModifierExpr)) 
                                        var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_RecordModifierExpr_fv);
                                      else 
                                        if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_RecordConstructorExpr)) 
                                          var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_RecordConstructorExpr_fv);
                                        else 
                                          if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_RealLit)) 
                                            var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_RealLit_fv);
                                          else 
                                            if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_QuoteLit)) 
                                              var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_QuoteLit_fv);
                                            else 
                                              if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_PrefixExpr)) 
                                                var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_PrefixExpr_fv);
                                              else 
                                                if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_PreConditionApplyExpr)) 
                                                  var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_PreConditionApplyExpr_fv);
                                                else 
                                                  if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_OldName)) 
                                                    var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_OldName_fv);
                                                  else 
                                                    if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_NumLit)) 
                                                      var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_NumLit_fv);
                                                    else 
                                                      if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_NilLit)) 
                                                        var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_NilLit_fv);
                                                      else 
                                                        if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_NameExpr)) 
                                                          var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_NameExpr_fv);
                                                        else 
                                                          if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_MapInverseExpr)) 
                                                            var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_MapInverseExpr_fv);
                                                          else 
                                                            if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_MapEnumerationExpr)) 
                                                              var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_MapEnumerationExpr_fv);
                                                            else 
                                                              if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_MapComprehensionExpr)) 
                                                                var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_MapComprehensionExpr_fv);
                                                              else 
                                                                if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_LetExpr)) 
                                                                  var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_LetExpr_fv);
                                                                else 
                                                                  if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_LetBeSTExpr)) 
                                                                    var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_LetBeSTExpr_fv);
                                                                  else 
                                                                    if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_LambdaExpr)) 
                                                                      var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_LambdaExpr_fv);
                                                                    else 
                                                                      if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_IsExpr)) 
                                                                        var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_IsExpr_fv);
                                                                      else 
                                                                        if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_IotaExpr)) 
                                                                          var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_IotaExpr_fv);
                                                                        else 
                                                                          if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_IfExpr)) 
                                                                            var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_IfExpr_fv);
                                                                          else 
                                                                            if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_FieldSelectExpr)) 
                                                                              var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_FieldSelectExpr_fv);
                                                                            else 
                                                                              if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_FctTypeInstExpr)) 
                                                                                var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_FctTypeInstExpr_fv);
                                                                              else 
                                                                                if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_ExistsUniqueExpr)) 
                                                                                  var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_ExistsUniqueExpr_fv);
                                                                                else 
                                                                                  if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_DefExpr)) 
                                                                                    var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_DefExpr_fv);
                                                                                  else 
                                                                                    if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_CharLit)) 
                                                                                      var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_CharLit_fv);
                                                                                    else 
                                                                                      if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_CasesExpr)) 
                                                                                        var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_CasesExpr_fv);
                                                                                      else 
                                                                                        if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_BracketedExpr)) 
                                                                                          var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_BracketedExpr_fv);
                                                                                        else 
                                                                                          if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_BoolLit)) 
                                                                                            var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_BoolLit_fv);
                                                                                          else 
                                                                                            if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_BinaryExpr)) 
                                                                                              var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_BinaryExpr_fv);
                                                                                            else 
                                                                                              if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_ApplyExpr)) 
                                                                                                var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_ApplyExpr_fv);
                                                                                              else 
                                                                                                if (((Record) vdm_TRF_uTAR_uDEF_fnpost).Is(vdm_TRF_uTAR_uEXPR_AllOrExistsExpr)) 
                                                                                                  var2_70 = ((Record) vdm_TRF_uTAR_uDEF_fnpost).GetField(pos_TRF_uTAR_uEXPR_AllOrExistsExpr_fv);
                                                                                                else 
                                                                                                  RunTime("Unknown record field selector 10");
          else 
            RunTime("A record was expected 11");
        var2_63 = var1_68;
        var2_63.ImpUnion(var2_70);
      }
      vdm_TRF_uTAR_uDEF_bodies_ufv = var1_60;
      vdm_TRF_uTAR_uDEF_bodies_ufv.ImpUnion(var2_63);
    }
    Set vdm_TRF_uTAR_uDEF_names;
    Set var1_77;
    var1_77 = vdm_TRF_uTAR_uDEF_bodies_ufv;
    var1_77.ImpUnion(vdm_TRF_uTAR_uDEF_parms_ufv);
    vdm_TRF_uTAR_uDEF_names = var1_77;
    vdm_TRF_uTAR_uDEF_names.ImpUnion(vdm_TRF_uTAR_uDEF_parms_upid);
    Sequence vdm_TRF_uTAR_uDEF_new_uparms = vdm_TRF_uTAR_uDEF_ComputeNewParameters((Generic) vdm_TRF_uTAR_uDEF_parms, (Generic) vdm_TRF_uTAR_uDEF_names);
    Sequence vdm_TRF_uTAR_uDEF_as_uparms;
    {
      Sequence res_l_85;
      Set resBind_s_87;
      Set riseq_91;
      int max_92 = (Int) vdm_TRF_uTAR_uDEF_new_uparms.Length();
      for (int i_93 = 1; i_93 <= max_92; i_93++) 
        riseq_91.Insert((Int) i_93);
      resBind_s_87 = riseq_91;
      Sequence bind_l_86;
      if ((Int) resBind_s_87.Card() != (Int) 0) 
        bind_l_86 = Sort(resBind_s_87);
      bool succ_88 = true;
      Int vdm_TRF_uTAR_uDEF_i;
      Generic tmpe_99;
      for (int i_98 = bind_l_86.First(tmpe_99); i_98; i_98 = bind_l_86.Next(tmpe_99)) {
        Int e_89 = tmpe_99;
        vdm_TRF_uTAR_uDEF_i = e_89;
        if (succ_88) {
          Record reselem_94;
          if (((Record) (Record) vdm_TRF_uTAR_uDEF_new_uparms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_TuplePattern)) 
            reselem_94 = ((Record) (Record) vdm_TRF_uTAR_uDEF_new_uparms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_TuplePattern_pat);
          else 
            if (((Record) (Record) vdm_TRF_uTAR_uDEF_new_uparms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_SetUnionPattern)) 
              reselem_94 = ((Record) (Record) vdm_TRF_uTAR_uDEF_new_uparms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_SetUnionPattern_pat);
            else 
              if (((Record) (Record) vdm_TRF_uTAR_uDEF_new_uparms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_SetEnumPattern)) 
                reselem_94 = ((Record) (Record) vdm_TRF_uTAR_uDEF_new_uparms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_SetEnumPattern_pat);
              else 
                if (((Record) (Record) vdm_TRF_uTAR_uDEF_new_uparms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_SeqEnumPattern)) 
                  reselem_94 = ((Record) (Record) vdm_TRF_uTAR_uDEF_new_uparms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_SeqEnumPattern_pat);
                else 
                  if (((Record) (Record) vdm_TRF_uTAR_uDEF_new_uparms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_SeqConcPattern)) 
                    reselem_94 = ((Record) (Record) vdm_TRF_uTAR_uDEF_new_uparms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_SeqConcPattern_pat);
                  else 
                    if (((Record) (Record) vdm_TRF_uTAR_uDEF_new_uparms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_RecordPattern)) 
                      reselem_94 = ((Record) (Record) vdm_TRF_uTAR_uDEF_new_uparms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_RecordPattern_pat);
                    else 
                      if (((Record) (Record) vdm_TRF_uTAR_uDEF_new_uparms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_PatternName)) 
                        reselem_94 = ((Record) (Record) vdm_TRF_uTAR_uDEF_new_uparms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_PatternName_pat);
                      else 
                        if (((Record) (Record) vdm_TRF_uTAR_uDEF_new_uparms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_MatchVal)) 
                          reselem_94 = ((Record) (Record) vdm_TRF_uTAR_uDEF_new_uparms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_MatchVal_pat);
                        else 
                          RunTime("Unknown record field selector 12");
          res_l_85.ImpAppend(reselem_94);
        }
      }
      vdm_TRF_uTAR_uDEF_as_uparms = res_l_85;
    }
    Sequence vdm_TRF_uTAR_uDEF_ldefs = vdm_TRF_uTAR_uDEF_ExtractLocalDefs((Generic) vdm_TRF_uTAR_uDEF_parms, (Generic) vdm_TRF_uTAR_uDEF_new_uparms);
    Record vdm_TRF_uTAR_uDEF_as_ufnbody(vdm_AS_FnBody, length_AS_FnBody);
    Bool cond_105;
    Generic var1_106;
    if (vdm_TRF_uTAR_uDEF_fnbody.Is(vdm_TRF_uTAR_uDEF_FnBody)) 
      var1_106 = vdm_TRF_uTAR_uDEF_fnbody.GetField(pos_TRF_uTAR_uDEF_FnBody_body);
    else 
      RunTime("Unknown record field selector 13");
    cond_105 = (Bool) (var1_106 == (Quote) "NOTYETSPEC");
    if (cond_105.GetValue()) {
      vdm_TRF_uTAR_uDEF_as_ufnbody = Record(vdm_AS_FnBody, length_AS_FnBody);
      vdm_TRF_uTAR_uDEF_as_ufnbody.SetField(1, (Quote) "NOTYETSPEC");
      Int tmpVar_121;
      if (vdm_TRF_uTAR_uDEF_fnbody.Is(vdm_TRF_uTAR_uDEF_FnBody)) 
        tmpVar_121 = vdm_TRF_uTAR_uDEF_fnbody.GetField(pos_TRF_uTAR_uDEF_FnBody_cid);
      else 
        RunTime("Unknown record field selector 14");
      vdm_TRF_uTAR_uDEF_as_ufnbody.SetField(2, tmpVar_121);
    }
    else {
      Record vdm_TRF_uTAR_uDEF_body(vdm_TRF_uTAR_uEXPR_LetExpr, length_TRF_uTAR_uEXPR_LetExpr);
      Generic par_112;
      if (vdm_TRF_uTAR_uDEF_fnbody.Is(vdm_TRF_uTAR_uDEF_FnBody)) 
        par_112 = vdm_TRF_uTAR_uDEF_fnbody.GetField(pos_TRF_uTAR_uDEF_FnBody_body);
      else 
        RunTime("Unknown record field selector 15");
      Int par_114;
      if (vdm_TRF_uTAR_uDEF_fnbody.Is(vdm_TRF_uTAR_uDEF_FnBody)) 
        par_114 = vdm_TRF_uTAR_uDEF_fnbody.GetField(pos_TRF_uTAR_uDEF_FnBody_cid);
      else 
        RunTime("Unknown record field selector 16");
      vdm_TRF_uTAR_uDEF_body = vdm_TRF_uTAR_uEXPR_tar_uLetExpr((Generic) vdm_TRF_uTAR_uDEF_ldefs, (Generic) par_112, (Generic) par_114);
      vdm_TRF_uTAR_uDEF_as_ufnbody = Record(vdm_AS_FnBody, length_AS_FnBody);
      Record tmpVar_116(vdm_AS_LetExpr, length_AS_LetExpr);
      if (vdm_TRF_uTAR_uDEF_body.Is(vdm_TRF_uTAR_uEXPR_LetExpr)) 
        tmpVar_116 = vdm_TRF_uTAR_uDEF_body.GetField(pos_TRF_uTAR_uEXPR_LetExpr_expr);
      else 
        RunTime("Unknown record field selector 17");
      vdm_TRF_uTAR_uDEF_as_ufnbody.SetField(1, tmpVar_116);
      Int tmpVar_118;
      if (vdm_TRF_uTAR_uDEF_fnbody.Is(vdm_TRF_uTAR_uDEF_FnBody)) 
        tmpVar_118 = vdm_TRF_uTAR_uDEF_fnbody.GetField(pos_TRF_uTAR_uDEF_FnBody_cid);
      else 
        RunTime("Unknown record field selector 18");
      vdm_TRF_uTAR_uDEF_as_ufnbody.SetField(2, tmpVar_118);
    }
    Generic vdm_TRF_uTAR_uDEF_as_ufnpre;
    if (((Bool) (vdm_TRF_uTAR_uDEF_fnpre == Nil())).GetValue()) 
      vdm_TRF_uTAR_uDEF_as_ufnpre = Nil();
    else 
      if (vdm_TRF_uTAR_uEXPR_tar_uLetExpr((Generic) vdm_TRF_uTAR_uDEF_ldefs, (Generic) vdm_TRF_uTAR_uDEF_fnpre, (Generic) vdm_TRF_uTAR_uDEF_cid).Is(vdm_TRF_uTAR_uEXPR_LetExpr)) 
        vdm_TRF_uTAR_uDEF_as_ufnpre = vdm_TRF_uTAR_uEXPR_tar_uLetExpr((Generic) vdm_TRF_uTAR_uDEF_ldefs, (Generic) vdm_TRF_uTAR_uDEF_fnpre, (Generic) vdm_TRF_uTAR_uDEF_cid).GetField(pos_TRF_uTAR_uEXPR_LetExpr_expr);
      else 
        RunTime("Unknown record field selector 19");
    Generic vdm_TRF_uTAR_uDEF_as_ufnpost;
    if (((Bool) (vdm_TRF_uTAR_uDEF_fnpost == Nil())).GetValue()) 
      vdm_TRF_uTAR_uDEF_as_ufnpost = Nil();
    else 
      if (vdm_TRF_uTAR_uEXPR_tar_uLetExpr((Generic) vdm_TRF_uTAR_uDEF_ldefs, (Generic) vdm_TRF_uTAR_uDEF_fnpost, (Generic) vdm_TRF_uTAR_uDEF_cid).Is(vdm_TRF_uTAR_uEXPR_LetExpr)) 
        vdm_TRF_uTAR_uDEF_as_ufnpost = vdm_TRF_uTAR_uEXPR_tar_uLetExpr((Generic) vdm_TRF_uTAR_uDEF_ldefs, (Generic) vdm_TRF_uTAR_uDEF_fnpost, (Generic) vdm_TRF_uTAR_uDEF_cid).GetField(pos_TRF_uTAR_uEXPR_LetExpr_expr);
      else 
        RunTime("Unknown record field selector 20");
    varRes_10 = Record(vdm_AS_ExplFnDef, length_AS_ExplFnDef);
    varRes_10.SetField(1, vdm_TRF_uTAR_uDEF_nm);
    varRes_10.SetField(2, vdm_TRF_uTAR_uDEF_tpvarlst);
    varRes_10.SetField(3, vdm_TRF_uTAR_uDEF_tp);
    Sequence tmpVar_144;
    tmpVar_144 = Sequence().ImpAppend(vdm_TRF_uTAR_uDEF_as_uparms);
    varRes_10.SetField(4, tmpVar_144);
    varRes_10.SetField(5, vdm_TRF_uTAR_uDEF_as_ufnbody);
    varRes_10.SetField(6, vdm_TRF_uTAR_uDEF_as_ufnpre);
    varRes_10.SetField(7, vdm_TRF_uTAR_uDEF_as_ufnpost);
    varRes_10.SetField(8, vdm_TRF_uTAR_uDEF_cid);
  }
  return (Generic) varRes_10;
}
#endif

#ifndef DEF_TRF_uTAR_uDEF_pre_tar_uExplFunction

Bool vdm_TRF_uTAR_uDEF_pre_tar_uExplFunction(const TYPE_TRF_uTAR_uEXPR_NameName &vdm_TRF_uTAR_uDEF_nm, const TYPE_TRF_uTAR_uDEF_TypeVarList &vdm_TRF_uTAR_uDEF_tpvarlst, const TYPE_TRF_uTAR_uTYPE_FnType &vdm_TRF_uTAR_uDEF_tp, const TYPE_TRF_uTAR_uDEF_ParametersList &vdm_TRF_uTAR_uDEF_parmlst, const TYPE_TRF_uTAR_uDEF_FnBody &vdm_TRF_uTAR_uDEF_fnbody, const Generic &vdm_TRF_uTAR_uDEF_fnpre, const Generic &vdm_TRF_uTAR_uDEF_fnpost, const TYPE_CI_ContextId &vdm_TRF_uTAR_uDEF_cid) { return (Generic) (Bool) ((Int) vdm_TRF_uTAR_uDEF_parmlst.Length() == (Int) 1); }
#endif

#ifndef DEF_TRF_uTAR_uDEF_tar_uExtExplFunction

TYPE_TRF_uTAR_uDEF_ExtExplFnDef vdm_TRF_uTAR_uDEF_tar_uExtExplFunction(const TYPE_TRF_uTAR_uEXPR_NameName &vdm_TRF_uTAR_uDEF_nm, const TYPE_TRF_uTAR_uDEF_TypeVarList &vdm_TRF_uTAR_uDEF_tv_ul, const TYPE_TRF_uTAR_uDEF_ParameterTypes &vdm_TRF_uTAR_uDEF_partps, const type_11AS_NameTypeCL &vdm_TRF_uTAR_uDEF_resnmtps, const TYPE_TRF_uTAR_uDEF_FnBody &vdm_TRF_uTAR_uDEF_fnbody, const Generic &vdm_TRF_uTAR_uDEF_fnpre, const Generic &vdm_TRF_uTAR_uDEF_fnpost, const TYPE_CI_ContextId &vdm_TRF_uTAR_uDEF_cid) {
  Generic varRes_10;
  RunTime("Can not evaluate an undefined expression");
  return (Generic) varRes_10;
}
#endif

#ifndef DEF_TRF_uTAR_uDEF_tar_uFnBody

TYPE_TRF_uTAR_uDEF_FnBody vdm_TRF_uTAR_uDEF_tar_uFnBody(const Generic &vdm_TRF_uTAR_uDEF_body, const TYPE_CI_ContextId &vdm_TRF_uTAR_uDEF_cid) {
  Record varRes_4(vdm_TRF_uTAR_uDEF_FnBody, length_TRF_uTAR_uDEF_FnBody);
  varRes_4 = Record(vdm_TRF_uTAR_uDEF_FnBody, length_TRF_uTAR_uDEF_FnBody);
  varRes_4.SetField(1, vdm_TRF_uTAR_uDEF_body);
  varRes_4.SetField(2, vdm_TRF_uTAR_uDEF_cid);
  return (Generic) varRes_4;
}
#endif

#ifndef DEF_TRF_uTAR_uDEF_tar_uGlobalValueDef

type_11AS_ValueDefCL vdm_TRF_uTAR_uDEF_tar_uGlobalValueDef(const type_22TRF_uTAR_uDEF_ValueDefCL &vdm_TRF_uTAR_uDEF_vals) {
  Sequence varRes_3;
  {
    bool succ_4;
    Set vdm_TRF_uTAR_uDEF_fv_uvals;
    Set unArg_6;
    Set res_s_7;
    {
      bool succ_12 = true;
      Set e_set_13;      Set riseq_15;      int max_16 = (Int) vdm_TRF_uTAR_uDEF_vals.Length();      for (int i_17 = 1; i_17 <= max_16; i_17++) 
        riseq_15.Insert((Int) i_17);      e_set_13 = riseq_15;
      Int vdm_TRF_uTAR_uDEF_i;
      {
        Generic tmpe_20;
        for (int bb_19 = e_set_13.First(tmpe_20); bb_19; bb_19 = e_set_13.Next(tmpe_20)) {
          Int elem_18 = tmpe_20;
          succ_12 = true;          vdm_TRF_uTAR_uDEF_i = elem_18;          if (succ_12) {
            Set res_s_8;
            if (((Record) vdm_TRF_uTAR_uDEF_vals[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uDEF_ValueDef)) 
              res_s_8 = ((Record) vdm_TRF_uTAR_uDEF_vals[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uDEF_ValueDef_fv);
            else 
              RunTime("Unknown record field selector 21");
            res_s_7.Insert(res_s_8);
          }
        }
      }
    }
    unArg_6 = res_s_7;
    Set rduset_21;    Generic tmpe_24;    for (int bb_23 = unArg_6.First(tmpe_24); bb_23; bb_23 = unArg_6.Next(tmpe_24)) {
      Set e_22 = tmpe_24;
      rduset_21.ImpUnion(e_22);
    }    vdm_TRF_uTAR_uDEF_fv_uvals = rduset_21;
    Set vdm_TRF_uTAR_uDEF_pid_uvals;
    Set unArg_26;
    Set res_s_27;
    {
      bool succ_32 = true;
      Set e_set_33;      Set riseq_35;      int max_36 = (Int) vdm_TRF_uTAR_uDEF_vals.Length();      for (int i_37 = 1; i_37 <= max_36; i_37++) 
        riseq_35.Insert((Int) i_37);      e_set_33 = riseq_35;
      Int vdm_TRF_uTAR_uDEF_i;
      {
        Generic tmpe_40;
        for (int bb_39 = e_set_33.First(tmpe_40); bb_39; bb_39 = e_set_33.Next(tmpe_40)) {
          Int elem_38 = tmpe_40;
          succ_32 = true;          vdm_TRF_uTAR_uDEF_i = elem_38;          if (succ_32) {
            Set res_s_28;
            if (((Record) vdm_TRF_uTAR_uDEF_vals[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uDEF_ValueDef)) 
              res_s_28 = ((Record) vdm_TRF_uTAR_uDEF_vals[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uDEF_ValueDef_pid);
            else 
              RunTime("Unknown record field selector 22");
            res_s_27.Insert(res_s_28);
          }
        }
      }
    }
    unArg_26 = res_s_27;
    Set rduset_41;    Generic tmpe_44;    for (int bb_43 = unArg_26.First(tmpe_44); bb_43; bb_43 = unArg_26.Next(tmpe_44)) {
      Set e_42 = tmpe_44;
      rduset_41.ImpUnion(e_42);
    }    vdm_TRF_uTAR_uDEF_pid_uvals = rduset_41;
    Set vdm_TRF_uTAR_uDEF_used_uids;
    Set unArg_46;
    unArg_46 = Set().Insert(vdm_TRF_uTAR_uDEF_fv_uvals);
    unArg_46.Insert(vdm_TRF_uTAR_uDEF_pid_uvals);
    Set rduset_49;    Generic tmpe_52;    for (int bb_51 = unArg_46.First(tmpe_52); bb_51; bb_51 = unArg_46.Next(tmpe_52)) {
      Set e_50 = tmpe_52;
      rduset_49.ImpUnion(e_50);
    }    vdm_TRF_uTAR_uDEF_used_uids = rduset_49;
    Sequence vdm_TRF_uTAR_uDEF_as_uvals;
    {
      Sequence res_l_54;
      Set resBind_s_56;
      Set riseq_60;
      int max_61 = (Int) vdm_TRF_uTAR_uDEF_vals.Length();
      for (int i_62 = 1; i_62 <= max_61; i_62++) 
        riseq_60.Insert((Int) i_62);
      resBind_s_56 = riseq_60;
      Sequence bind_l_55;
      if ((Int) resBind_s_56.Card() != (Int) 0) 
        bind_l_55 = Sort(resBind_s_56);
      bool succ_57 = true;
      Int vdm_TRF_uTAR_uDEF_i;
      Generic tmpe_68;
      for (int i_67 = bind_l_55.First(tmpe_68); i_67; i_67 = bind_l_55.Next(tmpe_68)) {
        Int e_58 = tmpe_68;
        vdm_TRF_uTAR_uDEF_i = e_58;
        if (succ_57) {
          Record reselem_63(vdm_AS_ValueDef, length_AS_ValueDef);
          if (((Record) vdm_TRF_uTAR_uDEF_vals[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uDEF_ValueDef)) 
            reselem_63 = ((Record) vdm_TRF_uTAR_uDEF_vals[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uDEF_ValueDef_val);
          else 
            RunTime("Unknown record field selector 23");
          res_l_54.ImpAppend(reselem_63);
        }
      }
      vdm_TRF_uTAR_uDEF_as_uvals = res_l_54;
    }
    Record tmpVal_69(vdm_EXP_uPAT_Expand, length_EXP_uPAT_Expand);
    tmpVal_69 = vdm_EXP_uPAT_ExpandLocalDefList((Generic) vdm_TRF_uTAR_uDEF_as_uvals, (Generic) vdm_TRF_uTAR_uDEF_used_uids, (Generic) vdm_CI_NilContextId);
    Sequence vdm_TRF_uTAR_uDEF_new_uvals;
    succ_4 = true;
    if (tmpVal_69.IsRecord() && vdm_EXP_uPAT_Expand == tmpVal_69.GetTag()) {
      Sequence e_l_73;
      for (int i_74 = 1; i_74 <= tmpVal_69.Length(); i_74++) 
        e_l_73.ImpAppend(tmpVal_69.GetField(i_74));
      if (succ_4 = 2 == (Int) e_l_73.Length()) 
        vdm_TRF_uTAR_uDEF_new_uvals = (Generic) e_l_73.Hd();
    }
    else 
      succ_4 = false;
    if (!succ_4) 
      RunTime("Pattern match did not succeed in value definition");
    varRes_3 = vdm_TRF_uTAR_uDEF_new_uvals;
  }
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRF_uTAR_uDEF_tar_uImplFunction

TYPE_TRF_uTAR_uDEF_ImplFnDef vdm_TRF_uTAR_uDEF_tar_uImplFunction(const TYPE_TRF_uTAR_uEXPR_NameName &vdm_TRF_uTAR_uDEF_nm, const TYPE_TRF_uTAR_uDEF_TypeVarList &vdm_TRF_uTAR_uDEF_tpvarlst, const TYPE_TRF_uTAR_uDEF_ParameterTypes &vdm_TRF_uTAR_uDEF_partps, const type_11AS_NameTypeCL &vdm_TRF_uTAR_uDEF_resnmtps, const Generic &vdm_TRF_uTAR_uDEF_fnpre, const TYPE_TRF_uTAR_uEXPR_Expr &vdm_TRF_uTAR_uDEF_fnpost, const TYPE_CI_ContextId &vdm_TRF_uTAR_uDEF_cid) {
  Record varRes_9(vdm_AS_ExplFnDef, length_AS_ExplFnDef);
  {
    Sequence vdm_TRF_uTAR_uDEF_flt_upartps;
    Sequence rdcseq_13;
    Generic tmpe_16;
    for (int i_15 = vdm_TRF_uTAR_uDEF_partps.First(tmpe_16); i_15; i_15 = vdm_TRF_uTAR_uDEF_partps.Next(tmpe_16)) {
      Sequence e_14 = tmpe_16;
      rdcseq_13.ImpConc(e_14);
    }
    vdm_TRF_uTAR_uDEF_flt_upartps = rdcseq_13;
    Sequence vdm_TRF_uTAR_uDEF_arg_utp;
    {
      Sequence res_l_18;
      Set resBind_s_20;
      Set riseq_24;
      int max_25 = (Int) vdm_TRF_uTAR_uDEF_flt_upartps.Length();
      for (int i_26 = 1; i_26 <= max_25; i_26++) 
        riseq_24.Insert((Int) i_26);
      resBind_s_20 = riseq_24;
      Sequence bind_l_19;
      if ((Int) resBind_s_20.Card() != (Int) 0) 
        bind_l_19 = Sort(resBind_s_20);
      bool succ_21 = true;
      Int vdm_TRF_uTAR_uDEF_i;
      Generic tmpe_32;
      for (int i_31 = bind_l_19.First(tmpe_32); i_31; i_31 = bind_l_19.Next(tmpe_32)) {
        Int e_22 = tmpe_32;
        vdm_TRF_uTAR_uDEF_i = e_22;
        if (succ_21) {
          Record reselem_27;
          if (((Record) vdm_TRF_uTAR_uDEF_flt_upartps[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uDEF_PATTYPEPAIR)) 
            reselem_27 = ((Record) vdm_TRF_uTAR_uDEF_flt_upartps[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uDEF_PATTYPEPAIR_tp);
          else 
            RunTime("Unknown record field selector 24");
          res_l_18.ImpAppend(reselem_27);
        }
      }
      vdm_TRF_uTAR_uDEF_arg_utp = res_l_18;
    }
    Record vdm_TRF_uTAR_uDEF_res_utp;
    if (((Bool) ((Int) vdm_TRF_uTAR_uDEF_resnmtps.Length() == (Int) 1)).GetValue()) 
      if (((Record) vdm_TRF_uTAR_uDEF_resnmtps[((Int) 1).GetValue()]).Is(vdm_AS_NameType)) 
        vdm_TRF_uTAR_uDEF_res_utp = ((Record) vdm_TRF_uTAR_uDEF_resnmtps[((Int) 1).GetValue()]).GetField(pos_AS_NameType_tp);
      else 
        RunTime("Unknown record field selector 25");
    else {
      vdm_TRF_uTAR_uDEF_res_utp = Record(vdm_AS_ProductType, length_AS_ProductType);
      Sequence tmpVar_39;
      {
        Sequence res_l_40;
        Set resBind_s_42;
        Set riseq_46;
        int max_47 = (Int) vdm_TRF_uTAR_uDEF_resnmtps.Length();
        for (int i_48 = 1; i_48 <= max_47; i_48++) 
          riseq_46.Insert((Int) i_48);
        resBind_s_42 = riseq_46;
        Sequence bind_l_41;
        if ((Int) resBind_s_42.Card() != (Int) 0) 
          bind_l_41 = Sort(resBind_s_42);
        bool succ_43 = true;
        Int vdm_TRF_uTAR_uDEF_i;
        Generic tmpe_54;
        for (int i_53 = bind_l_41.First(tmpe_54); i_53; i_53 = bind_l_41.Next(tmpe_54)) {
          Int e_44 = tmpe_54;
          vdm_TRF_uTAR_uDEF_i = e_44;
          if (succ_43) {
            Record reselem_49;
            if (((Record) vdm_TRF_uTAR_uDEF_resnmtps[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_AS_NameType)) 
              reselem_49 = ((Record) vdm_TRF_uTAR_uDEF_resnmtps[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_AS_NameType_tp);
            else 
              RunTime("Unknown record field selector 26");
            res_l_40.ImpAppend(reselem_49);
          }
        }
        tmpVar_39 = res_l_40;
      }
      vdm_TRF_uTAR_uDEF_res_utp.SetField(1, tmpVar_39);
      vdm_TRF_uTAR_uDEF_res_utp.SetField(2, vdm_TRF_uTAR_uDEF_cid);
    }
    Record vdm_TRF_uTAR_uDEF_tp(vdm_AS_PartialFnType, length_AS_PartialFnType);
    vdm_TRF_uTAR_uDEF_tp = Record(vdm_AS_PartialFnType, length_AS_PartialFnType);
    vdm_TRF_uTAR_uDEF_tp.SetField(1, vdm_TRF_uTAR_uDEF_arg_utp);
    vdm_TRF_uTAR_uDEF_tp.SetField(2, vdm_TRF_uTAR_uDEF_res_utp);
    vdm_TRF_uTAR_uDEF_tp.SetField(3, vdm_TRF_uTAR_uDEF_cid);
    Sequence vdm_TRF_uTAR_uDEF_parms;
    {
      Sequence res_l_64;
      Set resBind_s_66;
      Set riseq_70;
      int max_71 = (Int) vdm_TRF_uTAR_uDEF_flt_upartps.Length();
      for (int i_72 = 1; i_72 <= max_71; i_72++) 
        riseq_70.Insert((Int) i_72);
      resBind_s_66 = riseq_70;
      Sequence bind_l_65;
      if ((Int) resBind_s_66.Card() != (Int) 0) 
        bind_l_65 = Sort(resBind_s_66);
      bool succ_67 = true;
      Int vdm_TRF_uTAR_uDEF_i;
      Generic tmpe_78;
      for (int i_77 = bind_l_65.First(tmpe_78); i_77; i_77 = bind_l_65.Next(tmpe_78)) {
        Int e_68 = tmpe_78;
        vdm_TRF_uTAR_uDEF_i = e_68;
        if (succ_67) {
          Record reselem_73;
          if (((Record) vdm_TRF_uTAR_uDEF_flt_upartps[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uDEF_PATTYPEPAIR)) 
            reselem_73 = ((Record) vdm_TRF_uTAR_uDEF_flt_upartps[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uDEF_PATTYPEPAIR_pat);
          else 
            RunTime("Unknown record field selector 27");
          res_l_64.ImpAppend(reselem_73);
        }
      }
      vdm_TRF_uTAR_uDEF_parms = res_l_64;
    }
    Sequence vdm_TRF_uTAR_uDEF_parms_uexpr;
    {
      Sequence res_l_80;
      Set resBind_s_82;
      Set riseq_86;
      int max_87 = (Int) vdm_TRF_uTAR_uDEF_parms.Length();
      for (int i_88 = 1; i_88 <= max_87; i_88++) 
        riseq_86.Insert((Int) i_88);
      resBind_s_82 = riseq_86;
      Sequence bind_l_81;
      if ((Int) resBind_s_82.Card() != (Int) 0) 
        bind_l_81 = Sort(resBind_s_82);
      bool succ_83 = true;
      Int vdm_TRF_uTAR_uDEF_i;
      Generic tmpe_95;
      for (int i_94 = bind_l_81.First(tmpe_95); i_94; i_94 = bind_l_81.Next(tmpe_95)) {
        Int e_84 = tmpe_95;
        vdm_TRF_uTAR_uDEF_i = e_84;
        if (succ_83) {
          Record reselem_89;
          Record par_90;
          if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_TuplePattern)) 
            par_90 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_TuplePattern_pat);
          else 
            if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_SetUnionPattern)) 
              par_90 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_SetUnionPattern_pat);
            else 
              if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_SetEnumPattern)) 
                par_90 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_SetEnumPattern_pat);
              else 
                if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_SeqEnumPattern)) 
                  par_90 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_SeqEnumPattern_pat);
                else 
                  if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_SeqConcPattern)) 
                    par_90 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_SeqConcPattern_pat);
                  else 
                    if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_RecordPattern)) 
                      par_90 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_RecordPattern_pat);
                    else 
                      if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_PatternName)) 
                        par_90 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_PatternName_pat);
                      else 
                        if (((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_MatchVal)) 
                          par_90 = ((Record) (Record) vdm_TRF_uTAR_uDEF_parms[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_MatchVal_pat);
                        else 
                          RunTime("Unknown record field selector 27");
          reselem_89 = vdm_CAST_Pattern2Expr((Generic) par_90);
          res_l_80.ImpAppend(reselem_89);
        }
      }
      vdm_TRF_uTAR_uDEF_parms_uexpr = res_l_80;
    }
    Sequence vdm_TRF_uTAR_uDEF_res_uidents;
    {
      Sequence res_l_97;
      Set resBind_s_99;
      Set riseq_103;
      int max_104 = (Int) vdm_TRF_uTAR_uDEF_resnmtps.Length();
      for (int i_105 = 1; i_105 <= max_104; i_105++) 
        riseq_103.Insert((Int) i_105);
      resBind_s_99 = riseq_103;
      Sequence bind_l_98;
      if ((Int) resBind_s_99.Card() != (Int) 0) 
        bind_l_98 = Sort(resBind_s_99);
      bool succ_100 = true;
      Int vdm_TRF_uTAR_uDEF_i;
      Generic tmpe_123;
      for (int i_122 = bind_l_98.First(tmpe_123); i_122; i_122 = bind_l_98.Next(tmpe_123)) {
        Int e_101 = tmpe_123;
        vdm_TRF_uTAR_uDEF_i = e_101;
        if (succ_100) {
          Record reselem_106(vdm_TRF_uTAR_uPAT_PatternName, length_TRF_uTAR_uPAT_PatternName);
          {
            Record vdm_TRF_uTAR_uDEF_as_unm(vdm_AS_Name, length_AS_Name);
            if (((Record) vdm_TRF_uTAR_uDEF_resnmtps[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_AS_NameType)) 
              vdm_TRF_uTAR_uDEF_as_unm = ((Record) vdm_TRF_uTAR_uDEF_resnmtps[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_AS_NameType_nm);
            else 
              RunTime("Unknown record field selector 27");
            Record vdm_TRF_uTAR_uDEF_pat(vdm_AS_PatternName, length_AS_PatternName);
            vdm_TRF_uTAR_uDEF_pat = Record(vdm_AS_PatternName, length_AS_PatternName);
            vdm_TRF_uTAR_uDEF_pat.SetField(1, vdm_TRF_uTAR_uDEF_as_unm);
            vdm_TRF_uTAR_uDEF_pat.SetField(2, vdm_TRF_uTAR_uDEF_cid);
            Set vdm_TRF_uTAR_uDEF_fv = Set();
            Set vdm_TRF_uTAR_uDEF_pid;
            Sequence enum_set_117;
            if (vdm_TRF_uTAR_uDEF_as_unm.Is(vdm_AS_Name)) 
              enum_set_117 = vdm_TRF_uTAR_uDEF_as_unm.GetField(pos_AS_Name_ids);
            else 
              RunTime("Unknown record field selector 28");
            vdm_TRF_uTAR_uDEF_pid = Set().Insert(enum_set_117);
            reselem_106 = Record(vdm_TRF_uTAR_uPAT_PatternName, length_TRF_uTAR_uPAT_PatternName);
            reselem_106.SetField(1, vdm_TRF_uTAR_uDEF_pat);
            reselem_106.SetField(2, vdm_TRF_uTAR_uDEF_fv);
            reselem_106.SetField(3, vdm_TRF_uTAR_uDEF_pid);
          }
          res_l_97.ImpAppend(reselem_106);
        }
      }
      vdm_TRF_uTAR_uDEF_res_uidents = res_l_97;
    }
    Record vdm_TRF_uTAR_uDEF_res_upat;
    if (((Bool) ((Int) vdm_TRF_uTAR_uDEF_res_uidents.Length() == (Int) 1)).GetValue()) 
      vdm_TRF_uTAR_uDEF_res_upat = (Record) vdm_TRF_uTAR_uDEF_res_uidents[((Int) 1).GetValue()];
    else 
      vdm_TRF_uTAR_uDEF_res_upat = vdm_TRF_uTAR_uPAT_tar_uTuplePattern((Generic) vdm_TRF_uTAR_uDEF_res_uidents, (Generic) vdm_TRF_uTAR_uDEF_cid);
    Record vdm_TRF_uTAR_uDEF_bind = vdm_TRF_uTAR_uPAT_tar_uTypeBind((Generic) vdm_TRF_uTAR_uDEF_res_upat, (Generic) vdm_TRF_uTAR_uDEF_res_utp, (Generic) vdm_TRF_uTAR_uDEF_res_utp, (Generic) vdm_TRF_uTAR_uDEF_cid);
    Sequence vdm_TRF_uTAR_uDEF_ident;
    Sequence par_140;
    if (vdm_TRF_uTAR_uDEF_nm.Is(vdm_AS_Name)) 
      par_140 = vdm_TRF_uTAR_uDEF_nm.GetField(pos_AS_Name_ids);
    else 
      RunTime("Unknown record field selector 29");
    vdm_TRF_uTAR_uDEF_ident = vdm_TRF_uTAR_uEXPR_GetId((Generic) par_140);
    Sequence vdm_TRF_uTAR_uDEF_res_uexpr;
    {
      Sequence res_l_143;
      Set resBind_s_145;
      Set riseq_149;
      int max_150 = (Int) vdm_TRF_uTAR_uDEF_res_uidents.Length();
      for (int i_151 = 1; i_151 <= max_150; i_151++) 
        riseq_149.Insert((Int) i_151);
      resBind_s_145 = riseq_149;
      Sequence bind_l_144;
      if ((Int) resBind_s_145.Card() != (Int) 0) 
        bind_l_144 = Sort(resBind_s_145);
      bool succ_146 = true;
      Int vdm_TRF_uTAR_uDEF_i;
      Generic tmpe_158;
      for (int i_157 = bind_l_144.First(tmpe_158); i_157; i_157 = bind_l_144.Next(tmpe_158)) {
        Int e_147 = tmpe_158;
        vdm_TRF_uTAR_uDEF_i = e_147;
        if (succ_146) {
          Record reselem_152;
          Record par_153(vdm_AS_PatternName, length_AS_PatternName);
          if (((Record) vdm_TRF_uTAR_uDEF_res_uidents[vdm_TRF_uTAR_uDEF_i.GetValue()]).Is(vdm_TRF_uTAR_uPAT_PatternName)) 
            par_153 = ((Record) vdm_TRF_uTAR_uDEF_res_uidents[vdm_TRF_uTAR_uDEF_i.GetValue()]).GetField(pos_TRF_uTAR_uPAT_PatternName_pat);
          else 
            RunTime("Unknown record field selector 30");
          reselem_152 = vdm_CAST_Pattern2Expr((Generic) par_153);
          res_l_143.ImpAppend(reselem_152);
        }
      }
      vdm_TRF_uTAR_uDEF_res_uexpr = res_l_143;
    }
    Record vdm_TRF_uTAR_uDEF_as_udummy(vdm_AS_ApplyExpr, length_AS_ApplyExpr);
    vdm_TRF_uTAR_uDEF_as_udummy = Record(vdm_AS_ApplyExpr, length_AS_ApplyExpr);
    Record tmpVar_160(vdm_AS_Name, length_AS_Name);
    tmpVar_160 = Record(vdm_AS_Name, length_AS_Name);
    Sequence tmpVar_161;
    Sequence e_seq_162;
    e_seq_162.ImpConc(Sequence("post_")).ImpConc(vdm_TRF_uTAR_uDEF_ident);
    tmpVar_161 = Sequence().ImpAppend(e_seq_162);
    tmpVar_160.SetField(1, tmpVar_161);
    tmpVar_160.SetField(2, vdm_TRF_uTAR_uDEF_cid);
    vdm_TRF_uTAR_uDEF_as_udummy.SetField(1, tmpVar_160);
    vdm_TRF_uTAR_uDEF_as_udummy.SetField(2, Sequence());
    vdm_TRF_uTAR_uDEF_as_udummy.SetField(3, vdm_TRF_uTAR_uDEF_cid);
    Record vdm_TRF_uTAR_uDEF_st_uexpr(vdm_TRF_uTAR_uEXPR_ApplyExpr, length_TRF_uTAR_uEXPR_ApplyExpr);
    Record par_170(vdm_TRF_uTAR_uEXPR_NameExpr, length_TRF_uTAR_uEXPR_NameExpr);
    Sequence par_171;
    Sequence e_seq_172;
    e_seq_172.ImpConc(Sequence("post_")).ImpConc(vdm_TRF_uTAR_uDEF_ident);
    par_171 = Sequence().ImpAppend(e_seq_172);
    par_170 = vdm_TRF_uTAR_uEXPR_tar_uNameExpr((Generic) par_171, (Generic) vdm_TRF_uTAR_uDEF_cid);
    Sequence par_176;
    par_176.ImpConc(vdm_TRF_uTAR_uDEF_parms_uexpr).ImpConc(vdm_TRF_uTAR_uDEF_res_uexpr);
    vdm_TRF_uTAR_uDEF_st_uexpr = vdm_TRF_uTAR_uEXPR_tar_uApplyExpr((Generic) vdm_TRF_uTAR_uDEF_as_udummy, (Generic) par_170, (Generic) par_176, (Generic) vdm_TRF_uTAR_uDEF_cid);
    Record vdm_TRF_uTAR_uDEF_in_uexpr;
    Record par_181;
    if (((Record) vdm_TRF_uTAR_uDEF_res_upat).Is(vdm_TRF_uTAR_uPAT_TuplePattern)) 
      par_181 = ((Record) vdm_TRF_uTAR_uDEF_res_upat).GetField(pos_TRF_uTAR_uPAT_TuplePattern_pat);
    else 
      if (((Record) vdm_TRF_uTAR_uDEF_res_upat).Is(vdm_TRF_uTAR_uPAT_PatternName)) 
        par_181 = ((Record) vdm_TRF_uTAR_uDEF_res_upat).GetField(pos_TRF_uTAR_uPAT_PatternName_pat);
      else 
        RunTime("Unknown record field selector 30");
    vdm_TRF_uTAR_uDEF_in_uexpr = vdm_CAST_Pattern2Expr((Generic) par_181);
    Record vdm_TRF_uTAR_uDEF_fnbody_uexp = vdm_TRF_uTAR_uEXPR_tar_uLetBeSTExpr((Generic) vdm_TRF_uTAR_uDEF_bind, (Generic) vdm_TRF_uTAR_uDEF_st_uexpr, (Generic) vdm_TRF_uTAR_uDEF_in_uexpr, (Generic) vdm_TRF_uTAR_uDEF_cid);
    Record vdm_TRF_uTAR_uDEF_fnbody = vdm_TRF_uTAR_uDEF_tar_uFnBody((Generic) vdm_TRF_uTAR_uDEF_fnbody_uexp, (Generic) vdm_TRF_uTAR_uDEF_cid);
    Record vdm_TRF_uTAR_uDEF_result_unm(vdm_TRF_uTAR_uEXPR_NameExpr, length_TRF_uTAR_uEXPR_NameExpr);
    Sequence par_192;
    Sequence par_193;
    par_193 = Sequence().ImpAppend(Sequence("RESULT"));
    par_192 = vdm_TRF_uTAR_uEXPR_tar_uIds((Generic) par_193);
    vdm_TRF_uTAR_uDEF_result_unm = vdm_TRF_uTAR_uEXPR_tar_uNameExpr((Generic) par_192, (Generic) vdm_TRF_uTAR_uDEF_cid);
    Record vdm_TRF_uTAR_uDEF_fnpost_uval = vdm_TRF_uTAR_uDEF_tar_uValueDef((Generic) vdm_TRF_uTAR_uDEF_res_upat, (Generic) vdm_TRF_uTAR_uDEF_res_utp, (Generic) vdm_TRF_uTAR_uDEF_result_unm, (Generic) vdm_TRF_uTAR_uDEF_cid);
    Record vdm_TRF_uTAR_uDEF_tar_ufnpost(vdm_TRF_uTAR_uEXPR_LetExpr, length_TRF_uTAR_uEXPR_LetExpr);
    Sequence par_202;
    par_202 = Sequence().ImpAppend(vdm_TRF_uTAR_uDEF_fnpost_uval);
    vdm_TRF_uTAR_uDEF_tar_ufnpost = vdm_TRF_uTAR_uEXPR_tar_uLetExpr((Generic) par_202, (Generic) vdm_TRF_uTAR_uDEF_fnpost, (Generic) vdm_TRF_uTAR_uDEF_cid);
    Sequence par_209;
    par_209 = Sequence().ImpAppend(vdm_TRF_uTAR_uDEF_parms);
    varRes_9 = vdm_TRF_uTAR_uDEF_tar_uExplFunction((Generic) vdm_TRF_uTAR_uDEF_nm, (Generic) vdm_TRF_uTAR_uDEF_tpvarlst, (Generic) vdm_TRF_uTAR_uDEF_tp, (Generic) par_209, (Generic) vdm_TRF_uTAR_uDEF_fnbody, (Generic) vdm_TRF_uTAR_uDEF_fnpre, (Generic) vdm_TRF_uTAR_uDEF_tar_ufnpost, (Generic) vdm_TRF_uTAR_uDEF_cid);
  }
  return (Generic) varRes_9;
}
#endif

#ifndef DEF_TRF_uTAR_uDEF_tar_uInvariant

TYPE_TRF_uTAR_uDEF_Invariant vdm_TRF_uTAR_uDEF_tar_uInvariant(const TYPE_TRF_uTAR_uPAT_Pattern &vdm_TRF_uTAR_uDEF_p, const TYPE_TRF_uTAR_uEXPR_Expr &vdm_TRF_uTAR_uDEF_e, const TYPE_CI_ContextId &vdm_TRF_uTAR_uDEF_cid) {
  Record varRes_5(vdm_AS_Invariant, length_AS_Invariant);
  Bool cond_7;
  if (vdm_TRF_uTAR_uDEF_p.IsRecord()) 
    cond_7 = vdm_TRF_uTAR_uPAT_PatternName == vdm_TRF_uTAR_uDEF_p.GetTag();
  else 
    cond_7 = false;
  if (cond_7.GetValue()) {
    varRes_5 = Record(vdm_AS_Invariant, length_AS_Invariant);
    Record tmpVar_58;
    if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_TuplePattern)) 
      tmpVar_58 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_TuplePattern_pat);
    else 
      if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SetUnionPattern)) 
        tmpVar_58 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SetUnionPattern_pat);
      else 
        if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SetEnumPattern)) 
          tmpVar_58 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SetEnumPattern_pat);
        else 
          if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SeqEnumPattern)) 
            tmpVar_58 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SeqEnumPattern_pat);
          else 
            if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SeqConcPattern)) 
              tmpVar_58 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SeqConcPattern_pat);
            else 
              if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_RecordPattern)) 
                tmpVar_58 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_RecordPattern_pat);
              else 
                if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_PatternName)) 
                  tmpVar_58 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_PatternName_pat);
                else 
                  if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_MatchVal)) 
                    tmpVar_58 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_MatchVal_pat);
                  else 
                    RunTime("Unknown record field selector 31");
    varRes_5.SetField(1, tmpVar_58);
    Record tmpVar_60;
    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_UndefinedExpr)) 
      tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_UndefinedExpr_expr);
    else 
      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TypeJudgementExpr)) 
        tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TypeJudgementExpr_expr);
      else 
        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TupleSelectExpr)) 
          tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TupleSelectExpr_expr);
        else 
          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TupleConstructorExpr)) 
            tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TupleConstructorExpr_expr);
          else 
            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TokenConstructorExpr)) 
              tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TokenConstructorExpr_expr);
            else 
              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TextLit)) 
                tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TextLit_expr);
              else 
                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SubSequenceExpr)) 
                  tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SubSequenceExpr_expr);
                else 
                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SetRangeExpr)) 
                    tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SetRangeExpr_expr);
                  else 
                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SetEnumerationExpr)) 
                      tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SetEnumerationExpr_expr);
                    else 
                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SetComprehensionExpr)) 
                        tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SetComprehensionExpr_expr);
                      else 
                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SeqModifyMapOverrideExpr)) 
                          tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SeqModifyMapOverrideExpr_expr);
                        else 
                          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SeqEnumerationExpr)) 
                            tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SeqEnumerationExpr_expr);
                          else 
                            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SeqComprehensionExpr)) 
                              tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SeqComprehensionExpr_expr);
                            else 
                              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_RecordModifierExpr)) 
                                tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_RecordModifierExpr_expr);
                              else 
                                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_RecordConstructorExpr)) 
                                  tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_RecordConstructorExpr_expr);
                                else 
                                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_RealLit)) 
                                    tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_RealLit_expr);
                                  else 
                                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_QuoteLit)) 
                                      tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_QuoteLit_expr);
                                    else 
                                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_PrefixExpr)) 
                                        tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_PrefixExpr_expr);
                                      else 
                                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_PreConditionApplyExpr)) 
                                          tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_PreConditionApplyExpr_expr);
                                        else 
                                          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_OldName)) 
                                            tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_OldName_expr);
                                          else 
                                            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_NumLit)) 
                                              tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_NumLit_expr);
                                            else 
                                              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_NilLit)) 
                                                tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_NilLit_expr);
                                              else 
                                                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_NameExpr)) 
                                                  tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_NameExpr_expr);
                                                else 
                                                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_MapInverseExpr)) 
                                                    tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_MapInverseExpr_expr);
                                                  else 
                                                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_MapEnumerationExpr)) 
                                                      tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_MapEnumerationExpr_expr);
                                                    else 
                                                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_MapComprehensionExpr)) 
                                                        tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_MapComprehensionExpr_expr);
                                                      else 
                                                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_LetExpr)) 
                                                          tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_LetExpr_expr);
                                                        else 
                                                          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_LetBeSTExpr)) 
                                                            tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_LetBeSTExpr_expr);
                                                          else 
                                                            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_LambdaExpr)) 
                                                              tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_LambdaExpr_expr);
                                                            else 
                                                              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_IsExpr)) 
                                                                tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_IsExpr_expr);
                                                              else 
                                                                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_IotaExpr)) 
                                                                  tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_IotaExpr_expr);
                                                                else 
                                                                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_IfExpr)) 
                                                                    tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_IfExpr_expr);
                                                                  else 
                                                                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_FieldSelectExpr)) 
                                                                      tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_FieldSelectExpr_expr);
                                                                    else 
                                                                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_FctTypeInstExpr)) 
                                                                        tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_FctTypeInstExpr_expr);
                                                                      else 
                                                                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_ExistsUniqueExpr)) 
                                                                          tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_ExistsUniqueExpr_expr);
                                                                        else 
                                                                          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_DefExpr)) 
                                                                            tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_DefExpr_expr);
                                                                          else 
                                                                            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_CharLit)) 
                                                                              tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_CharLit_expr);
                                                                            else 
                                                                              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_CasesExpr)) 
                                                                                tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_CasesExpr_expr);
                                                                              else 
                                                                                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_BracketedExpr)) 
                                                                                  tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_BracketedExpr_expr);
                                                                                else 
                                                                                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_BoolLit)) 
                                                                                    tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_BoolLit_expr);
                                                                                  else 
                                                                                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_BinaryExpr)) 
                                                                                      tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_BinaryExpr_expr);
                                                                                    else 
                                                                                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_ApplyExpr)) 
                                                                                        tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_ApplyExpr_expr);
                                                                                      else 
                                                                                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_AllOrExistsExpr)) 
                                                                                          tmpVar_60 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_AllOrExistsExpr_expr);
                                                                                        else 
                                                                                          RunTime("Unknown record field selector 32");
    varRes_5.SetField(2, tmpVar_60);
    varRes_5.SetField(3, vdm_TRF_uTAR_uDEF_cid);
  }
  else {
    bool succ_9;
    Set vdm_TRF_uTAR_uDEF_used_uids;
    Set unArg_11;
    Set enum_set_12;
    if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_TuplePattern)) 
      enum_set_12 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_TuplePattern_pid);
    else 
      if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SetUnionPattern)) 
        enum_set_12 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SetUnionPattern_pid);
      else 
        if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SetEnumPattern)) 
          enum_set_12 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SetEnumPattern_pid);
        else 
          if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SeqEnumPattern)) 
            enum_set_12 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SeqEnumPattern_pid);
          else 
            if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SeqConcPattern)) 
              enum_set_12 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SeqConcPattern_pid);
            else 
              if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_RecordPattern)) 
                enum_set_12 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_RecordPattern_pid);
              else 
                if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_PatternName)) 
                  enum_set_12 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_PatternName_pid);
                else 
                  if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_MatchVal)) 
                    enum_set_12 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_MatchVal_pid);
                  else 
                    RunTime("Unknown record field selector 33");
    unArg_11 = Set().Insert(enum_set_12);
    Set enum_set_14;
    if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_TuplePattern)) 
      enum_set_14 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_TuplePattern_fv);
    else 
      if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SetUnionPattern)) 
        enum_set_14 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SetUnionPattern_fv);
      else 
        if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SetEnumPattern)) 
          enum_set_14 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SetEnumPattern_fv);
        else 
          if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SeqEnumPattern)) 
            enum_set_14 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SeqEnumPattern_fv);
          else 
            if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SeqConcPattern)) 
              enum_set_14 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SeqConcPattern_fv);
            else 
              if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_RecordPattern)) 
                enum_set_14 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_RecordPattern_fv);
              else 
                if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_PatternName)) 
                  enum_set_14 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_PatternName_fv);
                else 
                  if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_MatchVal)) 
                    enum_set_14 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_MatchVal_fv);
                  else 
                    RunTime("Unknown record field selector 34");
    unArg_11.Insert(enum_set_14);
    Set enum_set_16;
    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_UndefinedExpr)) 
      enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_UndefinedExpr_fv);
    else 
      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TypeJudgementExpr)) 
        enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TypeJudgementExpr_fv);
      else 
        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TupleSelectExpr)) 
          enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TupleSelectExpr_fv);
        else 
          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TupleConstructorExpr)) 
            enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TupleConstructorExpr_fv);
          else 
            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TokenConstructorExpr)) 
              enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TokenConstructorExpr_fv);
            else 
              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TextLit)) 
                enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TextLit_fv);
              else 
                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SubSequenceExpr)) 
                  enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SubSequenceExpr_fv);
                else 
                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SetRangeExpr)) 
                    enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SetRangeExpr_fv);
                  else 
                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SetEnumerationExpr)) 
                      enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SetEnumerationExpr_fv);
                    else 
                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SetComprehensionExpr)) 
                        enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SetComprehensionExpr_fv);
                      else 
                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SeqModifyMapOverrideExpr)) 
                          enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SeqModifyMapOverrideExpr_fv);
                        else 
                          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SeqEnumerationExpr)) 
                            enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SeqEnumerationExpr_fv);
                          else 
                            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SeqComprehensionExpr)) 
                              enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SeqComprehensionExpr_fv);
                            else 
                              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_RecordModifierExpr)) 
                                enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_RecordModifierExpr_fv);
                              else 
                                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_RecordConstructorExpr)) 
                                  enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_RecordConstructorExpr_fv);
                                else 
                                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_RealLit)) 
                                    enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_RealLit_fv);
                                  else 
                                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_QuoteLit)) 
                                      enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_QuoteLit_fv);
                                    else 
                                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_PrefixExpr)) 
                                        enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_PrefixExpr_fv);
                                      else 
                                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_PreConditionApplyExpr)) 
                                          enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_PreConditionApplyExpr_fv);
                                        else 
                                          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_OldName)) 
                                            enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_OldName_fv);
                                          else 
                                            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_NumLit)) 
                                              enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_NumLit_fv);
                                            else 
                                              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_NilLit)) 
                                                enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_NilLit_fv);
                                              else 
                                                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_NameExpr)) 
                                                  enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_NameExpr_fv);
                                                else 
                                                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_MapInverseExpr)) 
                                                    enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_MapInverseExpr_fv);
                                                  else 
                                                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_MapEnumerationExpr)) 
                                                      enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_MapEnumerationExpr_fv);
                                                    else 
                                                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_MapComprehensionExpr)) 
                                                        enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_MapComprehensionExpr_fv);
                                                      else 
                                                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_LetExpr)) 
                                                          enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_LetExpr_fv);
                                                        else 
                                                          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_LetBeSTExpr)) 
                                                            enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_LetBeSTExpr_fv);
                                                          else 
                                                            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_LambdaExpr)) 
                                                              enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_LambdaExpr_fv);
                                                            else 
                                                              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_IsExpr)) 
                                                                enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_IsExpr_fv);
                                                              else 
                                                                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_IotaExpr)) 
                                                                  enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_IotaExpr_fv);
                                                                else 
                                                                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_IfExpr)) 
                                                                    enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_IfExpr_fv);
                                                                  else 
                                                                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_FieldSelectExpr)) 
                                                                      enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_FieldSelectExpr_fv);
                                                                    else 
                                                                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_FctTypeInstExpr)) 
                                                                        enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_FctTypeInstExpr_fv);
                                                                      else 
                                                                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_ExistsUniqueExpr)) 
                                                                          enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_ExistsUniqueExpr_fv);
                                                                        else 
                                                                          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_DefExpr)) 
                                                                            enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_DefExpr_fv);
                                                                          else 
                                                                            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_CharLit)) 
                                                                              enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_CharLit_fv);
                                                                            else 
                                                                              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_CasesExpr)) 
                                                                                enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_CasesExpr_fv);
                                                                              else 
                                                                                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_BracketedExpr)) 
                                                                                  enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_BracketedExpr_fv);
                                                                                else 
                                                                                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_BoolLit)) 
                                                                                    enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_BoolLit_fv);
                                                                                  else 
                                                                                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_BinaryExpr)) 
                                                                                      enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_BinaryExpr_fv);
                                                                                    else 
                                                                                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_ApplyExpr)) 
                                                                                        enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_ApplyExpr_fv);
                                                                                      else 
                                                                                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_AllOrExistsExpr)) 
                                                                                          enum_set_16 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_AllOrExistsExpr_fv);
                                                                                        else 
                                                                                          RunTime("Unknown record field selector 35");
    unArg_11.Insert(enum_set_16);
    Set rduset_18;    Generic tmpe_21;    for (int bb_20 = unArg_11.First(tmpe_21); bb_20; bb_20 = unArg_11.Next(tmpe_21)) {
      Set e_19 = tmpe_21;
      rduset_18.ImpUnion(e_19);
    }    vdm_TRF_uTAR_uDEF_used_uids = rduset_18;
    Int vdm_TRF_uTAR_uDEF_pat_ucid;
    Record tmpRec_23;
    if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_TuplePattern)) 
      tmpRec_23 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_TuplePattern_pat);
    else 
      if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SetUnionPattern)) 
        tmpRec_23 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SetUnionPattern_pat);
      else 
        if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SetEnumPattern)) 
          tmpRec_23 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SetEnumPattern_pat);
        else 
          if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SeqEnumPattern)) 
            tmpRec_23 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SeqEnumPattern_pat);
          else 
            if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SeqConcPattern)) 
              tmpRec_23 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SeqConcPattern_pat);
            else 
              if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_RecordPattern)) 
                tmpRec_23 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_RecordPattern_pat);
              else 
                if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_PatternName)) 
                  tmpRec_23 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_PatternName_pat);
                else 
                  if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_MatchVal)) 
                    tmpRec_23 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_MatchVal_pat);
                  else 
                    RunTime("Unknown record field selector 36");
    if (((Record) tmpRec_23).Is(vdm_AS_TuplePattern)) 
      vdm_TRF_uTAR_uDEF_pat_ucid = ((Record) tmpRec_23).GetField(pos_AS_TuplePattern_cid);
    else 
      if (((Record) tmpRec_23).Is(vdm_AS_SetUnionPattern)) 
        vdm_TRF_uTAR_uDEF_pat_ucid = ((Record) tmpRec_23).GetField(pos_AS_SetUnionPattern_cid);
      else 
        if (((Record) tmpRec_23).Is(vdm_AS_SetEnumPattern)) 
          vdm_TRF_uTAR_uDEF_pat_ucid = ((Record) tmpRec_23).GetField(pos_AS_SetEnumPattern_cid);
        else 
          if (((Record) tmpRec_23).Is(vdm_AS_SeqEnumPattern)) 
            vdm_TRF_uTAR_uDEF_pat_ucid = ((Record) tmpRec_23).GetField(pos_AS_SeqEnumPattern_cid);
          else 
            if (((Record) tmpRec_23).Is(vdm_AS_SeqConcPattern)) 
              vdm_TRF_uTAR_uDEF_pat_ucid = ((Record) tmpRec_23).GetField(pos_AS_SeqConcPattern_cid);
            else 
              if (((Record) tmpRec_23).Is(vdm_AS_RecordPattern)) 
                vdm_TRF_uTAR_uDEF_pat_ucid = ((Record) tmpRec_23).GetField(pos_AS_RecordPattern_cid);
              else 
                if (((Record) tmpRec_23).Is(vdm_AS_PatternName)) 
                  vdm_TRF_uTAR_uDEF_pat_ucid = ((Record) tmpRec_23).GetField(pos_AS_PatternName_cid);
                else 
                  if (((Record) tmpRec_23).Is(vdm_AS_MatchVal)) 
                    vdm_TRF_uTAR_uDEF_pat_ucid = ((Record) tmpRec_23).GetField(pos_AS_MatchVal_cid);
                  else 
                    RunTime("Unknown record field selector 37");
    Sequence vdm_TRF_uTAR_uDEF_ids = vdm_TRF_uTAR_uEXPR_GetNewName((Generic) vdm_TRF_uTAR_uDEF_used_uids);
    Set vdm_TRF_uTAR_uDEF_new_uused_uids;
    Set var2_29;
    var2_29 = Set().Insert(vdm_TRF_uTAR_uDEF_ids);
    vdm_TRF_uTAR_uDEF_new_uused_uids = vdm_TRF_uTAR_uDEF_used_uids;
    vdm_TRF_uTAR_uDEF_new_uused_uids.ImpUnion(var2_29);
    Record vdm_TRF_uTAR_uDEF_nm(vdm_AS_Name, length_AS_Name);
    vdm_TRF_uTAR_uDEF_nm = Record(vdm_AS_Name, length_AS_Name);
    vdm_TRF_uTAR_uDEF_nm.SetField(1, vdm_TRF_uTAR_uDEF_ids);
    vdm_TRF_uTAR_uDEF_nm.SetField(2, vdm_TRF_uTAR_uDEF_pat_ucid);
    Record vdm_TRF_uTAR_uDEF_new_upat(vdm_AS_PatternName, length_AS_PatternName);
    vdm_TRF_uTAR_uDEF_new_upat = Record(vdm_AS_PatternName, length_AS_PatternName);
    vdm_TRF_uTAR_uDEF_new_upat.SetField(1, vdm_TRF_uTAR_uDEF_nm);
    vdm_TRF_uTAR_uDEF_new_upat.SetField(2, vdm_TRF_uTAR_uDEF_pat_ucid);
    Record vdm_TRF_uTAR_uDEF_val_udef(vdm_AS_ValueDef, length_AS_ValueDef);
    vdm_TRF_uTAR_uDEF_val_udef = Record(vdm_AS_ValueDef, length_AS_ValueDef);
    Record tmpVar_38;
    if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_TuplePattern)) 
      tmpVar_38 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_TuplePattern_pat);
    else 
      if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SetUnionPattern)) 
        tmpVar_38 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SetUnionPattern_pat);
      else 
        if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SetEnumPattern)) 
          tmpVar_38 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SetEnumPattern_pat);
        else 
          if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SeqEnumPattern)) 
            tmpVar_38 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SeqEnumPattern_pat);
          else 
            if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SeqConcPattern)) 
              tmpVar_38 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SeqConcPattern_pat);
            else 
              if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_RecordPattern)) 
                tmpVar_38 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_RecordPattern_pat);
              else 
                if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_PatternName)) 
                  tmpVar_38 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_PatternName_pat);
                else 
                  if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_MatchVal)) 
                    tmpVar_38 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_MatchVal_pat);
                  else 
                    RunTime("Unknown record field selector 39");
    vdm_TRF_uTAR_uDEF_val_udef.SetField(1, tmpVar_38);
    vdm_TRF_uTAR_uDEF_val_udef.SetField(2, Nil());
    vdm_TRF_uTAR_uDEF_val_udef.SetField(3, vdm_TRF_uTAR_uDEF_nm);
    vdm_TRF_uTAR_uDEF_val_udef.SetField(4, vdm_TRF_uTAR_uDEF_cid);
    Record tmpVal_43(vdm_EXP_uPAT_Expand, length_EXP_uPAT_Expand);
    Sequence par_44;    par_44 = Sequence().ImpAppend(vdm_TRF_uTAR_uDEF_val_udef);    tmpVal_43 = vdm_EXP_uPAT_ExpandLocalDefList((Generic) par_44, (Generic) vdm_TRF_uTAR_uDEF_new_uused_uids, (Generic) vdm_TRF_uTAR_uDEF_cid);
    Sequence vdm_TRF_uTAR_uDEF_ldefs;
    succ_9 = true;
    if (tmpVal_43.IsRecord() && vdm_EXP_uPAT_Expand == tmpVal_43.GetTag()) {
      Sequence e_l_48;
      for (int i_49 = 1; i_49 <= tmpVal_43.Length(); i_49++) 
        e_l_48.ImpAppend(tmpVal_43.GetField(i_49));
      if (succ_9 = 2 == (Int) e_l_48.Length()) 
        vdm_TRF_uTAR_uDEF_ldefs = (Generic) e_l_48.Hd();
    }
    else 
      succ_9 = false;
    if (!succ_9) 
      RunTime("Pattern match did not succeed in value definition");
    Record vdm_TRF_uTAR_uDEF_expr(vdm_AS_LetExpr, length_AS_LetExpr);
    vdm_TRF_uTAR_uDEF_expr = Record(vdm_AS_LetExpr, length_AS_LetExpr);
    vdm_TRF_uTAR_uDEF_expr.SetField(1, vdm_TRF_uTAR_uDEF_ldefs);
    Record tmpVar_52;
    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_UndefinedExpr)) 
      tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_UndefinedExpr_expr);
    else 
      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TypeJudgementExpr)) 
        tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TypeJudgementExpr_expr);
      else 
        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TupleSelectExpr)) 
          tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TupleSelectExpr_expr);
        else 
          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TupleConstructorExpr)) 
            tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TupleConstructorExpr_expr);
          else 
            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TokenConstructorExpr)) 
              tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TokenConstructorExpr_expr);
            else 
              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TextLit)) 
                tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TextLit_expr);
              else 
                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SubSequenceExpr)) 
                  tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SubSequenceExpr_expr);
                else 
                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SetRangeExpr)) 
                    tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SetRangeExpr_expr);
                  else 
                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SetEnumerationExpr)) 
                      tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SetEnumerationExpr_expr);
                    else 
                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SetComprehensionExpr)) 
                        tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SetComprehensionExpr_expr);
                      else 
                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SeqModifyMapOverrideExpr)) 
                          tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SeqModifyMapOverrideExpr_expr);
                        else 
                          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SeqEnumerationExpr)) 
                            tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SeqEnumerationExpr_expr);
                          else 
                            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SeqComprehensionExpr)) 
                              tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SeqComprehensionExpr_expr);
                            else 
                              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_RecordModifierExpr)) 
                                tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_RecordModifierExpr_expr);
                              else 
                                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_RecordConstructorExpr)) 
                                  tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_RecordConstructorExpr_expr);
                                else 
                                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_RealLit)) 
                                    tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_RealLit_expr);
                                  else 
                                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_QuoteLit)) 
                                      tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_QuoteLit_expr);
                                    else 
                                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_PrefixExpr)) 
                                        tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_PrefixExpr_expr);
                                      else 
                                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_PreConditionApplyExpr)) 
                                          tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_PreConditionApplyExpr_expr);
                                        else 
                                          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_OldName)) 
                                            tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_OldName_expr);
                                          else 
                                            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_NumLit)) 
                                              tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_NumLit_expr);
                                            else 
                                              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_NilLit)) 
                                                tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_NilLit_expr);
                                              else 
                                                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_NameExpr)) 
                                                  tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_NameExpr_expr);
                                                else 
                                                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_MapInverseExpr)) 
                                                    tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_MapInverseExpr_expr);
                                                  else 
                                                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_MapEnumerationExpr)) 
                                                      tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_MapEnumerationExpr_expr);
                                                    else 
                                                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_MapComprehensionExpr)) 
                                                        tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_MapComprehensionExpr_expr);
                                                      else 
                                                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_LetExpr)) 
                                                          tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_LetExpr_expr);
                                                        else 
                                                          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_LetBeSTExpr)) 
                                                            tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_LetBeSTExpr_expr);
                                                          else 
                                                            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_LambdaExpr)) 
                                                              tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_LambdaExpr_expr);
                                                            else 
                                                              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_IsExpr)) 
                                                                tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_IsExpr_expr);
                                                              else 
                                                                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_IotaExpr)) 
                                                                  tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_IotaExpr_expr);
                                                                else 
                                                                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_IfExpr)) 
                                                                    tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_IfExpr_expr);
                                                                  else 
                                                                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_FieldSelectExpr)) 
                                                                      tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_FieldSelectExpr_expr);
                                                                    else 
                                                                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_FctTypeInstExpr)) 
                                                                        tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_FctTypeInstExpr_expr);
                                                                      else 
                                                                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_ExistsUniqueExpr)) 
                                                                          tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_ExistsUniqueExpr_expr);
                                                                        else 
                                                                          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_DefExpr)) 
                                                                            tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_DefExpr_expr);
                                                                          else 
                                                                            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_CharLit)) 
                                                                              tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_CharLit_expr);
                                                                            else 
                                                                              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_CasesExpr)) 
                                                                                tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_CasesExpr_expr);
                                                                              else 
                                                                                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_BracketedExpr)) 
                                                                                  tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_BracketedExpr_expr);
                                                                                else 
                                                                                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_BoolLit)) 
                                                                                    tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_BoolLit_expr);
                                                                                  else 
                                                                                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_BinaryExpr)) 
                                                                                      tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_BinaryExpr_expr);
                                                                                    else 
                                                                                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_ApplyExpr)) 
                                                                                        tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_ApplyExpr_expr);
                                                                                      else 
                                                                                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_AllOrExistsExpr)) 
                                                                                          tmpVar_52 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_AllOrExistsExpr_expr);
                                                                                        else 
                                                                                          RunTime("Unknown record field selector 40");
    vdm_TRF_uTAR_uDEF_expr.SetField(2, tmpVar_52);
    vdm_TRF_uTAR_uDEF_expr.SetField(3, vdm_TRF_uTAR_uDEF_cid);
    varRes_5 = Record(vdm_AS_Invariant, length_AS_Invariant);
    varRes_5.SetField(1, vdm_TRF_uTAR_uDEF_new_upat);
    varRes_5.SetField(2, vdm_TRF_uTAR_uDEF_expr);
    varRes_5.SetField(3, vdm_TRF_uTAR_uDEF_cid);
  }
  return (Generic) varRes_5;
}
#endif

#ifndef DEF_TRF_uTAR_uDEF_tar_uModule

TYPE_TRF_uTAR_uDEF_Module vdm_TRF_uTAR_uDEF_tar_uModule(const TYPE_TRF_uTAR_uEXPR_NameName &vdm_TRF_uTAR_uDEF_nm, const TYPE_TRF_uTAR_uDEF_Interface &vdm_TRF_uTAR_uDEF_intf, const TYPE_TRF_uTAR_uDEF_Definitions &vdm_TRF_uTAR_uDEF_defs, const TYPE_CI_ContextId &vdm_TRF_uTAR_uDEF_cid) {
  Record varRes_6(vdm_AS_Module, length_AS_Module);
  varRes_6 = Record(vdm_AS_Module, length_AS_Module);
  varRes_6.SetField(1, vdm_TRF_uTAR_uDEF_nm);
  varRes_6.SetField(2, vdm_TRF_uTAR_uDEF_intf);
  varRes_6.SetField(3, vdm_TRF_uTAR_uDEF_defs);
  varRes_6.SetField(4, vdm_TRF_uTAR_uDEF_cid);
  return (Generic) varRes_6;
}
#endif

#ifndef DEF_TRF_uTAR_uDEF_tar_uNameType

TYPE_TRF_uTAR_uDEF_NameType vdm_TRF_uTAR_uDEF_tar_uNameType(const TYPE_TRF_uTAR_uEXPR_NameName &vdm_TRF_uTAR_uDEF_nm, const TYPE_TRF_uTAR_uTYPE_Type &vdm_TRF_uTAR_uDEF_tp, const TYPE_CI_ContextId &vdm_TRF_uTAR_uDEF_cid) {
  Record varRes_5(vdm_AS_NameType, length_AS_NameType);
  varRes_5 = Record(vdm_AS_NameType, length_AS_NameType);
  varRes_5.SetField(1, vdm_TRF_uTAR_uDEF_nm);
  varRes_5.SetField(2, vdm_TRF_uTAR_uDEF_tp);
  varRes_5.SetField(3, vdm_TRF_uTAR_uDEF_cid);
  return (Generic) varRes_5;
}
#endif

#ifndef DEF_TRF_uTAR_uDEF_tar_uPatTypePair

TYPE_TRF_uTAR_uDEF_PatTypePair vdm_TRF_uTAR_uDEF_tar_uPatTypePair(const type_FL &vdm_TRF_uTAR_uDEF_pats, const TYPE_TRF_uTAR_uTYPE_Type &vdm_TRF_uTAR_uDEF_tp, const TYPE_CI_ContextId &vdm_TRF_uTAR_uDEF_cid) {
  Sequence varRes_5;
  {
    Sequence res_l_6;
    Set resBind_s_8;
    Set riseq_12;
    int max_13 = (Int) vdm_TRF_uTAR_uDEF_pats.Length();
    for (int i_14 = 1; i_14 <= max_13; i_14++) 
      riseq_12.Insert((Int) i_14);
    resBind_s_8 = riseq_12;
    Sequence bind_l_7;
    if ((Int) resBind_s_8.Card() != (Int) 0) 
      bind_l_7 = Sort(resBind_s_8);
    bool succ_9 = true;
    Int vdm_TRF_uTAR_uDEF_i;
    Generic tmpe_22;
    for (int i_21 = bind_l_7.First(tmpe_22); i_21; i_21 = bind_l_7.Next(tmpe_22)) {
      Int e_10 = tmpe_22;
      vdm_TRF_uTAR_uDEF_i = e_10;
      if (succ_9) {
        Record reselem_15(vdm_TRF_uTAR_uDEF_PATTYPEPAIR, length_TRF_uTAR_uDEF_PATTYPEPAIR);
        reselem_15 = Record(vdm_TRF_uTAR_uDEF_PATTYPEPAIR, length_TRF_uTAR_uDEF_PATTYPEPAIR);
        reselem_15.SetField(1, (Record) vdm_TRF_uTAR_uDEF_pats[vdm_TRF_uTAR_uDEF_i.GetValue()]);
        reselem_15.SetField(2, vdm_TRF_uTAR_uDEF_tp);
        reselem_15.SetField(3, vdm_TRF_uTAR_uDEF_cid);
        res_l_6.ImpAppend(reselem_15);
      }
    }
    varRes_5 = res_l_6;
  }
  return (Generic) varRes_5;
}
#endif

#ifndef DEF_TRF_uTAR_uDEF_tar_uTypeDef

TYPE_TRF_uTAR_uDEF_TypeDef vdm_TRF_uTAR_uDEF_tar_uTypeDef(const TYPE_TRF_uTAR_uEXPR_NameType &vdm_TRF_uTAR_uDEF_nm, const TYPE_AS_Type &vdm_TRF_uTAR_uDEF_as_utp, const TYPE_TRF_uTAR_uTYPE_Type &vdm_TRF_uTAR_uDEF_tp, const Generic &vdm_TRF_uTAR_uDEF_fninv, const TYPE_CI_ContextId &vdm_TRF_uTAR_uDEF_cid) {
  Record varRes_7(vdm_AS_TypeDef, length_AS_TypeDef);
  varRes_7 = Record(vdm_AS_TypeDef, length_AS_TypeDef);
  varRes_7.SetField(1, vdm_TRF_uTAR_uDEF_nm);
  varRes_7.SetField(2, vdm_TRF_uTAR_uDEF_tp);
  varRes_7.SetField(3, vdm_TRF_uTAR_uDEF_fninv);
  varRes_7.SetField(4, vdm_TRF_uTAR_uDEF_cid);
  return (Generic) varRes_7;
}
#endif

#ifndef DEF_TRF_uTAR_uDEF_tar_uValueDef

TYPE_TRF_uTAR_uDEF_ValueDef vdm_TRF_uTAR_uDEF_tar_uValueDef(const TYPE_TRF_uTAR_uPAT_Pattern &vdm_TRF_uTAR_uDEF_p, const Generic &vdm_TRF_uTAR_uDEF_tp, const TYPE_TRF_uTAR_uEXPR_Expr &vdm_TRF_uTAR_uDEF_e, const TYPE_CI_ContextId &vdm_TRF_uTAR_uDEF_cid) {
  Record varRes_6(vdm_TRF_uTAR_uDEF_ValueDef, length_TRF_uTAR_uDEF_ValueDef);
  {
    Record vdm_TRF_uTAR_uDEF_val(vdm_AS_ValueDef, length_AS_ValueDef);
    vdm_TRF_uTAR_uDEF_val = Record(vdm_AS_ValueDef, length_AS_ValueDef);
    Record tmpVar_9;
    if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_TuplePattern)) 
      tmpVar_9 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_TuplePattern_pat);
    else 
      if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SetUnionPattern)) 
        tmpVar_9 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SetUnionPattern_pat);
      else 
        if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SetEnumPattern)) 
          tmpVar_9 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SetEnumPattern_pat);
        else 
          if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SeqEnumPattern)) 
            tmpVar_9 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SeqEnumPattern_pat);
          else 
            if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SeqConcPattern)) 
              tmpVar_9 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SeqConcPattern_pat);
            else 
              if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_RecordPattern)) 
                tmpVar_9 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_RecordPattern_pat);
              else 
                if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_PatternName)) 
                  tmpVar_9 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_PatternName_pat);
                else 
                  if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_MatchVal)) 
                    tmpVar_9 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_MatchVal_pat);
                  else 
                    RunTime("Unknown record field selector 41");
    cout << "vdm_TRF_uTAR_uEXPR_PrefixExpr" << vdm_TRF_uTAR_uEXPR_PrefixExpr << endl;
    cout << "vdm_TRF_uTAR_uEXPR_BinaryExpr" << vdm_TRF_uTAR_uEXPR_BinaryExpr  << endl;
    cout << "vdm_TRF_uTAR_uEXPR_AllOrExistsExpr" << vdm_TRF_uTAR_uEXPR_AllOrExistsExpr  << endl;
    cout << "vdm_TRF_uTAR_uEXPR_FieldSelectExpr" << vdm_TRF_uTAR_uEXPR_FieldSelectExpr  << endl;

    vdm_TRF_uTAR_uDEF_val.SetField(1, tmpVar_9);
    vdm_TRF_uTAR_uDEF_val.SetField(2, vdm_TRF_uTAR_uDEF_tp);
    Record tmpVar_12;
    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_UndefinedExpr)) 
      tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_UndefinedExpr_expr);
    else 
      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TypeJudgementExpr)) 
        tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TypeJudgementExpr_expr);
      else 
        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TupleSelectExpr)) 
          tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TupleSelectExpr_expr);
        else 
          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TupleConstructorExpr)) 
            tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TupleConstructorExpr_expr);
          else 
            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TokenConstructorExpr)) 
              tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TokenConstructorExpr_expr);
            else 
              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TextLit)) 
                tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TextLit_expr);
              else 
                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SubSequenceExpr)) 
                  tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SubSequenceExpr_expr);
                else 
                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SetRangeExpr)) 
                    tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SetRangeExpr_expr);
                  else 
                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SetEnumerationExpr)) 
                      tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SetEnumerationExpr_expr);
                    else 
                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SetComprehensionExpr)) 
                        tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SetComprehensionExpr_expr);
                      else 
                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SeqModifyMapOverrideExpr)) 
                          tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SeqModifyMapOverrideExpr_expr);
                        else 
                          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SeqEnumerationExpr)) 
                            tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SeqEnumerationExpr_expr);
                          else 
                            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SeqComprehensionExpr)) 
                              tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SeqComprehensionExpr_expr);
                            else 
                              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_RecordModifierExpr)) 
                                tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_RecordModifierExpr_expr);
                              else 
                                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_RecordConstructorExpr)) 
                                  tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_RecordConstructorExpr_expr);
                                else 
                                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_RealLit)) 
                                    tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_RealLit_expr);
                                  else 
                                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_QuoteLit)) 
                                      tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_QuoteLit_expr);
                                    else 
                                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_PrefixExpr)) 
                                        tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_PrefixExpr_expr);
                                      else 
                                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_PreConditionApplyExpr)) 
                                          tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_PreConditionApplyExpr_expr);
                                        else 
                                          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_OldName)) 
                                            tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_OldName_expr);
                                          else 
                                            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_NumLit)) 
                                              tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_NumLit_expr);
                                            else 
                                              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_NilLit)) 
                                                tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_NilLit_expr);
                                              else 
                                                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_NameExpr)) 
                                                  tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_NameExpr_expr);
                                                else 
                                                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_MapInverseExpr)) 
                                                    tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_MapInverseExpr_expr);
                                                  else 
                                                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_MapEnumerationExpr)) 
                                                      tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_MapEnumerationExpr_expr);
                                                    else 
                                                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_MapComprehensionExpr)) 
                                                        tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_MapComprehensionExpr_expr);
                                                      else 
                                                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_LetExpr)) 
                                                          tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_LetExpr_expr);
                                                        else 
                                                          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_LetBeSTExpr)) 
                                                            tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_LetBeSTExpr_expr);
                                                          else 
                                                            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_LambdaExpr)) 
                                                              tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_LambdaExpr_expr);
                                                            else 
                                                              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_IsExpr)) 
                                                                tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_IsExpr_expr);
                                                              else 
                                                                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_IotaExpr)) 
                                                                  tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_IotaExpr_expr);
                                                                else 
                                                                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_IfExpr)) 
                                                                    tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_IfExpr_expr);
                                                                  else 
                                                                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_FieldSelectExpr)) 
                                                                      tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_FieldSelectExpr_expr);
                                                                    else 
                                                                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_FctTypeInstExpr)) 
                                                                        tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_FctTypeInstExpr_expr);
                                                                      else 
                                                                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_ExistsUniqueExpr)) 
                                                                          tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_ExistsUniqueExpr_expr);
                                                                        else 
                                                                          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_DefExpr)) 
                                                                            tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_DefExpr_expr);
                                                                          else 
                                                                            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_CharLit)) 
                                                                              tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_CharLit_expr);
                                                                            else 
                                                                              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_CasesExpr)) 
                                                                                tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_CasesExpr_expr);
                                                                              else 
                                                                                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_BracketedExpr)) 
                                                                                  tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_BracketedExpr_expr);
                                                                                else 
                                                                                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_BoolLit)) 
                                                                                    tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_BoolLit_expr);
                                                                                  else 
                                                                                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_BinaryExpr)) 
                                                                                      tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_BinaryExpr_expr);
                                                                                    else 
                                                                                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_ApplyExpr)) 
                                                                                        tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_ApplyExpr_expr);
                                                                                      else 
                                                                                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_AllOrExistsExpr)) 
                                                                                          tmpVar_12 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_AllOrExistsExpr_expr);
                                                                                        else {
							   int tt = ((Record) vdm_TRF_uTAR_uDEF_e).GetTag();
												    // cout << "TAG:" << ((((Record) vdm_TRF_uTAR_uDEF_e).GetTag()) << endl;
													     											  cout << "TAG:" << tt << endl;	
                                                                                          RunTime("Unknown record field selector 42");
											}
    vdm_TRF_uTAR_uDEF_val.SetField(3, tmpVar_12);
    vdm_TRF_uTAR_uDEF_val.SetField(4, vdm_TRF_uTAR_uDEF_cid);
    Set vdm_TRF_uTAR_uDEF_pid;
    if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_TuplePattern)) 
      vdm_TRF_uTAR_uDEF_pid = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_TuplePattern_pid);
    else 
      if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SetUnionPattern)) 
        vdm_TRF_uTAR_uDEF_pid = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SetUnionPattern_pid);
      else 
        if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SetEnumPattern)) 
          vdm_TRF_uTAR_uDEF_pid = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SetEnumPattern_pid);
        else 
          if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SeqEnumPattern)) 
            vdm_TRF_uTAR_uDEF_pid = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SeqEnumPattern_pid);
          else 
            if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SeqConcPattern)) 
              vdm_TRF_uTAR_uDEF_pid = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SeqConcPattern_pid);
            else 
              if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_RecordPattern)) 
                vdm_TRF_uTAR_uDEF_pid = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_RecordPattern_pid);
              else 
                if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_PatternName)) 
                  vdm_TRF_uTAR_uDEF_pid = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_PatternName_pid);
                else 
                  if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_MatchVal)) 
                    vdm_TRF_uTAR_uDEF_pid = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_MatchVal_pid);
                  else 
                    RunTime("Unknown record field selector 43");
    Set vdm_TRF_uTAR_uDEF_fv;
    Set var1_18;
    if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_TuplePattern)) 
      var1_18 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_TuplePattern_fv);
    else 
      if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SetUnionPattern)) 
        var1_18 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SetUnionPattern_fv);
      else 
        if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SetEnumPattern)) 
          var1_18 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SetEnumPattern_fv);
        else 
          if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SeqEnumPattern)) 
            var1_18 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SeqEnumPattern_fv);
          else 
            if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_SeqConcPattern)) 
              var1_18 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_SeqConcPattern_fv);
            else 
              if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_RecordPattern)) 
                var1_18 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_RecordPattern_fv);
              else 
                if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_PatternName)) 
                  var1_18 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_PatternName_fv);
                else 
                  if (((Record) vdm_TRF_uTAR_uDEF_p).Is(vdm_TRF_uTAR_uPAT_MatchVal)) 
                    var1_18 = ((Record) vdm_TRF_uTAR_uDEF_p).GetField(pos_TRF_uTAR_uPAT_MatchVal_fv);
                  else 
                    RunTime("Unknown record field selector 45");
    Set var2_20;
    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_UndefinedExpr)) 
      var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_UndefinedExpr_fv);
    else 
      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TypeJudgementExpr)) 
        var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TypeJudgementExpr_fv);
      else 
        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TupleSelectExpr)) 
          var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TupleSelectExpr_fv);
        else 
          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TupleConstructorExpr)) 
            var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TupleConstructorExpr_fv);
          else 
            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TokenConstructorExpr)) 
              var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TokenConstructorExpr_fv);
            else 
              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_TextLit)) 
                var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_TextLit_fv);
              else 
                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SubSequenceExpr)) 
                  var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SubSequenceExpr_fv);
                else 
                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SetRangeExpr)) 
                    var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SetRangeExpr_fv);
                  else 
                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SetEnumerationExpr)) 
                      var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SetEnumerationExpr_fv);
                    else 
                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SetComprehensionExpr)) 
                        var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SetComprehensionExpr_fv);
                      else 
                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SeqModifyMapOverrideExpr)) 
                          var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SeqModifyMapOverrideExpr_fv);
                        else 
                          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SeqEnumerationExpr)) 
                            var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SeqEnumerationExpr_fv);
                          else 
                            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_SeqComprehensionExpr)) 
                              var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_SeqComprehensionExpr_fv);
                            else 
                              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_RecordModifierExpr)) 
                                var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_RecordModifierExpr_fv);
                              else 
                                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_RecordConstructorExpr)) 
                                  var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_RecordConstructorExpr_fv);
                                else 
                                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_RealLit)) 
                                    var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_RealLit_fv);
                                  else 
                                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_QuoteLit)) 
                                      var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_QuoteLit_fv);
                                    else 
                                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_PrefixExpr)) 
                                        var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_PrefixExpr_fv);
                                      else 
                                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_PreConditionApplyExpr)) 
                                          var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_PreConditionApplyExpr_fv);
                                        else 
                                          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_OldName)) 
                                            var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_OldName_fv);
                                          else 
                                            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_NumLit)) 
                                              var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_NumLit_fv);
                                            else 
                                              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_NilLit)) 
                                                var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_NilLit_fv);
                                              else 
                                                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_NameExpr)) 
                                                  var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_NameExpr_fv);
                                                else 
                                                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_MapInverseExpr)) 
                                                    var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_MapInverseExpr_fv);
                                                  else 
                                                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_MapEnumerationExpr)) 
                                                      var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_MapEnumerationExpr_fv);
                                                    else 
                                                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_MapComprehensionExpr)) 
                                                        var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_MapComprehensionExpr_fv);
                                                      else 
                                                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_LetExpr)) 
                                                          var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_LetExpr_fv);
                                                        else 
                                                          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_LetBeSTExpr)) 
                                                            var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_LetBeSTExpr_fv);
                                                          else 
                                                            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_LambdaExpr)) 
                                                              var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_LambdaExpr_fv);
                                                            else 
                                                              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_IsExpr)) 
                                                                var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_IsExpr_fv);
                                                              else 
                                                                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_IotaExpr)) 
                                                                  var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_IotaExpr_fv);
                                                                else 
                                                                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_IfExpr)) 
                                                                    var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_IfExpr_fv);
                                                                  else 
                                                                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_FieldSelectExpr)) 
                                                                      var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_FieldSelectExpr_fv);
                                                                    else 
                                                                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_FctTypeInstExpr)) 
                                                                        var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_FctTypeInstExpr_fv);
                                                                      else 
                                                                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_ExistsUniqueExpr)) 
                                                                          var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_ExistsUniqueExpr_fv);
                                                                        else 
                                                                          if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_DefExpr)) 
                                                                            var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_DefExpr_fv);
                                                                          else 
                                                                            if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_CharLit)) 
                                                                              var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_CharLit_fv);
                                                                            else 
                                                                              if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_CasesExpr)) 
                                                                                var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_CasesExpr_fv);
                                                                              else 
                                                                                if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_BracketedExpr)) 
                                                                                  var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_BracketedExpr_fv);
                                                                                else 
                                                                                  if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_BoolLit)) 
                                                                                    var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_BoolLit_fv);
                                                                                  else 
                                                                                    if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_BinaryExpr)) 
                                                                                      var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_BinaryExpr_fv);
                                                                                    else 
                                                                                      if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_ApplyExpr)) 
                                                                                        var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_ApplyExpr_fv);
                                                                                      else 
                                                                                        if (((Record) vdm_TRF_uTAR_uDEF_e).Is(vdm_TRF_uTAR_uEXPR_AllOrExistsExpr)) 
                                                                                          var2_20 = ((Record) vdm_TRF_uTAR_uDEF_e).GetField(pos_TRF_uTAR_uEXPR_AllOrExistsExpr_fv);
                                                                                        else 
                                                                                          RunTime("Unknown record field selector 46");
    vdm_TRF_uTAR_uDEF_fv = var1_18;
    vdm_TRF_uTAR_uDEF_fv.ImpUnion(var2_20);
    varRes_6 = Record(vdm_TRF_uTAR_uDEF_ValueDef, length_TRF_uTAR_uDEF_ValueDef);
    varRes_6.SetField(1, vdm_TRF_uTAR_uDEF_val);
    varRes_6.SetField(2, vdm_TRF_uTAR_uDEF_fv);
    varRes_6.SetField(3, vdm_TRF_uTAR_uDEF_pid);
  }
  return (Generic) varRes_6;
}
#endif

#ifndef DEF_TRF_uTAR_uDEF_NewSetTypeInfo

Bool vdm_TRF_uTAR_uDEF_NewSetTypeInfo(const TYPE_CI_ContextId &vdm_TRF_uTAR_uDEF_cid, const TYPE_REP_TypeRep &vdm_TRF_uTAR_uDEF_type) {
  vdm_CI_SetTypeInfo((Generic) vdm_TRF_uTAR_uDEF_cid, (Generic) vdm_TRF_uTAR_uDEF_type);
  return (Generic) (Bool) true;
}
#endif

#ifndef DEF_TRF_uTAR_uDEF_pre_NewSetTypeInfo

Bool vdm_TRF_uTAR_uDEF_pre_NewSetTypeInfo(const TYPE_CI_ContextId &vdm_TRF_uTAR_uDEF_cid, const TYPE_REP_TypeRep &vdm_TRF_uTAR_uDEF_type) { return (Generic) vdm_CI_IsAValidContextId((Generic) vdm_TRF_uTAR_uDEF_cid); }
#endif

#ifndef DEF_TRF_uTAR_uDEF_post_NewSetTypeInfo

Bool vdm_TRF_uTAR_uDEF_post_NewSetTypeInfo(const TYPE_CI_ContextId &vdm_TRF_uTAR_uDEF_cid, const TYPE_REP_TypeRep &vdm_TRF_uTAR_uDEF_type, const Bool &vdm_TRF_uTAR_uDEF_RESULT) {
  Bool varRes_5;
{ if ((varRes_5 = vdm_CI_IsAValidContextId((Generic) vdm_TRF_uTAR_uDEF_cid)).GetValue()) 
   varRes_5 = vdm_CI_HasTypeInfo((Generic) vdm_TRF_uTAR_uDEF_cid); }
  return (Generic) varRes_5;
}
#endif

