//
// THIS FILE IS AUTOMATICALLY GENERATED!!
//
// Generated at Thu 24-Feb-00 by the VDM-SLtoC++ Code Generator
// (v3.3.2 - Thu 02-Dec-99)
//
// Supported compilers:
// 	egcs version 1.1 on SunOS4, SunOS5, Linux, HP-UX10
// 	VC++ version 6.0 on Windows95, Windows NT
//



#include "DER_uINV.h"
static TYPE_DER_uINV_string vdm_DER_uINV_GetNewName(const type_cLS &);
static TYPE_DER_uINV_string vdm_DER_uINV_Nat2str(const Int &);
static Generic vdm_DER_uINV_derive_uBasicInv(const TYPE_AS_BasicType &, const TYPE_HOL_term_utype &);
static Generic vdm_DER_uINV_derive_uBracketedInv(const TYPE_AS_BracketedType &, const TYPE_HOL_type_uexpr &);
static Generic vdm_DER_uINV_derive_uCompositeInv(const TYPE_AS_CompositeType &, const TYPE_HOL_datatype &);
static Generic vdm_DER_uINV_derive_uGeneralMapInv(const TYPE_AS_GeneralMapType &, const TYPE_HOL_term_utype &);
static Generic vdm_DER_uINV_derive_uInjectiveMapInv(const TYPE_AS_InjectiveMapType &, const TYPE_HOL_term_utype &);
static Generic vdm_DER_uINV_derive_uOptionalInv(const TYPE_AS_OptionalType &, const TYPE_HOL_term_utype &);
static Generic vdm_DER_uINV_derive_uPartialFnInv(const TYPE_AS_PartialFnType &, const TYPE_HOL_term_utype &);
static Generic vdm_DER_uINV_derive_uProductInv(const TYPE_AS_ProductType &, const TYPE_HOL_Prod_utype &);
static Generic vdm_DER_uINV_derive_uQuoteInv(const TYPE_AS_QuoteType &, const TYPE_HOL_term_utype &);
static Generic vdm_DER_uINV_derive_uSeq0Inv(const TYPE_AS_Seq0Type &, const TYPE_HOL_term_utype &);
static Generic vdm_DER_uINV_derive_uSeq1Inv(const TYPE_AS_Seq1Type &, const TYPE_HOL_term_utype &);
static Generic vdm_DER_uINV_derive_uSetInv(const TYPE_AS_SetType &, const TYPE_HOL_term_utype &);
static Generic vdm_DER_uINV_derive_uTotalFnInv(const TYPE_AS_TotalFnType &, const TYPE_HOL_term_utype &);
static Generic vdm_DER_uINV_derive_uTypeNameInv(const TYPE_AS_TypeName &, const TYPE_HOL_term_utype &);
static Generic vdm_DER_uINV_derive_uTypeVarInv(const TYPE_AS_TypeVar &, const TYPE_HOL_term_utype &);
static Generic vdm_DER_uINV_derive_uUnionInv(const TYPE_AS_UnionType &, const TYPE_HOL_sum &);

void init_DER_uINV_VDMLib() {
  VDMGetDefaultRecInfoMap().NewTag(TOKEN, 1);
  VDMGetDefaultRecInfoMap().SetSymTag(TOKEN, "token");
}
#ifdef DEF_DER_uINV_USERIMPL

#include "DER_uINV_userimpl.cc"

#endif


void init_DER_uINV() { init_DER_uINV_VDMLib(); }
#ifndef DEF_DER_uINV_GetNewName

TYPE_DER_uINV_string vdm_DER_uINV_GetNewName(const type_cLS &vdm_DER_uINV_used_unames) {
  Sequence varRes_3;
  {
    Int vdm_DER_uINV_n = (Int) vdm_DER_uINV_used_unames.Card();
    {
      Set tmpSet_7;
      tmpSet_7 = Set();
      int ubi_15 = ((Int) 2 * vdm_DER_uINV_n).GetValue();
      for (int count_16 = ((Int) 0).GetValue(); count_16 <= ubi_15; count_16++) 
        tmpSet_7.Insert((Int) count_16);
      Int vdm_DER_uINV_i;
      bool succ_9 = false;
      Generic tmpe_28;
      for (int bb_27 = tmpSet_7.First(tmpe_28); bb_27 && !succ_9; bb_27 = tmpSet_7.Next(tmpe_28)) {
        Int tmpElem_10 = tmpe_28;
        succ_9 = true;        vdm_DER_uINV_i = tmpElem_10;        {
          Bool tmpB_17;
          Sequence var1_18;
          var1_18.ImpConc(Sequence("x")).ImpConc(vdm_DER_uINV_Nat2str((Generic) ((Int) 2 * vdm_DER_uINV_n - vdm_DER_uINV_i)));
          tmpB_17 = !(Bool) vdm_DER_uINV_used_unames.InSet((Generic) var1_18);
          succ_9 = tmpB_17.GetValue();
        }
      }
      if (!succ_9) 
        RunTime("The binding environment was empty");
      varRes_3.ImpConc(Sequence("x")).ImpConc(vdm_DER_uINV_Nat2str((Generic) ((Int) 2 * vdm_DER_uINV_n - vdm_DER_uINV_i)));
    }
  }
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_DER_uINV_Nat2str

TYPE_DER_uINV_string vdm_DER_uINV_Nat2str(const Int &vdm_DER_uINV_n) {
  Sequence varRes_3;
  {
    Int vdm_DER_uINV_d = (Int) (vdm_DER_uINV_n / (Int) 10);
    Int vdm_DER_uINV_r = vdm_DER_uINV_n - (Int) 10 * vdm_DER_uINV_d;
    Sequence vdm_DER_uINV_r_ustr;
    bool succ_14 = true;
    {
      succ_14 = true;
      if (vdm_DER_uINV_r != (Int) 0) 
        succ_14 = false;
      if (succ_14) 
        vdm_DER_uINV_r_ustr = Sequence("O");
    }
    if (!succ_14) {
      succ_14 = true;
      if (vdm_DER_uINV_r != (Int) 1) 
        succ_14 = false;
      if (succ_14) 
        vdm_DER_uINV_r_ustr = Sequence("1");
    }
    if (!succ_14) {
      succ_14 = true;
      if (vdm_DER_uINV_r != (Int) 2) 
        succ_14 = false;
      if (succ_14) 
        vdm_DER_uINV_r_ustr = Sequence("2");
    }
    if (!succ_14) {
      succ_14 = true;
      if (vdm_DER_uINV_r != (Int) 3) 
        succ_14 = false;
      if (succ_14) 
        vdm_DER_uINV_r_ustr = Sequence("3");
    }
    if (!succ_14) {
      succ_14 = true;
      if (vdm_DER_uINV_r != (Int) 4) 
        succ_14 = false;
      if (succ_14) 
        vdm_DER_uINV_r_ustr = Sequence("4");
    }
    if (!succ_14) {
      succ_14 = true;
      if (vdm_DER_uINV_r != (Int) 5) 
        succ_14 = false;
      if (succ_14) 
        vdm_DER_uINV_r_ustr = Sequence("5");
    }
    if (!succ_14) {
      succ_14 = true;
      if (vdm_DER_uINV_r != (Int) 6) 
        succ_14 = false;
      if (succ_14) 
        vdm_DER_uINV_r_ustr = Sequence("6");
    }
    if (!succ_14) {
      succ_14 = true;
      if (vdm_DER_uINV_r != (Int) 7) 
        succ_14 = false;
      if (succ_14) 
        vdm_DER_uINV_r_ustr = Sequence("7");
    }
    if (!succ_14) {
      succ_14 = true;
      if (vdm_DER_uINV_r != (Int) 8) 
        succ_14 = false;
      if (succ_14) 
        vdm_DER_uINV_r_ustr = Sequence("8");
    }
    if (!succ_14) {
      succ_14 = true;
      if (vdm_DER_uINV_r != (Int) 9) 
        succ_14 = false;
      if (succ_14) 
        vdm_DER_uINV_r_ustr = Sequence("9");
    }
    if (!succ_14) 
      RunTime("No \'others\' branch in CasesExpr");
    Sequence vdm_DER_uINV_d_ustr;
    if (((Bool) (vdm_DER_uINV_d == (Int) 0)).GetValue()) 
      vdm_DER_uINV_d_ustr = Sequence("");
    else 
      vdm_DER_uINV_d_ustr = vdm_DER_uINV_Nat2str((Generic) vdm_DER_uINV_d);
    varRes_3.ImpConc(vdm_DER_uINV_d_ustr).ImpConc(vdm_DER_uINV_r_ustr);
  }
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_DER_uINV_derive_uBasicInv

Generic vdm_DER_uINV_derive_uBasicInv(const TYPE_AS_BasicType &var_1_1, const TYPE_HOL_term_utype &var_2_2) {
  Generic vdm_DER_uINV_btp;
  Record vdm_DER_uINV_hol_ubtp;
  bool succ_3 = true;
  if (var_1_1.IsRecord() && vdm_AS_BasicType == var_1_1.GetTag()) {
    Sequence e_l_40;
    for (int i_41 = 1; i_41 <= var_1_1.Length(); i_41++) 
      e_l_40.ImpAppend(var_1_1.GetField(i_41));
    if (succ_3 = 2 == (Int) e_l_40.Length()) 
      vdm_DER_uINV_btp = (Generic) e_l_40.Hd();
  }
  else 
    succ_3 = false;
  vdm_DER_uINV_hol_ubtp = var_2_2;
  if (!succ_3) 
    RunTime("Pattern Match in Function Apply in function : derive_uBasicInv failed");
  Generic varRes_4;
  bool succ_5 = true;
  {
    succ_5 = true;
    if (vdm_DER_uINV_btp != (Quote) "BOOLEAN") 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = Nil();
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_btp != (Quote) "NATONE") 
      succ_5 = false;
    if (succ_5) {
      Record vdm_DER_uINV_num = Record(vdm_HOL_Num_utype, length_HOL_Num_utype);
      Record vdm_DER_uINV_var(vdm_HOL_Var, length_HOL_Var);
      vdm_DER_uINV_var = Record(vdm_HOL_Var, length_HOL_Var);
      vdm_DER_uINV_var.SetField(1, Sequence("x"));
      vdm_DER_uINV_var.SetField(2, vdm_DER_uINV_num);
      Record vdm_DER_uINV_one(vdm_HOL_Numeral, length_HOL_Numeral);
      vdm_DER_uINV_one = Record(vdm_HOL_Numeral, length_HOL_Numeral);
      vdm_DER_uINV_one.SetField(1, (Int) 1);
      Record vdm_DER_uINV_eq = vdm_TRANS_BinaryRelTable((Generic) (Quote) "NUMGE", (Generic) vdm_DER_uINV_num, (Generic) vdm_DER_uINV_num);
      varRes_4 = Record(vdm_TRL_uTAR_uEXPR_EXPR, length_TRL_uTAR_uEXPR_EXPR);
      Record tmpVar_21(vdm_HOL_Abs, length_HOL_Abs);
      tmpVar_21 = Record(vdm_HOL_Abs, length_HOL_Abs);
      Sequence tmpVar_22;
      tmpVar_22 = Sequence().ImpAppend(vdm_DER_uINV_var);
      tmpVar_21.SetField(1, tmpVar_22);
      Record tmpVar_24(vdm_HOL_Comb, length_HOL_Comb);
      tmpVar_24 = Record(vdm_HOL_Comb, length_HOL_Comb);
      tmpVar_24.SetField(1, vdm_DER_uINV_eq);
      Sequence tmpVar_26;
      tmpVar_26 = Sequence().ImpAppend(vdm_DER_uINV_var);
      tmpVar_26.ImpAppend(vdm_DER_uINV_one);
      tmpVar_24.SetField(2, tmpVar_26);
      tmpVar_21.SetField(2, tmpVar_24);
      varRes_4 = Record(varRes_4).SetField(1, tmpVar_21);
      Record tmpVar_29(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
      tmpVar_29 = Record(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
      Sequence tmpVar_30;
      tmpVar_30 = Sequence().ImpAppend(vdm_DER_uINV_num);
      tmpVar_30.ImpAppend(Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
      tmpVar_29.SetField(1, tmpVar_30);
      varRes_4 = Record(varRes_4).SetField(2, tmpVar_29);
      varRes_4 = Record(varRes_4).SetField(3, Set());
    }
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_btp != (Quote) "NAT") 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = Nil();
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_btp != (Quote) "INTEGER") 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = Nil();
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_btp != (Quote) "RAT") 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = Nil();
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_btp != (Quote) "REAL") 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = Nil();
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_btp != (Quote) "TOKEN") 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = Nil();
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_btp != (Quote) "CHAR") 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = Nil();
  }
  if (!succ_5) 
    RunTime("Can not evaluate an undefined expression");
  return (Generic) varRes_4;
}
#endif

#ifndef DEF_DER_uINV_derive_uBracketedInv

Generic vdm_DER_uINV_derive_uBracketedInv(const TYPE_AS_BracketedType &var_1_1, const TYPE_HOL_type_uexpr &var_2_2) {
  Record vdm_DER_uINV_hol_utp;
  Record vdm_DER_uINV_tp;
  bool succ_3 = true;
  if (var_1_1.IsRecord() && vdm_AS_BracketedType == var_1_1.GetTag()) {
    Sequence e_l_7;
    for (int i_8 = 1; i_8 <= var_1_1.Length(); i_8++) 
      e_l_7.ImpAppend(var_1_1.GetField(i_8));
    if (succ_3 = 2 == (Int) e_l_7.Length()) 
      vdm_DER_uINV_tp = (Generic) e_l_7.Hd();
  }
  else 
    succ_3 = false;
  vdm_DER_uINV_hol_utp = var_2_2;
  if (!succ_3) 
    RunTime("Pattern Match in Function Apply in function : derive_uBracketedInv failed");
  return (Generic) vdm_DER_uINV_derive_uInv((Generic) vdm_DER_uINV_tp, (Generic) vdm_DER_uINV_hol_utp);
}
#endif

#ifndef DEF_DER_uINV_derive_uCompositeInv

Generic vdm_DER_uINV_derive_uCompositeInv(const TYPE_AS_CompositeType &var_1_1, const TYPE_HOL_datatype &var_2_2) {
  Sequence vdm_DER_uINV_fields;
  Record vdm_DER_uINV_hol_udtp;
  Record vdm_DER_uINV_tag(vdm_AS_Name, length_AS_Name);
  bool succ_3 = true;
  if (var_1_1.IsRecord() && vdm_AS_CompositeType == var_1_1.GetTag()) {
    Sequence e_l_172;
    for (int i_173 = 1; i_173 <= var_1_1.Length(); i_173++) 
      e_l_172.ImpAppend(var_1_1.GetField(i_173));
    if (succ_3 = 3 == (Int) e_l_172.Length()) {
      vdm_DER_uINV_tag = (Generic) e_l_172.Hd();
      vdm_DER_uINV_fields = (Generic) e_l_172[2];
    }
  }
  else 
    succ_3 = false;
  vdm_DER_uINV_hol_udtp = var_2_2;
  if (!succ_3) 
    RunTime("Pattern Match in Function Apply in function : derive_uCompositeInv failed");
  Generic varRes_4;
  {
    bool succ_5;
    Record tmpVal_6;
    tmpVal_6 = vdm_DER_uINV_hol_udtp;
    Sequence vdm_DER_uINV_hol_ufields;
    Sequence vdm_DER_uINV_hol_utag;
    succ_5 = true;
    if (tmpVal_6.IsRecord() && vdm_HOL_record == ((Record) tmpVal_6).GetTag()) {
      Sequence e_l_7;
      for (int i_8 = 1; i_8 <= ((Record) tmpVal_6).Length(); i_8++) 
        e_l_7.ImpAppend(((Record) tmpVal_6).GetField(i_8));
      if (succ_5 = 2 == (Int) e_l_7.Length()) {
        vdm_DER_uINV_hol_utag = (Sequence) e_l_7.Hd();
        vdm_DER_uINV_hol_ufields = (Sequence) e_l_7[2];
      }
    }
    else 
      succ_5 = false;
    if (!succ_5) 
      RunTime("Pattern match did not succeed in value definition");
    Sequence vdm_DER_uINV_invs;
    {
      Sequence res_l_10;
      Set resBind_s_12;
      Set riseq_16;
      int max_17 = (Int) vdm_DER_uINV_fields.Length();
      for (int i_18 = 1; i_18 <= max_17; i_18++) 
        riseq_16.Insert((Int) i_18);
      resBind_s_12 = riseq_16;
      Sequence bind_l_11;
      if ((Int) resBind_s_12.Card() != (Int) 0) 
        bind_l_11 = Sort(resBind_s_12);
      bool succ_13 = true;
      Int vdm_DER_uINV_i;
      Generic tmpe_29;
      for (int i_28 = bind_l_11.First(tmpe_29); i_28; i_28 = bind_l_11.Next(tmpe_29)) {
        Int e_14 = tmpe_29;
        vdm_DER_uINV_i = e_14;
        if (succ_13) {
          Generic reselem_19;
          Record par_20;
          if (((Record) vdm_DER_uINV_fields[vdm_DER_uINV_i.GetValue()]).Is(vdm_AS_Field)) 
            par_20 = ((Record) vdm_DER_uINV_fields[vdm_DER_uINV_i.GetValue()]).GetField(pos_AS_Field_type);
          else 
            RunTime("Unknown record field selector");
          Record par_24;
          if (((Record) vdm_DER_uINV_hol_ufields[vdm_DER_uINV_i.GetValue()]).Is(vdm_HOL_field)) 
            par_24 = ((Record) vdm_DER_uINV_hol_ufields[vdm_DER_uINV_i.GetValue()]).GetField(pos_HOL_field_tp);
          else 
            RunTime("Unknown record field selector");
          reselem_19 = vdm_DER_uINV_derive_uInv((Generic) par_20, (Generic) par_24);
          res_l_10.ImpAppend(reselem_19);
        }
      }
      vdm_DER_uINV_invs = res_l_10;
    }
    Set vdm_DER_uINV_fv;
    Set var1_31;
    Set unArg_32;
    Set res_s_33;
    {
      bool succ_43 = true;
      Set e_set_44;      Set riseq_46;      int max_47 = (Int) vdm_DER_uINV_invs.Length();      for (int i_48 = 1; i_48 <= max_47; i_48++) 
        riseq_46.Insert((Int) i_48);      e_set_44 = riseq_46;
      Int vdm_DER_uINV_i;
      {
        Generic tmpe_51;
        for (int bb_50 = e_set_44.First(tmpe_51); bb_50; bb_50 = e_set_44.Next(tmpe_51)) {
          Int elem_49 = tmpe_51;
          succ_43 = true;          vdm_DER_uINV_i = elem_49;          if (succ_43) { if (((Bool) !((Generic) vdm_DER_uINV_invs[vdm_DER_uINV_i.GetValue()] == Nil())).GetValue()) {
   Set res_s_34;
   if (((Generic) vdm_DER_uINV_invs[vdm_DER_uINV_i.GetValue()]).IsRecord()) 
     if (((Record) (Generic) vdm_DER_uINV_invs[vdm_DER_uINV_i.GetValue()]).Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
       res_s_34 = ((Record) (Generic) vdm_DER_uINV_invs[vdm_DER_uINV_i.GetValue()]).GetField(pos_TRL_uTAR_uEXPR_EXPR_fv);
     else 
       RunTime("Unknown record field selector");
   else 
     RunTime("A record was expected");
   res_s_33.Insert(res_s_34);
 } }
        }
      }
    }
    unArg_32 = res_s_33;
    Set rduset_52;    Generic tmpe_55;    for (int bb_54 = unArg_32.First(tmpe_55); bb_54; bb_54 = unArg_32.Next(tmpe_55)) {
      Set e_53 = tmpe_55;
      rduset_52.ImpUnion(e_53);
    }    var1_31 = rduset_52;
    Set var2_56;
    Set res_s_57;
    {
      bool succ_66 = true;
      Set e_set_67;      Set riseq_69;      int max_70 = (Int) vdm_DER_uINV_hol_ufields.Length();      for (int i_71 = 1; i_71 <= max_70; i_71++) 
        riseq_69.Insert((Int) i_71);      e_set_67 = riseq_69;
      Int vdm_DER_uINV_i;
      {
        Generic tmpe_74;
        for (int bb_73 = e_set_67.First(tmpe_74); bb_73; bb_73 = e_set_67.Next(tmpe_74)) {
          Int elem_72 = tmpe_74;
          succ_66 = true;          vdm_DER_uINV_i = elem_72;          if (succ_66) {
            Sequence res_s_58;
            Sequence var1_59;
            var1_59.ImpConc(vdm_DER_uINV_hol_utag).ImpConc(Sequence("_"));
            Sequence var2_62;
            if (((Record) vdm_DER_uINV_hol_ufields[vdm_DER_uINV_i.GetValue()]).Is(vdm_HOL_field)) 
              var2_62 = ((Record) vdm_DER_uINV_hol_ufields[vdm_DER_uINV_i.GetValue()]).GetField(pos_HOL_field_name);
            else 
              RunTime("Unknown record field selector");
            res_s_58.ImpConc(var1_59).ImpConc(var2_62);
            res_s_57.Insert(res_s_58);
          }
        }
      }
    }
    var2_56 = res_s_57;
    vdm_DER_uINV_fv = var1_31;
    vdm_DER_uINV_fv.ImpUnion(var2_56);
    Record vdm_DER_uINV_tag_utp(vdm_HOL_type, length_HOL_type);
    vdm_DER_uINV_tag_utp = Record(vdm_HOL_type, length_HOL_type);
    Sequence tmpVar_76;
    if (((Record) vdm_DER_uINV_hol_udtp).Is(vdm_HOL_record)) 
      tmpVar_76 = ((Record) vdm_DER_uINV_hol_udtp).GetField(pos_HOL_record_tag);
    else 
      RunTime("Unknown record field selector");
    vdm_DER_uINV_tag_utp.SetField(1, tmpVar_76);
    vdm_DER_uINV_tag_utp.SetField(2, Sequence());
    Record vdm_DER_uINV_var_utp(vdm_HOL_vartype, length_HOL_vartype);
    vdm_DER_uINV_var_utp = Record(vdm_HOL_vartype, length_HOL_vartype);
    vdm_DER_uINV_var_utp.SetField(1, Sequence("\'a"));
    Sequence vdm_DER_uINV_var_unm = vdm_DER_uINV_GetNewName((Generic) vdm_DER_uINV_fv);
    Record vdm_DER_uINV_var(vdm_HOL_Var, length_HOL_Var);
    vdm_DER_uINV_var = Record(vdm_HOL_Var, length_HOL_Var);
    vdm_DER_uINV_var.SetField(1, vdm_DER_uINV_var_unm);
    vdm_DER_uINV_var.SetField(2, vdm_DER_uINV_var_utp);
    Sequence vdm_DER_uINV_invs_utypes;
    {
      Sequence res_l_87;
      Set resBind_s_89;
      Set riseq_93;
      int max_94 = (Int) vdm_DER_uINV_hol_ufields.Length();
      for (int i_95 = 1; i_95 <= max_94; i_95++) 
        riseq_93.Insert((Int) i_95);
      resBind_s_89 = riseq_93;
      Sequence bind_l_88;
      if ((Int) resBind_s_89.Card() != (Int) 0) 
        bind_l_88 = Sort(resBind_s_89);
      bool succ_90 = true;
      Int vdm_DER_uINV_i;
      Generic tmpe_104;
      for (int i_103 = bind_l_88.First(tmpe_104); i_103; i_103 = bind_l_88.Next(tmpe_104)) {
        Int e_91 = tmpe_104;
        vdm_DER_uINV_i = e_91;
        if (succ_90) {
          Record reselem_96(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
          reselem_96 = Record(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
          Sequence tmpVar_97;
          tmpVar_97 = Sequence().ImpAppend(vdm_DER_uINV_tag_utp);
          Record e_seq_99;
          if (((Record) vdm_DER_uINV_hol_ufields[vdm_DER_uINV_i.GetValue()]).Is(vdm_HOL_field)) 
            e_seq_99 = ((Record) vdm_DER_uINV_hol_ufields[vdm_DER_uINV_i.GetValue()]).GetField(pos_HOL_field_tp);
          else 
            RunTime("Unknown record field selector");
          tmpVar_97.ImpAppend(e_seq_99);
          reselem_96.SetField(1, tmpVar_97);
          res_l_87.ImpAppend(reselem_96);
        }
      }
      vdm_DER_uINV_invs_utypes = res_l_87;
    }
    Sequence vdm_DER_uINV_invs_uapps;
    {
      Sequence res_l_106;
      Set resBind_s_108;
      Set riseq_112;
      int max_113 = (Int) vdm_DER_uINV_hol_ufields.Length();
      for (int i_114 = 1; i_114 <= max_113; i_114++) 
        riseq_112.Insert((Int) i_114);
      resBind_s_108 = riseq_112;
      Sequence bind_l_107;
      if ((Int) resBind_s_108.Card() != (Int) 0) 
        bind_l_107 = Sort(resBind_s_108);
      bool succ_109 = true;
      Int vdm_DER_uINV_i;
      Generic tmpe_128;
      for (int i_127 = bind_l_107.First(tmpe_128); i_127; i_127 = bind_l_107.Next(tmpe_128)) {
        Int e_110 = tmpe_128;
        vdm_DER_uINV_i = e_110;
        if (succ_109) {
          Record reselem_115(vdm_HOL_Const, length_HOL_Const);
          reselem_115 = Record(vdm_HOL_Const, length_HOL_Const);
          Sequence tmpVar_116;
          Sequence var1_117;
          var1_117.ImpConc(vdm_DER_uINV_hol_utag).ImpConc(Sequence("_"));
          Sequence var2_120;
          if (((Record) vdm_DER_uINV_hol_ufields[vdm_DER_uINV_i.GetValue()]).Is(vdm_HOL_field)) 
            var2_120 = ((Record) vdm_DER_uINV_hol_ufields[vdm_DER_uINV_i.GetValue()]).GetField(pos_HOL_field_name);
          else 
            RunTime("Unknown record field selector");
          tmpVar_116.ImpConc(var1_117).ImpConc(var2_120);
          reselem_115.SetField(1, tmpVar_116);
          reselem_115.SetField(2, (Record) vdm_DER_uINV_invs_utypes[vdm_DER_uINV_i.GetValue()]);
          res_l_106.ImpAppend(reselem_115);
        }
      }
      vdm_DER_uINV_invs_uapps = res_l_106;
    }
    Sequence vdm_DER_uINV_conjs;
    {
      Sequence res_l_130;
      Set resBind_s_132;
      Set riseq_136;
      int max_137 = (Int) vdm_DER_uINV_fields.Length();
      for (int i_138 = 1; i_138 <= max_137; i_138++) 
        riseq_136.Insert((Int) i_138);
      resBind_s_132 = riseq_136;
      Sequence bind_l_131;
      if ((Int) resBind_s_132.Card() != (Int) 0) 
        bind_l_131 = Sort(resBind_s_132);
      bool succ_133 = true;
      Int vdm_DER_uINV_i;
      Generic tmpe_157;
      for (int i_156 = bind_l_131.First(tmpe_157); i_156; i_156 = bind_l_131.Next(tmpe_157)) {
        Int e_134 = tmpe_157;
        vdm_DER_uINV_i = e_134;
        if (succ_133) 
          if (((Bool) !((Generic) vdm_DER_uINV_invs[vdm_DER_uINV_i.GetValue()] == Nil())).GetValue()) {
            Record reselem_139(vdm_HOL_Comb, length_HOL_Comb);
            reselem_139 = Record(vdm_HOL_Comb, length_HOL_Comb);
            Record tmpVar_140;
            if (((Generic) vdm_DER_uINV_invs[vdm_DER_uINV_i.GetValue()]).IsRecord()) 
              if (((Record) (Generic) vdm_DER_uINV_invs[vdm_DER_uINV_i.GetValue()]).Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
                tmpVar_140 = ((Record) (Generic) vdm_DER_uINV_invs[vdm_DER_uINV_i.GetValue()]).GetField(pos_TRL_uTAR_uEXPR_EXPR_tm);
              else 
                RunTime("Unknown record field selector");
            else 
              RunTime("A record was expected");
            reselem_139.SetField(1, tmpVar_140);
            Sequence tmpVar_144;
            Record e_seq_145(vdm_HOL_Comb, length_HOL_Comb);
            e_seq_145 = Record(vdm_HOL_Comb, length_HOL_Comb);
            e_seq_145.SetField(1, (Record) vdm_DER_uINV_invs_uapps[vdm_DER_uINV_i.GetValue()]);
            Sequence tmpVar_149;
            tmpVar_149 = Sequence().ImpAppend(vdm_DER_uINV_var);
            e_seq_145.SetField(2, tmpVar_149);
            tmpVar_144 = Sequence().ImpAppend(e_seq_145);
            reselem_139.SetField(2, tmpVar_144);
            res_l_130.ImpAppend(reselem_139);
          }
      }
      vdm_DER_uINV_conjs = res_l_130;
    }
    if (((Bool) (vdm_DER_uINV_conjs == Sequence())).GetValue()) 
      varRes_4 = Nil();
    else {
      varRes_4 = Record(vdm_TRL_uTAR_uEXPR_EXPR, length_TRL_uTAR_uEXPR_EXPR);
      Record tmpVar_162(vdm_HOL_Abs, length_HOL_Abs);
      tmpVar_162 = Record(vdm_HOL_Abs, length_HOL_Abs);
      Sequence tmpVar_163;
      tmpVar_163 = Sequence().ImpAppend(vdm_DER_uINV_var);
      tmpVar_162.SetField(1, tmpVar_163);
      Record tmpVar_165(vdm_HOL_Conj, length_HOL_Conj);
      tmpVar_165 = Record(vdm_HOL_Conj, length_HOL_Conj);
      tmpVar_165.SetField(1, vdm_DER_uINV_conjs);
      tmpVar_162.SetField(2, tmpVar_165);
      varRes_4 = Record(varRes_4).SetField(1, tmpVar_162);
      Record tmpVar_167(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
      tmpVar_167 = Record(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
      Sequence tmpVar_168;
      tmpVar_168 = Sequence().ImpAppend(vdm_DER_uINV_tag_utp);
      tmpVar_168.ImpAppend(Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
      tmpVar_167.SetField(1, tmpVar_168);
      varRes_4 = Record(varRes_4).SetField(2, tmpVar_167);
      varRes_4 = Record(varRes_4).SetField(3, vdm_DER_uINV_fv);
    }
  }
  return (Generic) varRes_4;
}
#endif

#ifndef DEF_DER_uINV_derive_uGeneralMapInv

Generic vdm_DER_uINV_derive_uGeneralMapInv(const TYPE_AS_GeneralMapType &var_1_1, const TYPE_HOL_term_utype &var_2_2) {
  Record vdm_DER_uINV_hol_utp;
  Record vdm_DER_uINV_mapdom;
  Record vdm_DER_uINV_maprng;
  bool succ_3 = true;
  if (var_1_1.IsRecord() && vdm_AS_GeneralMapType == var_1_1.GetTag()) {
    Sequence e_l_138;
    for (int i_139 = 1; i_139 <= var_1_1.Length(); i_139++) 
      e_l_138.ImpAppend(var_1_1.GetField(i_139));
    if (succ_3 = 3 == (Int) e_l_138.Length()) {
      vdm_DER_uINV_mapdom = (Generic) e_l_138.Hd();
      vdm_DER_uINV_maprng = (Generic) e_l_138[2];
    }
  }
  else 
    succ_3 = false;
  vdm_DER_uINV_hol_utp = var_2_2;
  if (!succ_3) 
    RunTime("Pattern Match in Function Apply in function : derive_uGeneralMapInv failed");
  Generic varRes_4;
  {
    bool succ_5;
    Record tmpVal_6;
    tmpVal_6 = vdm_DER_uINV_hol_utp;
    Record vdm_DER_uINV_hol_umapdom;
    Record vdm_DER_uINV_hol_umaprng;
    succ_5 = true;
    if (tmpVal_6.IsRecord() && vdm_HOL_Map_utype == ((Record) tmpVal_6).GetTag()) {
      Sequence e_l_7;
      for (int i_8 = 1; i_8 <= ((Record) tmpVal_6).Length(); i_8++) 
        e_l_7.ImpAppend(((Record) tmpVal_6).GetField(i_8));
      if (succ_5 = 1 == (Int) e_l_7.Length()) {
        succ_5 = true;
        if (succ_5 = ((Sequence) e_l_7.Hd()).IsSequence()) 
          if (succ_5 = 2 == (Int) ((Sequence) (Sequence) e_l_7.Hd()).Length()) {
            vdm_DER_uINV_hol_umapdom = (Record) ((Sequence) (Sequence) e_l_7.Hd()).Hd();
            vdm_DER_uINV_hol_umaprng = (Record) ((Sequence) (Sequence) e_l_7.Hd())[2];
          }
      }
    }
    else 
      succ_5 = false;
    if (!succ_5) 
      RunTime("Pattern match did not succeed in value definition");
    Generic vdm_DER_uINV_dom_uinv = vdm_DER_uINV_derive_uInv((Generic) vdm_DER_uINV_mapdom, (Generic) vdm_DER_uINV_hol_umapdom);
    Generic vdm_DER_uINV_rng_uinv = vdm_DER_uINV_derive_uInv((Generic) vdm_DER_uINV_maprng, (Generic) vdm_DER_uINV_hol_umaprng);
    Set vdm_DER_uINV_fv;
    Set var1_16;
    if (((Bool) (vdm_DER_uINV_dom_uinv == Nil())).GetValue()) 
      var1_16 = Set();
    else 
      if (vdm_DER_uINV_dom_uinv.IsRecord()) 
        if (((Record) vdm_DER_uINV_dom_uinv).Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
          var1_16 = ((Record) vdm_DER_uINV_dom_uinv).GetField(pos_TRL_uTAR_uEXPR_EXPR_fv);
        else 
          RunTime("Unknown record field selector");
      else 
        RunTime("A record was expected");
    Set var2_22;
    if (((Bool) (vdm_DER_uINV_rng_uinv == Nil())).GetValue()) 
      var2_22 = Set();
    else 
      if (vdm_DER_uINV_rng_uinv.IsRecord()) 
        if (((Record) vdm_DER_uINV_rng_uinv).Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
          var2_22 = ((Record) vdm_DER_uINV_rng_uinv).GetField(pos_TRL_uTAR_uEXPR_EXPR_fv);
        else 
          RunTime("Unknown record field selector");
      else 
        RunTime("A record was expected");
    vdm_DER_uINV_fv = var1_16;
    vdm_DER_uINV_fv.ImpUnion(var2_22);
    Sequence vdm_DER_uINV_f_unm = vdm_DER_uINV_GetNewName((Generic) vdm_DER_uINV_fv);
    Record vdm_DER_uINV_f(vdm_HOL_Var, length_HOL_Var);
    vdm_DER_uINV_f = Record(vdm_HOL_Var, length_HOL_Var);
    vdm_DER_uINV_f.SetField(1, vdm_DER_uINV_f_unm);
    vdm_DER_uINV_f.SetField(2, vdm_DER_uINV_hol_utp);
    Sequence vdm_DER_uINV_hol_udom_uinv;
    if (((Bool) (vdm_DER_uINV_dom_uinv == Nil())).GetValue()) 
      vdm_DER_uINV_hol_udom_uinv = Sequence();
    else {
      Record vdm_DER_uINV_fdom = vdm_TRANS_UnaryOpTable((Generic) (Quote) "MAPDOM", (Generic) vdm_DER_uINV_hol_utp, (Generic) vdm_DER_uINV_hol_umapdom);
      Record vdm_DER_uINV_fdom_uf(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_fdom_uf = Record(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_fdom_uf.SetField(1, vdm_DER_uINV_fdom);
      Sequence tmpVar_45;
      tmpVar_45 = Sequence().ImpAppend(vdm_DER_uINV_f);
      vdm_DER_uINV_fdom_uf.SetField(2, tmpVar_45);
      Record vdm_DER_uINV_fdom_uset_utp(vdm_HOL_Set_utype, length_HOL_Set_utype);
      vdm_DER_uINV_fdom_uset_utp = Record(vdm_HOL_Set_utype, length_HOL_Set_utype);
      vdm_DER_uINV_fdom_uset_utp.SetField(1, vdm_DER_uINV_hol_umapdom);
      Record vdm_DER_uINV_in_uset = vdm_TRANS_BinaryOpTable((Generic) (Quote) "INSET", (Generic) vdm_DER_uINV_hol_umapdom, (Generic) vdm_DER_uINV_fdom_uset_utp, (Generic) Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
      Sequence vdm_DER_uINV_x_unm;
      Set par_55;
      Set var2_57;
      var2_57 = Set().Insert(vdm_DER_uINV_f_unm);
      par_55 = vdm_DER_uINV_fv;
      par_55.ImpUnion(var2_57);
      vdm_DER_uINV_x_unm = vdm_DER_uINV_GetNewName((Generic) par_55);
      Record vdm_DER_uINV_x(vdm_HOL_Var, length_HOL_Var);
      vdm_DER_uINV_x = Record(vdm_HOL_Var, length_HOL_Var);
      vdm_DER_uINV_x.SetField(1, vdm_DER_uINV_x_unm);
      vdm_DER_uINV_x.SetField(2, vdm_DER_uINV_hol_umapdom);
      Record vdm_DER_uINV_x_uin_ufdom_uf(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_x_uin_ufdom_uf = Record(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_x_uin_ufdom_uf.SetField(1, vdm_DER_uINV_in_uset);
      Sequence tmpVar_64;
      tmpVar_64 = Sequence().ImpAppend(vdm_DER_uINV_x);
      tmpVar_64.ImpAppend(vdm_DER_uINV_fdom_uf);
      vdm_DER_uINV_x_uin_ufdom_uf.SetField(2, tmpVar_64);
      Record e_seq_67(vdm_HOL_Forall, length_HOL_Forall);
      e_seq_67 = Record(vdm_HOL_Forall, length_HOL_Forall);
      Sequence tmpVar_68;
      tmpVar_68 = Sequence().ImpAppend(vdm_DER_uINV_x);
      e_seq_67.SetField(1, tmpVar_68);
      Record tmpVar_70(vdm_HOL_Imp, length_HOL_Imp);
      tmpVar_70 = Record(vdm_HOL_Imp, length_HOL_Imp);
      tmpVar_70.SetField(1, vdm_DER_uINV_x_uin_ufdom_uf);
      Record tmpVar_72(vdm_HOL_Comb, length_HOL_Comb);
      tmpVar_72 = Record(vdm_HOL_Comb, length_HOL_Comb);
      Record tmpVar_73;
      if (vdm_DER_uINV_dom_uinv.IsRecord()) 
        if (((Record) vdm_DER_uINV_dom_uinv).Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
          tmpVar_73 = ((Record) vdm_DER_uINV_dom_uinv).GetField(pos_TRL_uTAR_uEXPR_EXPR_tm);
        else 
          RunTime("Unknown record field selector");
      else 
        RunTime("A record was expected");
      tmpVar_72.SetField(1, tmpVar_73);
      Sequence tmpVar_75;
      tmpVar_75 = Sequence().ImpAppend(vdm_DER_uINV_x);
      tmpVar_72.SetField(2, tmpVar_75);
      tmpVar_70.SetField(2, tmpVar_72);
      e_seq_67.SetField(2, tmpVar_70);
      vdm_DER_uINV_hol_udom_uinv = Sequence().ImpAppend(e_seq_67);
    }
    Sequence vdm_DER_uINV_hol_urng_uinv;
    if (((Bool) (vdm_DER_uINV_rng_uinv == Nil())).GetValue()) 
      vdm_DER_uINV_hol_urng_uinv = Sequence();
    else {
      Record vdm_DER_uINV_frng = vdm_TRANS_UnaryOpTable((Generic) (Quote) "MAPRNG", (Generic) vdm_DER_uINV_hol_utp, (Generic) vdm_DER_uINV_hol_umaprng);
      Record vdm_DER_uINV_frng_uf(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_frng_uf = Record(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_frng_uf.SetField(1, vdm_DER_uINV_frng);
      Sequence tmpVar_89;
      tmpVar_89 = Sequence().ImpAppend(vdm_DER_uINV_f);
      vdm_DER_uINV_frng_uf.SetField(2, tmpVar_89);
      Record vdm_DER_uINV_frng_uset_utp(vdm_HOL_Set_utype, length_HOL_Set_utype);
      vdm_DER_uINV_frng_uset_utp = Record(vdm_HOL_Set_utype, length_HOL_Set_utype);
      vdm_DER_uINV_frng_uset_utp.SetField(1, vdm_DER_uINV_hol_umaprng);
      Record vdm_DER_uINV_in_uset = vdm_TRANS_BinaryOpTable((Generic) (Quote) "INSET", (Generic) vdm_DER_uINV_hol_umaprng, (Generic) vdm_DER_uINV_frng_uset_utp, (Generic) Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
      Sequence vdm_DER_uINV_y_unm;
      Set par_99;
      Set var2_101;
      var2_101 = Set().Insert(vdm_DER_uINV_f_unm);
      par_99 = vdm_DER_uINV_fv;
      par_99.ImpUnion(var2_101);
      vdm_DER_uINV_y_unm = vdm_DER_uINV_GetNewName((Generic) par_99);
      Record vdm_DER_uINV_y(vdm_HOL_Var, length_HOL_Var);
      vdm_DER_uINV_y = Record(vdm_HOL_Var, length_HOL_Var);
      vdm_DER_uINV_y.SetField(1, vdm_DER_uINV_y_unm);
      vdm_DER_uINV_y.SetField(2, vdm_DER_uINV_hol_umaprng);
      Record vdm_DER_uINV_y_uin_ufrng_uf(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_y_uin_ufrng_uf = Record(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_y_uin_ufrng_uf.SetField(1, vdm_DER_uINV_in_uset);
      Sequence tmpVar_108;
      tmpVar_108 = Sequence().ImpAppend(vdm_DER_uINV_y);
      tmpVar_108.ImpAppend(vdm_DER_uINV_frng_uf);
      vdm_DER_uINV_y_uin_ufrng_uf.SetField(2, tmpVar_108);
      Record e_seq_111(vdm_HOL_Forall, length_HOL_Forall);
      e_seq_111 = Record(vdm_HOL_Forall, length_HOL_Forall);
      Sequence tmpVar_112;
      tmpVar_112 = Sequence().ImpAppend(vdm_DER_uINV_y);
      e_seq_111.SetField(1, tmpVar_112);
      Record tmpVar_114(vdm_HOL_Imp, length_HOL_Imp);
      tmpVar_114 = Record(vdm_HOL_Imp, length_HOL_Imp);
      tmpVar_114.SetField(1, vdm_DER_uINV_y_uin_ufrng_uf);
      Record tmpVar_116(vdm_HOL_Comb, length_HOL_Comb);
      tmpVar_116 = Record(vdm_HOL_Comb, length_HOL_Comb);
      Record tmpVar_117;
      if (vdm_DER_uINV_rng_uinv.IsRecord()) 
        if (((Record) vdm_DER_uINV_rng_uinv).Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
          tmpVar_117 = ((Record) vdm_DER_uINV_rng_uinv).GetField(pos_TRL_uTAR_uEXPR_EXPR_tm);
        else 
          RunTime("Unknown record field selector");
      else 
        RunTime("A record was expected");
      tmpVar_116.SetField(1, tmpVar_117);
      Sequence tmpVar_119;
      tmpVar_119 = Sequence().ImpAppend(vdm_DER_uINV_y);
      tmpVar_116.SetField(2, tmpVar_119);
      tmpVar_114.SetField(2, tmpVar_116);
      e_seq_111.SetField(2, tmpVar_114);
      vdm_DER_uINV_hol_urng_uinv = Sequence().ImpAppend(e_seq_111);
    }
    Sequence vdm_DER_uINV_conjs;
    vdm_DER_uINV_conjs.ImpConc(vdm_DER_uINV_hol_udom_uinv).ImpConc(vdm_DER_uINV_hol_urng_uinv);
    if (((Bool) (vdm_DER_uINV_conjs == Sequence())).GetValue()) 
      varRes_4 = Nil();
    else {
      varRes_4 = Record(vdm_TRL_uTAR_uEXPR_EXPR, length_TRL_uTAR_uEXPR_EXPR);
      Record tmpVar_128(vdm_HOL_Abs, length_HOL_Abs);
      tmpVar_128 = Record(vdm_HOL_Abs, length_HOL_Abs);
      Sequence tmpVar_129;
      tmpVar_129 = Sequence().ImpAppend(vdm_DER_uINV_f);
      tmpVar_128.SetField(1, tmpVar_129);
      Record tmpVar_131(vdm_HOL_Conj, length_HOL_Conj);
      tmpVar_131 = Record(vdm_HOL_Conj, length_HOL_Conj);
      tmpVar_131.SetField(1, vdm_DER_uINV_conjs);
      tmpVar_128.SetField(2, tmpVar_131);
      varRes_4 = Record(varRes_4).SetField(1, tmpVar_128);
      Record tmpVar_133(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
      tmpVar_133 = Record(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
      Sequence tmpVar_134;
      tmpVar_134 = Sequence().ImpAppend(vdm_DER_uINV_hol_utp);
      tmpVar_134.ImpAppend(Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
      tmpVar_133.SetField(1, tmpVar_134);
      varRes_4 = Record(varRes_4).SetField(2, tmpVar_133);
      varRes_4 = Record(varRes_4).SetField(3, vdm_DER_uINV_fv);
    }
  }
  return (Generic) varRes_4;
}
#endif

#ifndef DEF_DER_uINV_derive_uInjectiveMapInv

Generic vdm_DER_uINV_derive_uInjectiveMapInv(const TYPE_AS_InjectiveMapType &var_1_1, const TYPE_HOL_term_utype &var_2_2) {
  Record vdm_DER_uINV_hol_utp;
  Record vdm_DER_uINV_mapdom;
  Record vdm_DER_uINV_maprng;
  bool succ_3 = true;
  if (var_1_1.IsRecord() && vdm_AS_InjectiveMapType == var_1_1.GetTag()) {
    Sequence e_l_5;
    for (int i_6 = 1; i_6 <= var_1_1.Length(); i_6++) 
      e_l_5.ImpAppend(var_1_1.GetField(i_6));
    if (succ_3 = 3 == (Int) e_l_5.Length()) {
      vdm_DER_uINV_mapdom = (Generic) e_l_5.Hd();
      vdm_DER_uINV_maprng = (Generic) e_l_5[2];
    }
  }
  else 
    succ_3 = false;
  vdm_DER_uINV_hol_utp = var_2_2;
  if (!succ_3) 
    RunTime("Pattern Match in Function Apply in function : derive_uInjectiveMapInv failed");
  Generic varRes_4;
  RunTime("Can not evaluate an undefined expression");
  return (Generic) varRes_4;
}
#endif

#ifndef DEF_DER_uINV_derive_uInv

Generic vdm_DER_uINV_derive_uInv(const TYPE_AS_Type &vdm_DER_uINV_tp, const TYPE_HOL_type_uexpr &vdm_DER_uINV_hol_utp) {
  Generic varRes_4;
  bool succ_5 = true;
  {
    succ_5 = true;
    if (vdm_DER_uINV_tp.IsRecord() && vdm_AS_BasicType == ((Record) vdm_DER_uINV_tp).GetTag()) {
      Sequence e_l_8;
      for (int i_9 = 1; i_9 <= ((Record) vdm_DER_uINV_tp).Length(); i_9++) 
        e_l_8.ImpAppend(((Record) vdm_DER_uINV_tp).GetField(i_9));
      if (succ_5 = 2 == (Int) e_l_8.Length()) {}
    }
    else 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = vdm_DER_uINV_derive_uBasicInv((Generic) vdm_DER_uINV_tp, (Generic) vdm_DER_uINV_hol_utp);
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_tp.IsRecord() && vdm_AS_QuoteType == ((Record) vdm_DER_uINV_tp).GetTag()) {
      Sequence e_l_12;
      for (int i_13 = 1; i_13 <= ((Record) vdm_DER_uINV_tp).Length(); i_13++) 
        e_l_12.ImpAppend(((Record) vdm_DER_uINV_tp).GetField(i_13));
      if (succ_5 = 2 == (Int) e_l_12.Length()) {}
    }
    else 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = vdm_DER_uINV_derive_uQuoteInv((Generic) vdm_DER_uINV_tp, (Generic) vdm_DER_uINV_hol_utp);
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_tp.IsRecord() && vdm_AS_ProductType == ((Record) vdm_DER_uINV_tp).GetTag()) {
      Sequence e_l_16;
      for (int i_17 = 1; i_17 <= ((Record) vdm_DER_uINV_tp).Length(); i_17++) 
        e_l_16.ImpAppend(((Record) vdm_DER_uINV_tp).GetField(i_17));
      if (succ_5 = 2 == (Int) e_l_16.Length()) {}
    }
    else 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = vdm_DER_uINV_derive_uProductInv((Generic) vdm_DER_uINV_tp, (Generic) vdm_DER_uINV_hol_utp);
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_tp.IsRecord() && vdm_AS_UnionType == ((Record) vdm_DER_uINV_tp).GetTag()) {
      Sequence e_l_20;
      for (int i_21 = 1; i_21 <= ((Record) vdm_DER_uINV_tp).Length(); i_21++) 
        e_l_20.ImpAppend(((Record) vdm_DER_uINV_tp).GetField(i_21));
      if (succ_5 = 2 == (Int) e_l_20.Length()) {}
    }
    else 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = vdm_DER_uINV_derive_uUnionInv((Generic) vdm_DER_uINV_tp, (Generic) vdm_DER_uINV_hol_utp);
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_tp.IsRecord() && vdm_AS_CompositeType == ((Record) vdm_DER_uINV_tp).GetTag()) {
      Sequence e_l_24;
      for (int i_25 = 1; i_25 <= ((Record) vdm_DER_uINV_tp).Length(); i_25++) 
        e_l_24.ImpAppend(((Record) vdm_DER_uINV_tp).GetField(i_25));
      if (succ_5 = 3 == (Int) e_l_24.Length()) {}
    }
    else 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = vdm_DER_uINV_derive_uCompositeInv((Generic) vdm_DER_uINV_tp, (Generic) vdm_DER_uINV_hol_utp);
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_tp.IsRecord() && vdm_AS_OptionalType == ((Record) vdm_DER_uINV_tp).GetTag()) {
      Sequence e_l_28;
      for (int i_29 = 1; i_29 <= ((Record) vdm_DER_uINV_tp).Length(); i_29++) 
        e_l_28.ImpAppend(((Record) vdm_DER_uINV_tp).GetField(i_29));
      if (succ_5 = 2 == (Int) e_l_28.Length()) {}
    }
    else 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = vdm_DER_uINV_derive_uOptionalInv((Generic) vdm_DER_uINV_tp, (Generic) vdm_DER_uINV_hol_utp);
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_tp.IsRecord() && vdm_AS_Seq0Type == ((Record) vdm_DER_uINV_tp).GetTag()) {
      Sequence e_l_32;
      for (int i_33 = 1; i_33 <= ((Record) vdm_DER_uINV_tp).Length(); i_33++) 
        e_l_32.ImpAppend(((Record) vdm_DER_uINV_tp).GetField(i_33));
      if (succ_5 = 2 == (Int) e_l_32.Length()) {}
    }
    else 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = vdm_DER_uINV_derive_uSeq0Inv((Generic) vdm_DER_uINV_tp, (Generic) vdm_DER_uINV_hol_utp);
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_tp.IsRecord() && vdm_AS_Seq1Type == ((Record) vdm_DER_uINV_tp).GetTag()) {
      Sequence e_l_36;
      for (int i_37 = 1; i_37 <= ((Record) vdm_DER_uINV_tp).Length(); i_37++) 
        e_l_36.ImpAppend(((Record) vdm_DER_uINV_tp).GetField(i_37));
      if (succ_5 = 2 == (Int) e_l_36.Length()) {}
    }
    else 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = vdm_DER_uINV_derive_uSeq1Inv((Generic) vdm_DER_uINV_tp, (Generic) vdm_DER_uINV_hol_utp);
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_tp.IsRecord() && vdm_AS_BracketedType == ((Record) vdm_DER_uINV_tp).GetTag()) {
      Sequence e_l_40;
      for (int i_41 = 1; i_41 <= ((Record) vdm_DER_uINV_tp).Length(); i_41++) 
        e_l_40.ImpAppend(((Record) vdm_DER_uINV_tp).GetField(i_41));
      if (succ_5 = 2 == (Int) e_l_40.Length()) {}
    }
    else 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = vdm_DER_uINV_derive_uBracketedInv((Generic) vdm_DER_uINV_tp, (Generic) vdm_DER_uINV_hol_utp);
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_tp.IsRecord() && vdm_AS_SetType == ((Record) vdm_DER_uINV_tp).GetTag()) {
      Sequence e_l_44;
      for (int i_45 = 1; i_45 <= ((Record) vdm_DER_uINV_tp).Length(); i_45++) 
        e_l_44.ImpAppend(((Record) vdm_DER_uINV_tp).GetField(i_45));
      if (succ_5 = 2 == (Int) e_l_44.Length()) {}
    }
    else 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = vdm_DER_uINV_derive_uSetInv((Generic) vdm_DER_uINV_tp, (Generic) vdm_DER_uINV_hol_utp);
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_tp.IsRecord() && vdm_AS_GeneralMapType == ((Record) vdm_DER_uINV_tp).GetTag()) {
      Sequence e_l_48;
      for (int i_49 = 1; i_49 <= ((Record) vdm_DER_uINV_tp).Length(); i_49++) 
        e_l_48.ImpAppend(((Record) vdm_DER_uINV_tp).GetField(i_49));
      if (succ_5 = 3 == (Int) e_l_48.Length()) {}
    }
    else 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = vdm_DER_uINV_derive_uGeneralMapInv((Generic) vdm_DER_uINV_tp, (Generic) vdm_DER_uINV_hol_utp);
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_tp.IsRecord() && vdm_AS_InjectiveMapType == ((Record) vdm_DER_uINV_tp).GetTag()) {
      Sequence e_l_52;
      for (int i_53 = 1; i_53 <= ((Record) vdm_DER_uINV_tp).Length(); i_53++) 
        e_l_52.ImpAppend(((Record) vdm_DER_uINV_tp).GetField(i_53));
      if (succ_5 = 3 == (Int) e_l_52.Length()) {}
    }
    else 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = vdm_DER_uINV_derive_uInjectiveMapInv((Generic) vdm_DER_uINV_tp, (Generic) vdm_DER_uINV_hol_utp);
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_tp.IsRecord() && vdm_AS_PartialFnType == ((Record) vdm_DER_uINV_tp).GetTag()) {
      Sequence e_l_56;
      for (int i_57 = 1; i_57 <= ((Record) vdm_DER_uINV_tp).Length(); i_57++) 
        e_l_56.ImpAppend(((Record) vdm_DER_uINV_tp).GetField(i_57));
      if (succ_5 = 3 == (Int) e_l_56.Length()) {}
    }
    else 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = vdm_DER_uINV_derive_uPartialFnInv((Generic) vdm_DER_uINV_tp, (Generic) vdm_DER_uINV_hol_utp);
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_tp.IsRecord() && vdm_AS_TotalFnType == ((Record) vdm_DER_uINV_tp).GetTag()) {
      Sequence e_l_60;
      for (int i_61 = 1; i_61 <= ((Record) vdm_DER_uINV_tp).Length(); i_61++) 
        e_l_60.ImpAppend(((Record) vdm_DER_uINV_tp).GetField(i_61));
      if (succ_5 = 3 == (Int) e_l_60.Length()) {}
    }
    else 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = vdm_DER_uINV_derive_uTotalFnInv((Generic) vdm_DER_uINV_tp, (Generic) vdm_DER_uINV_hol_utp);
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_tp.IsRecord() && vdm_AS_TypeName == ((Record) vdm_DER_uINV_tp).GetTag()) {
      Sequence e_l_64;
      for (int i_65 = 1; i_65 <= ((Record) vdm_DER_uINV_tp).Length(); i_65++) 
        e_l_64.ImpAppend(((Record) vdm_DER_uINV_tp).GetField(i_65));
      if (succ_5 = 2 == (Int) e_l_64.Length()) {}
    }
    else 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = vdm_DER_uINV_derive_uTypeNameInv((Generic) vdm_DER_uINV_tp, (Generic) vdm_DER_uINV_hol_utp);
  }
  if (!succ_5) {
    succ_5 = true;
    if (vdm_DER_uINV_tp.IsRecord() && vdm_AS_TypeVar == ((Record) vdm_DER_uINV_tp).GetTag()) {
      Sequence e_l_68;
      for (int i_69 = 1; i_69 <= ((Record) vdm_DER_uINV_tp).Length(); i_69++) 
        e_l_68.ImpAppend(((Record) vdm_DER_uINV_tp).GetField(i_69));
      if (succ_5 = 2 == (Int) e_l_68.Length()) {}
    }
    else 
      succ_5 = false;
    if (succ_5) 
      varRes_4 = vdm_DER_uINV_derive_uTypeVarInv((Generic) vdm_DER_uINV_tp, (Generic) vdm_DER_uINV_hol_utp);
  }
  if (!succ_5) 
    RunTime("Can not evaluate an undefined expression");
  return (Generic) varRes_4;
}
#endif

#ifndef DEF_DER_uINV_derive_uOptionalInv

Generic vdm_DER_uINV_derive_uOptionalInv(const TYPE_AS_OptionalType &var_1_1, const TYPE_HOL_term_utype &var_2_2) {
  Record vdm_DER_uINV_hol_utp;
  Record vdm_DER_uINV_tp;
  bool succ_3 = true;
  if (var_1_1.IsRecord() && vdm_AS_OptionalType == var_1_1.GetTag()) {
    Sequence e_l_5;
    for (int i_6 = 1; i_6 <= var_1_1.Length(); i_6++) 
      e_l_5.ImpAppend(var_1_1.GetField(i_6));
    if (succ_3 = 2 == (Int) e_l_5.Length()) 
      vdm_DER_uINV_tp = (Generic) e_l_5.Hd();
  }
  else 
    succ_3 = false;
  vdm_DER_uINV_hol_utp = var_2_2;
  if (!succ_3) 
    RunTime("Pattern Match in Function Apply in function : derive_uOptionalInv failed");
  return (Generic) Nil();
}
#endif

#ifndef DEF_DER_uINV_derive_uPartialFnInv

Generic vdm_DER_uINV_derive_uPartialFnInv(const TYPE_AS_PartialFnType &var_1_1, const TYPE_HOL_term_utype &var_2_2) {
  Sequence vdm_DER_uINV_fndom;
  Record vdm_DER_uINV_fnrng;
  Record vdm_DER_uINV_hol_utp;
  bool succ_3 = true;
  if (var_1_1.IsRecord() && vdm_AS_PartialFnType == var_1_1.GetTag()) {
    Sequence e_l_5;
    for (int i_6 = 1; i_6 <= var_1_1.Length(); i_6++) 
      e_l_5.ImpAppend(var_1_1.GetField(i_6));
    if (succ_3 = 3 == (Int) e_l_5.Length()) {
      vdm_DER_uINV_fndom = (Generic) e_l_5.Hd();
      vdm_DER_uINV_fnrng = (Generic) e_l_5[2];
    }
  }
  else 
    succ_3 = false;
  vdm_DER_uINV_hol_utp = var_2_2;
  if (!succ_3) 
    RunTime("Pattern Match in Function Apply in function : derive_uPartialFnInv failed");
  return (Generic) Nil();
}
#endif

#ifndef DEF_DER_uINV_derive_uProductInv

Generic vdm_DER_uINV_derive_uProductInv(const TYPE_AS_ProductType &var_1_1, const TYPE_HOL_Prod_utype &var_2_2) {
  Record vdm_DER_uINV_hol_utp(vdm_HOL_Prod_utype, length_HOL_Prod_utype);
  Sequence vdm_DER_uINV_stp;
  bool succ_3 = true;
  if (var_1_1.IsRecord() && vdm_AS_ProductType == var_1_1.GetTag()) {
    Sequence e_l_115;
    for (int i_116 = 1; i_116 <= var_1_1.Length(); i_116++) 
      e_l_115.ImpAppend(var_1_1.GetField(i_116));
    if (succ_3 = 2 == (Int) e_l_115.Length()) 
      vdm_DER_uINV_stp = (Generic) e_l_115.Hd();
  }
  else 
    succ_3 = false;
  vdm_DER_uINV_hol_utp = var_2_2;
  if (!succ_3) 
    RunTime("Pattern Match in Function Apply in function : derive_uProductInv failed");
  Generic varRes_4;
  {
    Sequence vdm_DER_uINV_hol_ustp;
    if (vdm_DER_uINV_hol_utp.Is(vdm_HOL_Prod_utype)) 
      vdm_DER_uINV_hol_ustp = vdm_DER_uINV_hol_utp.GetField(pos_HOL_Prod_utype_elmtps);
    else 
      RunTime("Unknown record field selector");
    Sequence vdm_DER_uINV_invs;
    {
      Sequence res_l_9;
      Set resBind_s_11;
      Set riseq_15;
      int max_16 = (Int) vdm_DER_uINV_stp.Length();
      for (int i_17 = 1; i_17 <= max_16; i_17++) 
        riseq_15.Insert((Int) i_17);
      resBind_s_11 = riseq_15;
      Sequence bind_l_10;
      if ((Int) resBind_s_11.Card() != (Int) 0) 
        bind_l_10 = Sort(resBind_s_11);
      bool succ_12 = true;
      Int vdm_DER_uINV_i;
      Generic tmpe_26;
      for (int i_25 = bind_l_10.First(tmpe_26); i_25; i_25 = bind_l_10.Next(tmpe_26)) {
        Int e_13 = tmpe_26;
        vdm_DER_uINV_i = e_13;
        if (succ_12) 
          res_l_9.ImpAppend(vdm_DER_uINV_derive_uInv((Generic) (Record) vdm_DER_uINV_stp[vdm_DER_uINV_i.GetValue()], (Generic) (Record) vdm_DER_uINV_hol_ustp[vdm_DER_uINV_i.GetValue()]));
      }
      vdm_DER_uINV_invs = res_l_9;
    }
    Sequence vdm_DER_uINV_projs;
    {
      Sequence res_l_28;
      Set resBind_s_30;
      Set riseq_34;
      int max_35 = (Int) vdm_DER_uINV_stp.Length();
      for (int i_36 = 1; i_36 <= max_35; i_36++) 
        riseq_34.Insert((Int) i_36);
      resBind_s_30 = riseq_34;
      Sequence bind_l_29;
      if ((Int) resBind_s_30.Card() != (Int) 0) 
        bind_l_29 = Sort(resBind_s_30);
      bool succ_31 = true;
      Int vdm_DER_uINV_i;
      Generic tmpe_41;
      for (int i_40 = bind_l_29.First(tmpe_41); i_40; i_40 = bind_l_29.Next(tmpe_41)) {
        Int e_32 = tmpe_41;
        vdm_DER_uINV_i = e_32;
        if (succ_31) {
          Record reselem_37(vdm_HOL_Proj, length_HOL_Proj);
          reselem_37 = Record(vdm_HOL_Proj, length_HOL_Proj);
          reselem_37.SetField(1, vdm_DER_uINV_i);
          reselem_37.SetField(2, vdm_DER_uINV_hol_utp);
          res_l_28.ImpAppend(reselem_37);
        }
      }
      vdm_DER_uINV_projs = res_l_28;
    }
    Set vdm_DER_uINV_fv;
    Set unArg_43;
    Set res_s_44;
    {
      bool succ_54 = true;
      Set e_set_55;      Set riseq_57;      int max_58 = (Int) vdm_DER_uINV_invs.Length();      for (int i_59 = 1; i_59 <= max_58; i_59++) 
        riseq_57.Insert((Int) i_59);      e_set_55 = riseq_57;
      Int vdm_DER_uINV_i;
      {
        Generic tmpe_62;
        for (int bb_61 = e_set_55.First(tmpe_62); bb_61; bb_61 = e_set_55.Next(tmpe_62)) {
          Int elem_60 = tmpe_62;
          succ_54 = true;          vdm_DER_uINV_i = elem_60;          if (succ_54) { if (((Bool) !((Generic) vdm_DER_uINV_invs[vdm_DER_uINV_i.GetValue()] == Nil())).GetValue()) {
   Set res_s_45;
   if (((Generic) vdm_DER_uINV_invs[vdm_DER_uINV_i.GetValue()]).IsRecord()) 
     if (((Record) (Generic) vdm_DER_uINV_invs[vdm_DER_uINV_i.GetValue()]).Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
       res_s_45 = ((Record) (Generic) vdm_DER_uINV_invs[vdm_DER_uINV_i.GetValue()]).GetField(pos_TRL_uTAR_uEXPR_EXPR_fv);
     else 
       RunTime("Unknown record field selector");
   else 
     RunTime("A record was expected");
   res_s_44.Insert(res_s_45);
 } }
        }
      }
    }
    unArg_43 = res_s_44;
    Set rduset_63;    Generic tmpe_66;    for (int bb_65 = unArg_43.First(tmpe_66); bb_65; bb_65 = unArg_43.Next(tmpe_66)) {
      Set e_64 = tmpe_66;
      rduset_63.ImpUnion(e_64);
    }    vdm_DER_uINV_fv = rduset_63;
    Sequence vdm_DER_uINV_var_unm = vdm_DER_uINV_GetNewName((Generic) vdm_DER_uINV_fv);
    Record vdm_DER_uINV_var(vdm_HOL_Var, length_HOL_Var);
    vdm_DER_uINV_var = Record(vdm_HOL_Var, length_HOL_Var);
    vdm_DER_uINV_var.SetField(1, vdm_DER_uINV_var_unm);
    vdm_DER_uINV_var.SetField(2, vdm_DER_uINV_hol_utp);
    Sequence vdm_DER_uINV_conjs;
    {
      Sequence res_l_73;
      Set resBind_s_75;
      Set riseq_79;
      int max_80 = (Int) vdm_DER_uINV_invs.Length();
      for (int i_81 = 1; i_81 <= max_80; i_81++) 
        riseq_79.Insert((Int) i_81);
      resBind_s_75 = riseq_79;
      Sequence bind_l_74;
      if ((Int) resBind_s_75.Card() != (Int) 0) 
        bind_l_74 = Sort(resBind_s_75);
      bool succ_76 = true;
      Int vdm_DER_uINV_i;
      Generic tmpe_100;
      for (int i_99 = bind_l_74.First(tmpe_100); i_99; i_99 = bind_l_74.Next(tmpe_100)) {
        Int e_77 = tmpe_100;
        vdm_DER_uINV_i = e_77;
        if (succ_76) 
          if (((Bool) !((Generic) vdm_DER_uINV_invs[vdm_DER_uINV_i.GetValue()] == Nil())).GetValue()) {
            Record reselem_82(vdm_HOL_Comb, length_HOL_Comb);
            reselem_82 = Record(vdm_HOL_Comb, length_HOL_Comb);
            Record tmpVar_83;
            if (((Generic) vdm_DER_uINV_invs[vdm_DER_uINV_i.GetValue()]).IsRecord()) 
              if (((Record) (Generic) vdm_DER_uINV_invs[vdm_DER_uINV_i.GetValue()]).Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
                tmpVar_83 = ((Record) (Generic) vdm_DER_uINV_invs[vdm_DER_uINV_i.GetValue()]).GetField(pos_TRL_uTAR_uEXPR_EXPR_tm);
              else 
                RunTime("Unknown record field selector");
            else 
              RunTime("A record was expected");
            reselem_82.SetField(1, tmpVar_83);
            Sequence tmpVar_87;
            Record e_seq_88(vdm_HOL_Comb, length_HOL_Comb);
            e_seq_88 = Record(vdm_HOL_Comb, length_HOL_Comb);
            e_seq_88.SetField(1, (Record) vdm_DER_uINV_projs[vdm_DER_uINV_i.GetValue()]);
            Sequence tmpVar_92;
            tmpVar_92 = Sequence().ImpAppend(vdm_DER_uINV_var);
            e_seq_88.SetField(2, tmpVar_92);
            tmpVar_87 = Sequence().ImpAppend(e_seq_88);
            reselem_82.SetField(2, tmpVar_87);
            res_l_73.ImpAppend(reselem_82);
          }
      }
      vdm_DER_uINV_conjs = res_l_73;
    }
    if (((Bool) (vdm_DER_uINV_conjs == Sequence())).GetValue()) 
      varRes_4 = Nil();
    else {
      varRes_4 = Record(vdm_TRL_uTAR_uEXPR_EXPR, length_TRL_uTAR_uEXPR_EXPR);
      Record tmpVar_105(vdm_HOL_Abs, length_HOL_Abs);
      tmpVar_105 = Record(vdm_HOL_Abs, length_HOL_Abs);
      Sequence tmpVar_106;
      tmpVar_106 = Sequence().ImpAppend(vdm_DER_uINV_var);
      tmpVar_105.SetField(1, tmpVar_106);
      Record tmpVar_108(vdm_HOL_Conj, length_HOL_Conj);
      tmpVar_108 = Record(vdm_HOL_Conj, length_HOL_Conj);
      tmpVar_108.SetField(1, vdm_DER_uINV_conjs);
      tmpVar_105.SetField(2, tmpVar_108);
      varRes_4 = Record(varRes_4).SetField(1, tmpVar_105);
      Record tmpVar_110(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
      tmpVar_110 = Record(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
      Sequence tmpVar_111;
      tmpVar_111 = Sequence().ImpAppend(vdm_DER_uINV_hol_utp);
      tmpVar_111.ImpAppend(Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
      tmpVar_110.SetField(1, tmpVar_111);
      varRes_4 = Record(varRes_4).SetField(2, tmpVar_110);
      varRes_4 = Record(varRes_4).SetField(3, vdm_DER_uINV_fv);
    }
  }
  return (Generic) varRes_4;
}
#endif

#ifndef DEF_DER_uINV_derive_uQuoteInv

Generic vdm_DER_uINV_derive_uQuoteInv(const TYPE_AS_QuoteType &var_1_1, const TYPE_HOL_term_utype &var_2_2) {
  Record vdm_DER_uINV_hol_ubtp;
  Record vdm_DER_uINV_lit(vdm_AS_QuoteLit, length_AS_QuoteLit);
  bool succ_3 = true;
  if (var_1_1.IsRecord() && vdm_AS_QuoteType == var_1_1.GetTag()) {
    Sequence e_l_5;
    for (int i_6 = 1; i_6 <= var_1_1.Length(); i_6++) 
      e_l_5.ImpAppend(var_1_1.GetField(i_6));
    if (succ_3 = 2 == (Int) e_l_5.Length()) 
      vdm_DER_uINV_lit = (Generic) e_l_5.Hd();
  }
  else 
    succ_3 = false;
  vdm_DER_uINV_hol_ubtp = var_2_2;
  if (!succ_3) 
    RunTime("Pattern Match in Function Apply in function : derive_uQuoteInv failed");
  return (Generic) Nil();
}
#endif

#ifndef DEF_DER_uINV_derive_uSeq0Inv

Generic vdm_DER_uINV_derive_uSeq0Inv(const TYPE_AS_Seq0Type &var_1_1, const TYPE_HOL_term_utype &var_2_2) {
  Record vdm_DER_uINV_elemtp;
  Record vdm_DER_uINV_hol_utp;
  bool succ_3 = true;
  if (var_1_1.IsRecord() && vdm_AS_Seq0Type == var_1_1.GetTag()) {
    Sequence e_l_75;
    for (int i_76 = 1; i_76 <= var_1_1.Length(); i_76++) 
      e_l_75.ImpAppend(var_1_1.GetField(i_76));
    if (succ_3 = 2 == (Int) e_l_75.Length()) 
      vdm_DER_uINV_elemtp = (Generic) e_l_75.Hd();
  }
  else 
    succ_3 = false;
  vdm_DER_uINV_hol_utp = var_2_2;
  if (!succ_3) 
    RunTime("Pattern Match in Function Apply in function : derive_uSeq0Inv failed");
  Generic varRes_4;
  {
    bool succ_5;
    Record tmpVal_6;
    tmpVal_6 = vdm_DER_uINV_hol_utp;
    Record vdm_DER_uINV_hol_uelemtp;
    succ_5 = true;
    if (tmpVal_6.IsRecord() && vdm_HOL_List_utype == ((Record) tmpVal_6).GetTag()) {
      Sequence e_l_7;
      for (int i_8 = 1; i_8 <= ((Record) tmpVal_6).Length(); i_8++) 
        e_l_7.ImpAppend(((Record) tmpVal_6).GetField(i_8));
      if (succ_5 = 1 == (Int) e_l_7.Length()) 
        vdm_DER_uINV_hol_uelemtp = (Record) e_l_7.Hd();
    }
    else 
      succ_5 = false;
    if (!succ_5) 
      RunTime("Pattern match did not succeed in value definition");
    Generic vdm_DER_uINV_elemtp_uinv = vdm_DER_uINV_derive_uInv((Generic) vdm_DER_uINV_elemtp, (Generic) vdm_DER_uINV_hol_uelemtp);
    if (((Bool) (vdm_DER_uINV_elemtp_uinv == Nil())).GetValue()) 
      varRes_4 = Nil();
    else {
      Set vdm_DER_uINV_fv;
      if (((Bool) (vdm_DER_uINV_elemtp_uinv == Nil())).GetValue()) 
        vdm_DER_uINV_fv = Set();
      else 
        if (vdm_DER_uINV_elemtp_uinv.IsRecord()) 
          if (((Record) vdm_DER_uINV_elemtp_uinv).Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
            vdm_DER_uINV_fv = ((Record) vdm_DER_uINV_elemtp_uinv).GetField(pos_TRL_uTAR_uEXPR_EXPR_fv);
          else 
            RunTime("Unknown record field selector");
        else 
          RunTime("A record was expected");
      Sequence vdm_DER_uINV_xs_unm = vdm_DER_uINV_GetNewName((Generic) vdm_DER_uINV_fv);
      Sequence vdm_DER_uINV_x_unm;
      Set par_26;
      Set var2_28;
      var2_28 = Set().Insert(vdm_DER_uINV_xs_unm);
      par_26 = vdm_DER_uINV_fv;
      par_26.ImpUnion(var2_28);
      vdm_DER_uINV_x_unm = vdm_DER_uINV_GetNewName((Generic) par_26);
      Record vdm_DER_uINV_xs(vdm_HOL_Var, length_HOL_Var);
      vdm_DER_uINV_xs = Record(vdm_HOL_Var, length_HOL_Var);
      vdm_DER_uINV_xs.SetField(1, vdm_DER_uINV_xs_unm);
      vdm_DER_uINV_xs.SetField(2, vdm_DER_uINV_hol_utp);
      Record vdm_DER_uINV_x(vdm_HOL_Var, length_HOL_Var);
      vdm_DER_uINV_x = Record(vdm_HOL_Var, length_HOL_Var);
      vdm_DER_uINV_x.SetField(1, vdm_DER_uINV_x_unm);
      vdm_DER_uINV_x.SetField(2, vdm_DER_uINV_hol_uelemtp);
      Record vdm_DER_uINV_elm_utm = vdm_TRANS_UnaryOpTable((Generic) (Quote) "SEQELEMS", (Generic) vdm_DER_uINV_hol_utp, (Generic) Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
      Record vdm_DER_uINV_elm_uset_uxs(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_elm_uset_uxs = Record(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_elm_uset_uxs.SetField(1, vdm_DER_uINV_elm_utm);
      Sequence tmpVar_42;
      tmpVar_42 = Sequence().ImpAppend(vdm_DER_uINV_xs);
      vdm_DER_uINV_elm_uset_uxs.SetField(2, tmpVar_42);
      Record vdm_DER_uINV_in_uset = vdm_TRANS_BinaryOpTable((Generic) (Quote) "INSET", (Generic) vdm_DER_uINV_hol_uelemtp, (Generic) vdm_DER_uINV_hol_utp, (Generic) Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
      Record vdm_DER_uINV_x_uin_uelems_uxs(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_x_uin_uelems_uxs = Record(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_x_uin_uelems_uxs.SetField(1, vdm_DER_uINV_in_uset);
      Sequence tmpVar_51;
      tmpVar_51 = Sequence().ImpAppend(vdm_DER_uINV_x);
      tmpVar_51.ImpAppend(vdm_DER_uINV_elm_uset_uxs);
      vdm_DER_uINV_x_uin_uelems_uxs.SetField(2, tmpVar_51);
      Record vdm_DER_uINV_apply_uinv_ux(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_apply_uinv_ux = Record(vdm_HOL_Comb, length_HOL_Comb);
      Record tmpVar_55;
      if (vdm_DER_uINV_elemtp_uinv.IsRecord()) 
        if (((Record) vdm_DER_uINV_elemtp_uinv).Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
          tmpVar_55 = ((Record) vdm_DER_uINV_elemtp_uinv).GetField(pos_TRL_uTAR_uEXPR_EXPR_tm);
        else 
          RunTime("Unknown record field selector");
      else 
        RunTime("A record was expected");
      vdm_DER_uINV_apply_uinv_ux.SetField(1, tmpVar_55);
      Sequence tmpVar_57;
      tmpVar_57 = Sequence().ImpAppend(vdm_DER_uINV_x);
      vdm_DER_uINV_apply_uinv_ux.SetField(2, tmpVar_57);
      Record vdm_DER_uINV_tm(vdm_HOL_Abs, length_HOL_Abs);
      vdm_DER_uINV_tm = Record(vdm_HOL_Abs, length_HOL_Abs);
      Sequence tmpVar_60;
      tmpVar_60 = Sequence().ImpAppend(vdm_DER_uINV_xs);
      vdm_DER_uINV_tm.SetField(1, tmpVar_60);
      Record tmpVar_62(vdm_HOL_Forall, length_HOL_Forall);
      tmpVar_62 = Record(vdm_HOL_Forall, length_HOL_Forall);
      Sequence tmpVar_63;
      tmpVar_63 = Sequence().ImpAppend(vdm_DER_uINV_x);
      tmpVar_62.SetField(1, tmpVar_63);
      Record tmpVar_65(vdm_HOL_Imp, length_HOL_Imp);
      tmpVar_65 = Record(vdm_HOL_Imp, length_HOL_Imp);
      tmpVar_65.SetField(1, vdm_DER_uINV_x_uin_uelems_uxs);
      tmpVar_65.SetField(2, vdm_DER_uINV_apply_uinv_ux);
      tmpVar_62.SetField(2, tmpVar_65);
      vdm_DER_uINV_tm.SetField(2, tmpVar_62);
      Record vdm_DER_uINV_tp(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
      vdm_DER_uINV_tp = Record(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
      Sequence tmpVar_69;
      tmpVar_69 = Sequence().ImpAppend(vdm_DER_uINV_hol_utp);
      tmpVar_69.ImpAppend(Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
      vdm_DER_uINV_tp.SetField(1, tmpVar_69);
      varRes_4 = Record(vdm_TRL_uTAR_uEXPR_EXPR, length_TRL_uTAR_uEXPR_EXPR);
      varRes_4 = Record(varRes_4).SetField(1, vdm_DER_uINV_tm);
      varRes_4 = Record(varRes_4).SetField(2, vdm_DER_uINV_tp);
      varRes_4 = Record(varRes_4).SetField(3, vdm_DER_uINV_fv);
    }
  }
  return (Generic) varRes_4;
}
#endif

#ifndef DEF_DER_uINV_derive_uSeq1Inv

Generic vdm_DER_uINV_derive_uSeq1Inv(const TYPE_AS_Seq1Type &var_1_1, const TYPE_HOL_term_utype &var_2_2) {
  Record vdm_DER_uINV_elemtp;
  Record vdm_DER_uINV_hol_utp;
  bool succ_3 = true;
  if (var_1_1.IsRecord() && vdm_AS_Seq1Type == var_1_1.GetTag()) {
    Sequence e_l_100;
    for (int i_101 = 1; i_101 <= var_1_1.Length(); i_101++) 
      e_l_100.ImpAppend(var_1_1.GetField(i_101));
    if (succ_3 = 2 == (Int) e_l_100.Length()) 
      vdm_DER_uINV_elemtp = (Generic) e_l_100.Hd();
  }
  else 
    succ_3 = false;
  vdm_DER_uINV_hol_utp = var_2_2;
  if (!succ_3) 
    RunTime("Pattern Match in Function Apply in function : derive_uSeq1Inv failed");
  Record varRes_4(vdm_TRL_uTAR_uEXPR_EXPR, length_TRL_uTAR_uEXPR_EXPR);
  {
    bool succ_5;
    Record tmpVal_6;
    tmpVal_6 = vdm_DER_uINV_hol_utp;
    Record vdm_DER_uINV_hol_uelemtp;
    succ_5 = true;
    if (tmpVal_6.IsRecord() && vdm_HOL_List_utype == ((Record) tmpVal_6).GetTag()) {
      Sequence e_l_7;
      for (int i_8 = 1; i_8 <= ((Record) tmpVal_6).Length(); i_8++) 
        e_l_7.ImpAppend(((Record) tmpVal_6).GetField(i_8));
      if (succ_5 = 1 == (Int) e_l_7.Length()) 
        vdm_DER_uINV_hol_uelemtp = (Record) e_l_7.Hd();
    }
    else 
      succ_5 = false;
    if (!succ_5) 
      RunTime("Pattern match did not succeed in value definition");
    Generic vdm_DER_uINV_elemtp_uinv = vdm_DER_uINV_derive_uInv((Generic) vdm_DER_uINV_elemtp, (Generic) vdm_DER_uINV_hol_uelemtp);
    Set vdm_DER_uINV_fv;
    if (((Bool) (vdm_DER_uINV_elemtp_uinv == Nil())).GetValue()) 
      vdm_DER_uINV_fv = Set();
    else 
      if (vdm_DER_uINV_elemtp_uinv.IsRecord()) 
        if (((Record) vdm_DER_uINV_elemtp_uinv).Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
          vdm_DER_uINV_fv = ((Record) vdm_DER_uINV_elemtp_uinv).GetField(pos_TRL_uTAR_uEXPR_EXPR_fv);
        else 
          RunTime("Unknown record field selector");
      else 
        RunTime("A record was expected");
    Sequence vdm_DER_uINV_xs_unm = vdm_DER_uINV_GetNewName((Generic) vdm_DER_uINV_fv);
    Record vdm_DER_uINV_xs(vdm_HOL_Var, length_HOL_Var);
    vdm_DER_uINV_xs = Record(vdm_HOL_Var, length_HOL_Var);
    vdm_DER_uINV_xs.SetField(1, vdm_DER_uINV_xs_unm);
    vdm_DER_uINV_xs.SetField(2, vdm_DER_uINV_hol_utp);
    Record vdm_DER_uINV_empty_useq(vdm_HOL_Const, length_HOL_Const);
    vdm_DER_uINV_empty_useq = Record(vdm_HOL_Const, length_HOL_Const);
    vdm_DER_uINV_empty_useq.SetField(1, Sequence("[]"));
    vdm_DER_uINV_empty_useq.SetField(2, vdm_DER_uINV_hol_utp);
    Record vdm_DER_uINV_ineq = vdm_TRANS_BinaryOpTable((Generic) (Quote) "NE", (Generic) vdm_DER_uINV_hol_utp, (Generic) vdm_DER_uINV_hol_utp, (Generic) Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
    Record vdm_DER_uINV_tp(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
    vdm_DER_uINV_tp = Record(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
    Sequence tmpVar_32;
    tmpVar_32 = Sequence().ImpAppend(vdm_DER_uINV_hol_utp);
    tmpVar_32.ImpAppend(Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
    vdm_DER_uINV_tp.SetField(1, tmpVar_32);
    if (((Bool) (vdm_DER_uINV_elemtp_uinv == Nil())).GetValue()) {
      varRes_4 = Record(vdm_TRL_uTAR_uEXPR_EXPR, length_TRL_uTAR_uEXPR_EXPR);
      Record tmpVar_90(vdm_HOL_Abs, length_HOL_Abs);
      tmpVar_90 = Record(vdm_HOL_Abs, length_HOL_Abs);
      Sequence tmpVar_91;
      tmpVar_91 = Sequence().ImpAppend(vdm_DER_uINV_xs);
      tmpVar_90.SetField(1, tmpVar_91);
      Record tmpVar_93(vdm_HOL_Comb, length_HOL_Comb);
      tmpVar_93 = Record(vdm_HOL_Comb, length_HOL_Comb);
      tmpVar_93.SetField(1, vdm_DER_uINV_ineq);
      Sequence tmpVar_95;
      tmpVar_95 = Sequence().ImpAppend(vdm_DER_uINV_xs);
      tmpVar_95.ImpAppend(vdm_DER_uINV_empty_useq);
      tmpVar_93.SetField(2, tmpVar_95);
      tmpVar_90.SetField(2, tmpVar_93);
      varRes_4.SetField(1, tmpVar_90);
      varRes_4.SetField(2, vdm_DER_uINV_tp);
      varRes_4.SetField(3, vdm_DER_uINV_fv);
    }
    else {
      Sequence vdm_DER_uINV_x_unm;
      Set par_41;
      Set var2_43;
      var2_43 = Set().Insert(vdm_DER_uINV_xs_unm);
      par_41 = vdm_DER_uINV_fv;
      par_41.ImpUnion(var2_43);
      vdm_DER_uINV_x_unm = vdm_DER_uINV_GetNewName((Generic) par_41);
      Record vdm_DER_uINV_x(vdm_HOL_Var, length_HOL_Var);
      vdm_DER_uINV_x = Record(vdm_HOL_Var, length_HOL_Var);
      vdm_DER_uINV_x.SetField(1, vdm_DER_uINV_x_unm);
      vdm_DER_uINV_x.SetField(2, vdm_DER_uINV_hol_uelemtp);
      Record vdm_DER_uINV_elm_utm = vdm_TRANS_UnaryOpTable((Generic) (Quote) "SEQELEMS", (Generic) vdm_DER_uINV_hol_utp, (Generic) Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
      Record vdm_DER_uINV_elm_uset_uxs(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_elm_uset_uxs = Record(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_elm_uset_uxs.SetField(1, vdm_DER_uINV_elm_utm);
      Sequence tmpVar_54;
      tmpVar_54 = Sequence().ImpAppend(vdm_DER_uINV_xs);
      vdm_DER_uINV_elm_uset_uxs.SetField(2, tmpVar_54);
      Record vdm_DER_uINV_in_uset = vdm_TRANS_BinaryOpTable((Generic) (Quote) "INSET", (Generic) vdm_DER_uINV_hol_uelemtp, (Generic) vdm_DER_uINV_hol_utp, (Generic) Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
      Record vdm_DER_uINV_x_uin_uelems_uxs(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_x_uin_uelems_uxs = Record(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_x_uin_uelems_uxs.SetField(1, vdm_DER_uINV_in_uset);
      Sequence tmpVar_63;
      tmpVar_63 = Sequence().ImpAppend(vdm_DER_uINV_x);
      tmpVar_63.ImpAppend(vdm_DER_uINV_elm_uset_uxs);
      vdm_DER_uINV_x_uin_uelems_uxs.SetField(2, tmpVar_63);
      Record vdm_DER_uINV_apply_uinv_ux(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_apply_uinv_ux = Record(vdm_HOL_Comb, length_HOL_Comb);
      Record tmpVar_67;
      if (vdm_DER_uINV_elemtp_uinv.IsRecord()) 
        if (((Record) vdm_DER_uINV_elemtp_uinv).Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
          tmpVar_67 = ((Record) vdm_DER_uINV_elemtp_uinv).GetField(pos_TRL_uTAR_uEXPR_EXPR_tm);
        else 
          RunTime("Unknown record field selector");
      else 
        RunTime("A record was expected");
      vdm_DER_uINV_apply_uinv_ux.SetField(1, tmpVar_67);
      Sequence tmpVar_69;
      tmpVar_69 = Sequence().ImpAppend(vdm_DER_uINV_x);
      vdm_DER_uINV_apply_uinv_ux.SetField(2, tmpVar_69);
      Record vdm_DER_uINV_tm(vdm_HOL_Abs, length_HOL_Abs);
      vdm_DER_uINV_tm = Record(vdm_HOL_Abs, length_HOL_Abs);
      Sequence tmpVar_72;
      tmpVar_72 = Sequence().ImpAppend(vdm_DER_uINV_xs);
      vdm_DER_uINV_tm.SetField(1, tmpVar_72);
      Record tmpVar_74(vdm_HOL_Conj, length_HOL_Conj);
      tmpVar_74 = Record(vdm_HOL_Conj, length_HOL_Conj);
      Sequence tmpVar_75;
      Record e_seq_76(vdm_HOL_Forall, length_HOL_Forall);
      e_seq_76 = Record(vdm_HOL_Forall, length_HOL_Forall);
      Sequence tmpVar_77;
      tmpVar_77 = Sequence().ImpAppend(vdm_DER_uINV_x);
      e_seq_76.SetField(1, tmpVar_77);
      Record tmpVar_79(vdm_HOL_Imp, length_HOL_Imp);
      tmpVar_79 = Record(vdm_HOL_Imp, length_HOL_Imp);
      tmpVar_79.SetField(1, vdm_DER_uINV_x_uin_uelems_uxs);
      tmpVar_79.SetField(2, vdm_DER_uINV_apply_uinv_ux);
      e_seq_76.SetField(2, tmpVar_79);
      tmpVar_75 = Sequence().ImpAppend(e_seq_76);
      Record e_seq_82(vdm_HOL_Comb, length_HOL_Comb);
      e_seq_82 = Record(vdm_HOL_Comb, length_HOL_Comb);
      e_seq_82.SetField(1, vdm_DER_uINV_ineq);
      Sequence tmpVar_84;
      tmpVar_84 = Sequence().ImpAppend(vdm_DER_uINV_xs);
      tmpVar_84.ImpAppend(vdm_DER_uINV_empty_useq);
      e_seq_82.SetField(2, tmpVar_84);
      tmpVar_75.ImpAppend(e_seq_82);
      tmpVar_74.SetField(1, tmpVar_75);
      vdm_DER_uINV_tm.SetField(2, tmpVar_74);
      varRes_4 = Record(vdm_TRL_uTAR_uEXPR_EXPR, length_TRL_uTAR_uEXPR_EXPR);
      varRes_4.SetField(1, vdm_DER_uINV_tm);
      varRes_4.SetField(2, vdm_DER_uINV_tp);
      varRes_4.SetField(3, vdm_DER_uINV_fv);
    }
  }
  return (Generic) varRes_4;
}
#endif

#ifndef DEF_DER_uINV_derive_uSetInv

Generic vdm_DER_uINV_derive_uSetInv(const TYPE_AS_SetType &var_1_1, const TYPE_HOL_term_utype &var_2_2) {
  Record vdm_DER_uINV_elemtp;
  Record vdm_DER_uINV_hol_utp;
  bool succ_3 = true;
  if (var_1_1.IsRecord() && vdm_AS_SetType == var_1_1.GetTag()) {
    Sequence e_l_92;
    for (int i_93 = 1; i_93 <= var_1_1.Length(); i_93++) 
      e_l_92.ImpAppend(var_1_1.GetField(i_93));
    if (succ_3 = 2 == (Int) e_l_92.Length()) 
      vdm_DER_uINV_elemtp = (Generic) e_l_92.Hd();
  }
  else 
    succ_3 = false;
  vdm_DER_uINV_hol_utp = var_2_2;
  if (!succ_3) 
    RunTime("Pattern Match in Function Apply in function : derive_uSetInv failed");
  Record varRes_4(vdm_TRL_uTAR_uEXPR_EXPR, length_TRL_uTAR_uEXPR_EXPR);
  {
    bool succ_5;
    Record tmpVal_6;
    tmpVal_6 = vdm_DER_uINV_hol_utp;
    Record vdm_DER_uINV_hol_uelemtp;
    succ_5 = true;
    if (tmpVal_6.IsRecord() && vdm_HOL_Set_utype == ((Record) tmpVal_6).GetTag()) {
      Sequence e_l_7;
      for (int i_8 = 1; i_8 <= ((Record) tmpVal_6).Length(); i_8++) 
        e_l_7.ImpAppend(((Record) tmpVal_6).GetField(i_8));
      if (succ_5 = 1 == (Int) e_l_7.Length()) 
        vdm_DER_uINV_hol_uelemtp = (Record) e_l_7.Hd();
    }
    else 
      succ_5 = false;
    if (!succ_5) 
      RunTime("Pattern match did not succeed in value definition");
    Generic vdm_DER_uINV_elemtp_uinv = vdm_DER_uINV_derive_uInv((Generic) vdm_DER_uINV_elemtp, (Generic) vdm_DER_uINV_hol_uelemtp);
    {
      Set vdm_DER_uINV_fv;
      if (((Bool) (vdm_DER_uINV_elemtp_uinv == Nil())).GetValue()) 
        vdm_DER_uINV_fv = Set();
      else 
        if (vdm_DER_uINV_elemtp_uinv.IsRecord()) 
          if (((Record) vdm_DER_uINV_elemtp_uinv).Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
            vdm_DER_uINV_fv = ((Record) vdm_DER_uINV_elemtp_uinv).GetField(pos_TRL_uTAR_uEXPR_EXPR_fv);
          else 
            RunTime("Unknown record field selector");
        else 
          RunTime("A record was expected");
      Sequence vdm_DER_uINV_xs_unm = vdm_DER_uINV_GetNewName((Generic) vdm_DER_uINV_fv);
      Record vdm_DER_uINV_xs(vdm_HOL_Var, length_HOL_Var);
      vdm_DER_uINV_xs = Record(vdm_HOL_Var, length_HOL_Var);
      vdm_DER_uINV_xs.SetField(1, vdm_DER_uINV_xs_unm);
      vdm_DER_uINV_xs.SetField(2, vdm_DER_uINV_hol_utp);
      Record vdm_DER_uINV_finite_ucons;
      Sequence par_26;
      par_26 = Sequence().ImpAppend(vdm_DER_uINV_hol_utp);
      par_26.ImpAppend(Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
      vdm_DER_uINV_finite_ucons = vdm_TRANS_VdmToHolTable((Generic) (Quote) "FINITE", (Generic) par_26);
      Record vdm_DER_uINV_finite_uset(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_finite_uset = Record(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_finite_uset.SetField(1, vdm_DER_uINV_finite_ucons);
      Sequence tmpVar_31;
      tmpVar_31 = Sequence().ImpAppend(vdm_DER_uINV_xs);
      vdm_DER_uINV_finite_uset.SetField(2, tmpVar_31);
      if (((Bool) !(vdm_DER_uINV_elemtp_uinv == Nil())).GetValue()) {
        Sequence vdm_DER_uINV_x_unm;
        Set par_51;
        Set var2_53;
        var2_53 = Set().Insert(vdm_DER_uINV_xs_unm);
        par_51 = vdm_DER_uINV_fv;
        par_51.ImpUnion(var2_53);
        vdm_DER_uINV_x_unm = vdm_DER_uINV_GetNewName((Generic) par_51);
        Record vdm_DER_uINV_x(vdm_HOL_Var, length_HOL_Var);
        vdm_DER_uINV_x = Record(vdm_HOL_Var, length_HOL_Var);
        vdm_DER_uINV_x.SetField(1, vdm_DER_uINV_x_unm);
        vdm_DER_uINV_x.SetField(2, vdm_DER_uINV_hol_uelemtp);
        Record vdm_DER_uINV_in_uset = vdm_TRANS_BinaryOpTable((Generic) (Quote) "INSET", (Generic) vdm_DER_uINV_hol_uelemtp, (Generic) vdm_DER_uINV_hol_utp, (Generic) Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
        Record vdm_DER_uINV_x_uin_uset_uxs(vdm_HOL_Comb, length_HOL_Comb);
        vdm_DER_uINV_x_uin_uset_uxs = Record(vdm_HOL_Comb, length_HOL_Comb);
        vdm_DER_uINV_x_uin_uset_uxs.SetField(1, vdm_DER_uINV_in_uset);
        Sequence tmpVar_65;
        tmpVar_65 = Sequence().ImpAppend(vdm_DER_uINV_x);
        tmpVar_65.ImpAppend(vdm_DER_uINV_xs);
        vdm_DER_uINV_x_uin_uset_uxs.SetField(2, tmpVar_65);
        Record vdm_DER_uINV_apply_uinv_ux(vdm_HOL_Comb, length_HOL_Comb);
        vdm_DER_uINV_apply_uinv_ux = Record(vdm_HOL_Comb, length_HOL_Comb);
        Record tmpVar_69;
        if (vdm_DER_uINV_elemtp_uinv.IsRecord()) 
          if (((Record) vdm_DER_uINV_elemtp_uinv).Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
            tmpVar_69 = ((Record) vdm_DER_uINV_elemtp_uinv).GetField(pos_TRL_uTAR_uEXPR_EXPR_tm);
          else 
            RunTime("Unknown record field selector");
        else 
          RunTime("A record was expected");
        vdm_DER_uINV_apply_uinv_ux.SetField(1, tmpVar_69);
        Sequence tmpVar_71;
        tmpVar_71 = Sequence().ImpAppend(vdm_DER_uINV_x);
        vdm_DER_uINV_apply_uinv_ux.SetField(2, tmpVar_71);
        Record vdm_DER_uINV_tm(vdm_HOL_Abs, length_HOL_Abs);
        vdm_DER_uINV_tm = Record(vdm_HOL_Abs, length_HOL_Abs);
        Sequence tmpVar_74;
        tmpVar_74 = Sequence().ImpAppend(vdm_DER_uINV_xs);
        vdm_DER_uINV_tm.SetField(1, tmpVar_74);
        Record tmpVar_76(vdm_HOL_Conj, length_HOL_Conj);
        tmpVar_76 = Record(vdm_HOL_Conj, length_HOL_Conj);
        Sequence tmpVar_77;
        Record e_seq_78(vdm_HOL_Forall, length_HOL_Forall);
        e_seq_78 = Record(vdm_HOL_Forall, length_HOL_Forall);
        Sequence tmpVar_79;
        tmpVar_79 = Sequence().ImpAppend(vdm_DER_uINV_x);
        e_seq_78.SetField(1, tmpVar_79);
        Record tmpVar_81(vdm_HOL_Imp, length_HOL_Imp);
        tmpVar_81 = Record(vdm_HOL_Imp, length_HOL_Imp);
        tmpVar_81.SetField(1, vdm_DER_uINV_x_uin_uset_uxs);
        tmpVar_81.SetField(2, vdm_DER_uINV_apply_uinv_ux);
        e_seq_78.SetField(2, tmpVar_81);
        tmpVar_77 = Sequence().ImpAppend(e_seq_78);
        tmpVar_77.ImpAppend(vdm_DER_uINV_finite_uset);
        tmpVar_76.SetField(1, tmpVar_77);
        vdm_DER_uINV_tm.SetField(2, tmpVar_76);
        Record vdm_DER_uINV_tp(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
        vdm_DER_uINV_tp = Record(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
        Sequence tmpVar_86;
        tmpVar_86 = Sequence().ImpAppend(vdm_DER_uINV_hol_utp);
        tmpVar_86.ImpAppend(Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
        vdm_DER_uINV_tp.SetField(1, tmpVar_86);
        varRes_4 = Record(vdm_TRL_uTAR_uEXPR_EXPR, length_TRL_uTAR_uEXPR_EXPR);
        varRes_4.SetField(1, vdm_DER_uINV_tm);
        varRes_4.SetField(2, vdm_DER_uINV_tp);
        varRes_4.SetField(3, vdm_DER_uINV_fv);
      }
      else {
        Record vdm_DER_uINV_tm(vdm_HOL_Abs, length_HOL_Abs);
        vdm_DER_uINV_tm = Record(vdm_HOL_Abs, length_HOL_Abs);
        Sequence tmpVar_39;
        tmpVar_39 = Sequence().ImpAppend(vdm_DER_uINV_xs);
        vdm_DER_uINV_tm.SetField(1, tmpVar_39);
        vdm_DER_uINV_tm.SetField(2, vdm_DER_uINV_finite_uset);
        Record vdm_DER_uINV_tp(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
        vdm_DER_uINV_tp = Record(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
        Sequence tmpVar_43;
        tmpVar_43 = Sequence().ImpAppend(vdm_DER_uINV_hol_utp);
        tmpVar_43.ImpAppend(Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
        vdm_DER_uINV_tp.SetField(1, tmpVar_43);
        varRes_4 = Record(vdm_TRL_uTAR_uEXPR_EXPR, length_TRL_uTAR_uEXPR_EXPR);
        varRes_4.SetField(1, vdm_DER_uINV_tm);
        varRes_4.SetField(2, vdm_DER_uINV_tp);
        varRes_4.SetField(3, vdm_DER_uINV_fv);
      }
    }
  }
  return (Generic) varRes_4;
}
#endif

#ifndef DEF_DER_uINV_derive_uTotalFnInv

Generic vdm_DER_uINV_derive_uTotalFnInv(const TYPE_AS_TotalFnType &var_1_1, const TYPE_HOL_term_utype &var_2_2) {
  Sequence vdm_DER_uINV_fndom;
  Record vdm_DER_uINV_fnrng;
  Record vdm_DER_uINV_hol_utp;
  bool succ_3 = true;
  if (var_1_1.IsRecord() && vdm_AS_TotalFnType == var_1_1.GetTag()) {
    Sequence e_l_5;
    for (int i_6 = 1; i_6 <= var_1_1.Length(); i_6++) 
      e_l_5.ImpAppend(var_1_1.GetField(i_6));
    if (succ_3 = 3 == (Int) e_l_5.Length()) {
      vdm_DER_uINV_fndom = (Generic) e_l_5.Hd();
      vdm_DER_uINV_fnrng = (Generic) e_l_5[2];
    }
  }
  else 
    succ_3 = false;
  vdm_DER_uINV_hol_utp = var_2_2;
  if (!succ_3) 
    RunTime("Pattern Match in Function Apply in function : derive_uTotalFnInv failed");
  return (Generic) Nil();
}
#endif

#ifndef DEF_DER_uINV_derive_uTypeNameInv

Generic vdm_DER_uINV_derive_uTypeNameInv(const TYPE_AS_TypeName &vdm_DER_uINV_tp_uname, const TYPE_HOL_term_utype &vdm_DER_uINV_hol_utp) {
  Generic varRes_4;
  {
    bool succ_5;
    Record tmpVal_6;
    tmpVal_6 = vdm_DER_uINV_hol_utp;
    Sequence vdm_DER_uINV_hol_uname;
    succ_5 = true;
    if (tmpVal_6.IsRecord() && vdm_HOL_type == ((Record) tmpVal_6).GetTag()) {
      Sequence e_l_7;
      for (int i_8 = 1; i_8 <= ((Record) tmpVal_6).Length(); i_8++) 
        e_l_7.ImpAppend(((Record) tmpVal_6).GetField(i_8));
      if (succ_5 = 2 == (Int) e_l_7.Length()) 
        vdm_DER_uINV_hol_uname = (Sequence) e_l_7.Hd();
    }
    else 
      succ_5 = false;
    if (!succ_5) 
      RunTime("Pattern match did not succeed in value definition");
    if (((Bool) !vdm_CI_uAUX_HasInvariant((Generic) vdm_DER_uINV_tp_uname).GetValue()).GetValue()) {
      Record vdm_DER_uINV_invOrGrd;
      Record par_47(vdm_AS_Name, length_AS_Name);
      if (vdm_DER_uINV_tp_uname.Is(vdm_AS_TypeName)) 
        par_47 = vdm_DER_uINV_tp_uname.GetField(pos_AS_TypeName_name);
      else 
        RunTime("Unknown record field selector");
      vdm_DER_uINV_invOrGrd = vdm_CI_uAUX_LookUpInvOrGroundType((Generic) par_47);
      Bool cond_50;
      if (vdm_DER_uINV_invOrGrd.IsRecord()) 
        cond_50 = vdm_AS_TypeName == vdm_DER_uINV_invOrGrd.GetTag();
      else 
        cond_50 = false;
      if (cond_50.GetValue()) {
        Record par_95;
        if (vdm_TRL_uTRA_uTYPE_trv_uType((Generic) vdm_DER_uINV_invOrGrd).Is(vdm_TRL_uTAR_uTYPE_TYPE)) 
          par_95 = vdm_TRL_uTRA_uTYPE_trv_uType((Generic) vdm_DER_uINV_invOrGrd).GetField(pos_TRL_uTAR_uTYPE_TYPE_tp);
        else 
          RunTime("Unknown record field selector");
        varRes_4 = vdm_DER_uINV_derive_uTypeNameInv((Generic) vdm_DER_uINV_invOrGrd, (Generic) par_95);
      }
      else {
        Generic vdm_DER_uINV_der_uinv;
        Record par_55;
        if (vdm_TRL_uTRA_uTYPE_trv_uType((Generic) vdm_DER_uINV_invOrGrd).Is(vdm_TRL_uTAR_uTYPE_TYPE)) 
          par_55 = vdm_TRL_uTRA_uTYPE_trv_uType((Generic) vdm_DER_uINV_invOrGrd).GetField(pos_TRL_uTAR_uTYPE_TYPE_tp);
        else 
          RunTime("Unknown record field selector");
        vdm_DER_uINV_der_uinv = vdm_DER_uINV_derive_uInv((Generic) vdm_DER_uINV_invOrGrd, (Generic) par_55);
        if (((Bool) (vdm_DER_uINV_der_uinv == Nil())).GetValue()) 
          varRes_4 = Nil();
        else {
          Sequence vdm_DER_uINV_const_uinv;
          vdm_DER_uINV_const_uinv.ImpConc(Sequence("inv_")).ImpConc(vdm_DER_uINV_hol_uname);
          Set vdm_DER_uINV_fv;
          vdm_DER_uINV_fv = Set().Insert(vdm_DER_uINV_const_uinv);
          Sequence vdm_DER_uINV_x_unm = vdm_DER_uINV_GetNewName((Generic) vdm_DER_uINV_fv);
          Record vdm_DER_uINV_x(vdm_HOL_Var, length_HOL_Var);
          vdm_DER_uINV_x = Record(vdm_HOL_Var, length_HOL_Var);
          vdm_DER_uINV_x.SetField(1, vdm_DER_uINV_x_unm);
          vdm_DER_uINV_x.SetField(2, vdm_DER_uINV_hol_utp);
          Record vdm_DER_uINV_invs_upred_utype(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
          vdm_DER_uINV_invs_upred_utype = Record(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
          Sequence tmpVar_74;
          tmpVar_74 = Sequence().ImpAppend(vdm_DER_uINV_hol_utp);
          tmpVar_74.ImpAppend(Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
          vdm_DER_uINV_invs_upred_utype.SetField(1, tmpVar_74);
          Record vdm_DER_uINV_invs_upred(vdm_HOL_Const, length_HOL_Const);
          vdm_DER_uINV_invs_upred = Record(vdm_HOL_Const, length_HOL_Const);
          vdm_DER_uINV_invs_upred.SetField(1, vdm_DER_uINV_const_uinv);
          vdm_DER_uINV_invs_upred.SetField(2, vdm_DER_uINV_invs_upred_utype);
          Record vdm_DER_uINV_tm(vdm_HOL_Abs, length_HOL_Abs);
          vdm_DER_uINV_tm = Record(vdm_HOL_Abs, length_HOL_Abs);
          Sequence tmpVar_81;
          tmpVar_81 = Sequence().ImpAppend(vdm_DER_uINV_x);
          vdm_DER_uINV_tm.SetField(1, tmpVar_81);
          Record tmpVar_83(vdm_HOL_Comb, length_HOL_Comb);
          tmpVar_83 = Record(vdm_HOL_Comb, length_HOL_Comb);
          tmpVar_83.SetField(1, vdm_DER_uINV_invs_upred);
          Sequence tmpVar_85;
          tmpVar_85 = Sequence().ImpAppend(vdm_DER_uINV_x);
          tmpVar_83.SetField(2, tmpVar_85);
          vdm_DER_uINV_tm.SetField(2, tmpVar_83);
          Record vdm_DER_uINV_tp(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
          vdm_DER_uINV_tp = Record(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
          Sequence tmpVar_88;
          tmpVar_88 = Sequence().ImpAppend(vdm_DER_uINV_hol_utp);
          tmpVar_88.ImpAppend(Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
          vdm_DER_uINV_tp.SetField(1, tmpVar_88);
          varRes_4 = Record(vdm_TRL_uTAR_uEXPR_EXPR, length_TRL_uTAR_uEXPR_EXPR);
          varRes_4 = Record(varRes_4).SetField(1, vdm_DER_uINV_tm);
          varRes_4 = Record(varRes_4).SetField(2, vdm_DER_uINV_tp);
          varRes_4 = Record(varRes_4).SetField(3, vdm_DER_uINV_fv);
        }
      }
    }
    else {
      Sequence vdm_DER_uINV_const_uinv;
      vdm_DER_uINV_const_uinv.ImpConc(Sequence("inv_")).ImpConc(vdm_DER_uINV_hol_uname);
      Set vdm_DER_uINV_fv;
      vdm_DER_uINV_fv = Set().Insert(vdm_DER_uINV_const_uinv);
      Sequence vdm_DER_uINV_x_unm = vdm_DER_uINV_GetNewName((Generic) vdm_DER_uINV_fv);
      Record vdm_DER_uINV_x(vdm_HOL_Var, length_HOL_Var);
      vdm_DER_uINV_x = Record(vdm_HOL_Var, length_HOL_Var);
      vdm_DER_uINV_x.SetField(1, vdm_DER_uINV_x_unm);
      vdm_DER_uINV_x.SetField(2, vdm_DER_uINV_hol_utp);
      Record vdm_DER_uINV_invs_upred_utype(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
      vdm_DER_uINV_invs_upred_utype = Record(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
      Sequence tmpVar_25;
      tmpVar_25 = Sequence().ImpAppend(vdm_DER_uINV_hol_utp);
      tmpVar_25.ImpAppend(Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
      vdm_DER_uINV_invs_upred_utype.SetField(1, tmpVar_25);
      Record vdm_DER_uINV_invs_upred(vdm_HOL_Const, length_HOL_Const);
      vdm_DER_uINV_invs_upred = Record(vdm_HOL_Const, length_HOL_Const);
      vdm_DER_uINV_invs_upred.SetField(1, vdm_DER_uINV_const_uinv);
      vdm_DER_uINV_invs_upred.SetField(2, vdm_DER_uINV_invs_upred_utype);
      Record vdm_DER_uINV_tm(vdm_HOL_Abs, length_HOL_Abs);
      vdm_DER_uINV_tm = Record(vdm_HOL_Abs, length_HOL_Abs);
      Sequence tmpVar_32;
      tmpVar_32 = Sequence().ImpAppend(vdm_DER_uINV_x);
      vdm_DER_uINV_tm.SetField(1, tmpVar_32);
      Record tmpVar_34(vdm_HOL_Comb, length_HOL_Comb);
      tmpVar_34 = Record(vdm_HOL_Comb, length_HOL_Comb);
      tmpVar_34.SetField(1, vdm_DER_uINV_invs_upred);
      Sequence tmpVar_36;
      tmpVar_36 = Sequence().ImpAppend(vdm_DER_uINV_x);
      tmpVar_34.SetField(2, tmpVar_36);
      vdm_DER_uINV_tm.SetField(2, tmpVar_34);
      Record vdm_DER_uINV_tp(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
      vdm_DER_uINV_tp = Record(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
      Sequence tmpVar_39;
      tmpVar_39 = Sequence().ImpAppend(vdm_DER_uINV_hol_utp);
      tmpVar_39.ImpAppend(Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
      vdm_DER_uINV_tp.SetField(1, tmpVar_39);
      varRes_4 = Record(vdm_TRL_uTAR_uEXPR_EXPR, length_TRL_uTAR_uEXPR_EXPR);
      varRes_4 = Record(varRes_4).SetField(1, vdm_DER_uINV_tm);
      varRes_4 = Record(varRes_4).SetField(2, vdm_DER_uINV_tp);
      varRes_4 = Record(varRes_4).SetField(3, vdm_DER_uINV_fv);
    }
  }
  return (Generic) varRes_4;
}
#endif

#ifndef DEF_DER_uINV_derive_uTypeVarInv

Generic vdm_DER_uINV_derive_uTypeVarInv(const TYPE_AS_TypeVar &var_1_1, const TYPE_HOL_term_utype &var_2_2) {
  Record vdm_DER_uINV_hol_utp;
  Record vdm_DER_uINV_name(vdm_AS_Name, length_AS_Name);
  bool succ_3 = true;
  if (var_1_1.IsRecord() && vdm_AS_TypeVar == var_1_1.GetTag()) {
    Sequence e_l_5;
    for (int i_6 = 1; i_6 <= var_1_1.Length(); i_6++) 
      e_l_5.ImpAppend(var_1_1.GetField(i_6));
    if (succ_3 = 2 == (Int) e_l_5.Length()) 
      vdm_DER_uINV_name = (Generic) e_l_5.Hd();
  }
  else 
    succ_3 = false;
  vdm_DER_uINV_hol_utp = var_2_2;
  if (!succ_3) 
    RunTime("Pattern Match in Function Apply in function : derive_uTypeVarInv failed");
  return (Generic) Nil();
}
#endif

#ifndef DEF_DER_uINV_derive_uUnionInv

Generic vdm_DER_uINV_derive_uUnionInv(const TYPE_AS_UnionType &var_1_1, const TYPE_HOL_sum &var_2_2) {
  Record vdm_DER_uINV_hol_utp(vdm_HOL_sum, length_HOL_sum);
  Sequence vdm_DER_uINV_stp;
  bool succ_3 = true;
  if (var_1_1.IsRecord() && vdm_AS_UnionType == var_1_1.GetTag()) {
    Sequence e_l_5;
    for (int i_6 = 1; i_6 <= var_1_1.Length(); i_6++) 
      e_l_5.ImpAppend(var_1_1.GetField(i_6));
    if (succ_3 = 2 == (Int) e_l_5.Length()) 
      vdm_DER_uINV_stp = (Generic) e_l_5.Hd();
  }
  else 
    succ_3 = false;
  vdm_DER_uINV_hol_utp = var_2_2;
  if (!succ_3) 
    RunTime("Pattern Match in Function Apply in function : derive_uUnionInv failed");
  return (Generic) Nil();
}
#endif

#ifndef DEF_DER_uINV_update_uInv

Generic vdm_DER_uINV_update_uInv(const TYPE_TRL_uTAR_uEXPR_NameType &vdm_DER_uINV_nm, const TYPE_HOL_type_uexpr &vdm_DER_uINV_tp, const Generic &vdm_DER_uINV_fninv, const Generic &vdm_DER_uINV_der_uinv) {
  Generic varRes_6;
  Bool cond_8;
{ if ((cond_8 = (Bool) (vdm_DER_uINV_der_uinv == Nil())).GetValue()) 
   cond_8 = (Bool) (vdm_DER_uINV_fninv == Nil()); }
  if (cond_8.GetValue()) 
    varRes_6 = Nil();
  else 
    if (((Bool) (vdm_DER_uINV_fninv == Nil())).GetValue()) {
      Sequence vdm_DER_uINV_name;
      vdm_DER_uINV_name.ImpConc(Sequence("inv_")).ImpConc(vdm_DER_uINV_nm);
      Record vdm_DER_uINV_name_utp(vdm_HOL_type, length_HOL_type);
      vdm_DER_uINV_name_utp = Record(vdm_HOL_type, length_HOL_type);
      vdm_DER_uINV_name_utp.SetField(1, vdm_DER_uINV_nm);
      vdm_DER_uINV_name_utp.SetField(2, Sequence());
      Sequence vdm_DER_uINV_var;
      Set par_84;
      if (vdm_DER_uINV_der_uinv.IsRecord()) 
        if (((Record) vdm_DER_uINV_der_uinv).Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
          par_84 = ((Record) vdm_DER_uINV_der_uinv).GetField(pos_TRL_uTAR_uEXPR_EXPR_fv);
        else 
          RunTime("Unknown record field selector");
      else 
        RunTime("A record was expected");
      vdm_DER_uINV_var = vdm_DER_uINV_GetNewName((Generic) par_84);
      Record vdm_DER_uINV_fntype(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
      vdm_DER_uINV_fntype = Record(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
      Sequence tmpVar_87;
      tmpVar_87 = Sequence().ImpAppend(vdm_DER_uINV_name_utp);
      tmpVar_87.ImpAppend(Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
      vdm_DER_uINV_fntype.SetField(1, tmpVar_87);
      Sequence vdm_DER_uINV_parms;
      Record e_seq_91(vdm_HOL_Var, length_HOL_Var);
      e_seq_91 = Record(vdm_HOL_Var, length_HOL_Var);
      e_seq_91.SetField(1, vdm_DER_uINV_var);
      e_seq_91.SetField(2, vdm_DER_uINV_name_utp);
      vdm_DER_uINV_parms = Sequence().ImpAppend(e_seq_91);
      Sequence vdm_DER_uINV_parmstp;
      vdm_DER_uINV_parmstp = Sequence().ImpAppend(vdm_DER_uINV_name_utp);
      Record vdm_DER_uINV_body(vdm_HOL_Comb, length_HOL_Comb);
      vdm_DER_uINV_body = Record(vdm_HOL_Comb, length_HOL_Comb);
      Record tmpVar_97;
      if (vdm_DER_uINV_der_uinv.IsRecord()) 
        if (((Record) vdm_DER_uINV_der_uinv).Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
          tmpVar_97 = ((Record) vdm_DER_uINV_der_uinv).GetField(pos_TRL_uTAR_uEXPR_EXPR_tm);
        else 
          RunTime("Unknown record field selector");
      else 
        RunTime("A record was expected");
      vdm_DER_uINV_body.SetField(1, tmpVar_97);
      vdm_DER_uINV_body.SetField(2, vdm_DER_uINV_parms);
      Set vdm_DER_uINV_fv;
      if (vdm_DER_uINV_der_uinv.IsRecord()) 
        if (((Record) vdm_DER_uINV_der_uinv).Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
          vdm_DER_uINV_fv = ((Record) vdm_DER_uINV_der_uinv).GetField(pos_TRL_uTAR_uEXPR_EXPR_fv);
        else 
          RunTime("Unknown record field selector");
      else 
        RunTime("A record was expected");
      varRes_6 = Record(vdm_TRL_uTAR_uDEF_pred_udef, length_TRL_uTAR_uDEF_pred_udef);
      varRes_6 = Record(varRes_6).SetField(1, vdm_DER_uINV_name);
      varRes_6 = Record(varRes_6).SetField(2, vdm_DER_uINV_fntype);
      varRes_6 = Record(varRes_6).SetField(3, vdm_DER_uINV_parms);
      varRes_6 = Record(varRes_6).SetField(4, vdm_DER_uINV_parmstp);
      varRes_6 = Record(varRes_6).SetField(5, vdm_DER_uINV_body);
      varRes_6 = Record(varRes_6).SetField(6, vdm_DER_uINV_fv);
    }
    else 
      if (((Bool) (vdm_DER_uINV_der_uinv == Nil())).GetValue()) {
        Generic tmpRE_63 = vdm_DER_uINV_fninv;
        if (vdm_DER_uINV_fninv.IsRecord()) {
          Record tmpRec_66 = tmpRE_63;
          int mu_64, mu_65;
          {
            mu_64 = pos_TRL_uTAR_uDEF_pred_udef_name;
            mu_65 = pos_TRL_uTAR_uDEF_pred_udef_fntype;
          }
          Sequence val_67;
          val_67.ImpConc(Sequence("inv_")).ImpConc(vdm_DER_uINV_nm);
          tmpRec_66.SetField(mu_64, val_67);
          Record val_70(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
          val_70 = Record(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
          Sequence tmpVar_71;
          Record e_seq_72(vdm_HOL_type, length_HOL_type);
          e_seq_72 = Record(vdm_HOL_type, length_HOL_type);
          e_seq_72.SetField(1, vdm_DER_uINV_nm);
          e_seq_72.SetField(2, Sequence());
          tmpVar_71 = Sequence().ImpAppend(e_seq_72);
          tmpVar_71.ImpAppend(Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
          val_70.SetField(1, tmpVar_71);
          tmpRec_66.SetField(mu_65, val_70);
          varRes_6 = tmpRec_66;
        }
        else 
          RunTime("A record was expected in record modifier expression");
      }
      else {
        Sequence vdm_DER_uINV_name;
        vdm_DER_uINV_name.ImpConc(Sequence("inv_")).ImpConc(vdm_DER_uINV_nm);
        Record vdm_DER_uINV_name_utp(vdm_HOL_type, length_HOL_type);
        vdm_DER_uINV_name_utp = Record(vdm_HOL_type, length_HOL_type);
        vdm_DER_uINV_name_utp.SetField(1, vdm_DER_uINV_nm);
        vdm_DER_uINV_name_utp.SetField(2, Sequence());
        Record vdm_DER_uINV_fntype(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
        vdm_DER_uINV_fntype = Record(vdm_HOL_Fun_utype, length_HOL_Fun_utype);
        Sequence tmpVar_31;
        tmpVar_31 = Sequence().ImpAppend(vdm_DER_uINV_name_utp);
        tmpVar_31.ImpAppend(Record(vdm_HOL_Bool_utype, length_HOL_Bool_utype));
        vdm_DER_uINV_fntype.SetField(1, tmpVar_31);
        Record vdm_DER_uINV_app_uder_uinv(vdm_HOL_Comb, length_HOL_Comb);
        vdm_DER_uINV_app_uder_uinv = Record(vdm_HOL_Comb, length_HOL_Comb);
        Record tmpVar_35;
        if (vdm_DER_uINV_der_uinv.IsRecord()) 
          if (((Record) vdm_DER_uINV_der_uinv).Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
            tmpVar_35 = ((Record) vdm_DER_uINV_der_uinv).GetField(pos_TRL_uTAR_uEXPR_EXPR_tm);
          else 
            RunTime("Unknown record field selector");
        else 
          RunTime("A record was expected");
        vdm_DER_uINV_app_uder_uinv.SetField(1, tmpVar_35);
        Sequence tmpVar_37;
        if (vdm_DER_uINV_fninv.IsRecord()) 
          if (((Record) vdm_DER_uINV_fninv).Is(vdm_TRL_uTAR_uDEF_pred_udef)) 
            tmpVar_37 = ((Record) vdm_DER_uINV_fninv).GetField(pos_TRL_uTAR_uDEF_pred_udef_parms);
          else 
            RunTime("Unknown record field selector");
        else 
          RunTime("A record was expected");
        vdm_DER_uINV_app_uder_uinv.SetField(2, tmpVar_37);
        Record vdm_DER_uINV_new_ubody(vdm_HOL_Conj, length_HOL_Conj);
        vdm_DER_uINV_new_ubody = Record(vdm_HOL_Conj, length_HOL_Conj);
        Sequence tmpVar_40;
        Sequence var1_41;
        Record e_seq_42;
        if (vdm_DER_uINV_fninv.IsRecord()) 
          if (((Record) vdm_DER_uINV_fninv).Is(vdm_TRL_uTAR_uDEF_pred_udef)) 
            e_seq_42 = ((Record) vdm_DER_uINV_fninv).GetField(pos_TRL_uTAR_uDEF_pred_udef_body);
          else 
            RunTime("Unknown record field selector");
        else 
          RunTime("A record was expected");
        var1_41 = Sequence().ImpAppend(e_seq_42);
        Sequence var2_44;
        var2_44 = Sequence().ImpAppend(vdm_DER_uINV_app_uder_uinv);
        tmpVar_40.ImpConc(var1_41).ImpConc(var2_44);
        vdm_DER_uINV_new_ubody.SetField(1, tmpVar_40);
        Set vdm_DER_uINV_fv;
        Set var1_47;
        if (vdm_DER_uINV_fninv.IsRecord()) 
          if (((Record) vdm_DER_uINV_fninv).Is(vdm_TRL_uTAR_uDEF_pred_udef)) 
            var1_47 = ((Record) vdm_DER_uINV_fninv).GetField(pos_TRL_uTAR_uDEF_pred_udef_fv);
          else 
            RunTime("Unknown record field selector");
        else 
          RunTime("A record was expected");
        Set var2_49;
        if (vdm_DER_uINV_der_uinv.IsRecord()) 
          if (((Record) vdm_DER_uINV_der_uinv).Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
            var2_49 = ((Record) vdm_DER_uINV_der_uinv).GetField(pos_TRL_uTAR_uEXPR_EXPR_fv);
          else 
            RunTime("Unknown record field selector");
        else 
          RunTime("A record was expected");
        vdm_DER_uINV_fv = var1_47;
        vdm_DER_uINV_fv.ImpUnion(var2_49);
        Generic tmpRE_52 = vdm_DER_uINV_fninv;
        if (vdm_DER_uINV_fninv.IsRecord()) {
          Record tmpRec_57 = tmpRE_52;
          int mu_53, mu_54, mu_55, mu_56;
          {
            mu_53 = pos_TRL_uTAR_uDEF_pred_udef_name;
            mu_54 = pos_TRL_uTAR_uDEF_pred_udef_fntype;
            mu_55 = pos_TRL_uTAR_uDEF_pred_udef_body;
            mu_56 = pos_TRL_uTAR_uDEF_pred_udef_fv;
          }
          tmpRec_57.SetField(mu_53, vdm_DER_uINV_name);
          tmpRec_57.SetField(mu_54, vdm_DER_uINV_fntype);
          tmpRec_57.SetField(mu_55, vdm_DER_uINV_new_ubody);
          tmpRec_57.SetField(mu_56, vdm_DER_uINV_fv);
          varRes_6 = tmpRec_57;
        }
        else 
          RunTime("A record was expected in record modifier expression");
      }
  return (Generic) varRes_6;
}
#endif

#ifndef DEF_DER_uINV_pre_update_uInv

Bool vdm_DER_uINV_pre_update_uInv(const TYPE_TRL_uTAR_uEXPR_NameType &vdm_DER_uINV_nm, const TYPE_HOL_type_uexpr &vdm_DER_uINV_tp, const Generic &vdm_DER_uINV_fninv, const Generic &vdm_DER_uINV_der_uinv) {
  Bool varRes_6;
  if (((Bool) !(vdm_DER_uINV_fninv == Nil())).GetValue()) {
    Bool var2_10;
    Int var1_11;
    Sequence unArg_12;
    if (vdm_DER_uINV_fninv.IsRecord()) 
      if (((Record) vdm_DER_uINV_fninv).Is(vdm_TRL_uTAR_uDEF_pred_udef)) 
        unArg_12 = ((Record) vdm_DER_uINV_fninv).GetField(pos_TRL_uTAR_uDEF_pred_udef_parms);
      else 
        RunTime("Unknown record field selector");
    else 
      RunTime("A record was expected");
    var1_11 = (Int) unArg_12.Length();
    var2_10 = (Bool) (var1_11 == (Int) 1);
    varRes_6 = var2_10;
  }
  else 
    varRes_6 = (Bool) true;
  return (Generic) varRes_6;
}
#endif

