//
// THIS FILE IS AUTOMATICALLY GENERATED!!
//
// Generated at Thu 06-Apr-00 by the VDM-SLtoC++ Code Generator
// (v3.3.2 - Thu 02-Dec-99)
//
// Supported compilers:
// 	egcs version 1.1 on SunOS4, SunOS5, Linux, HP-UX10
// 	VC++ version 6.0 on Windows95, Windows NT
//



#include "TRL_uMEDIATOR.h"
static Sequence vdm_TRL_uMEDIATOR_typeDefs;
static Sequence vdm_TRL_uMEDIATOR_fnDefs;
static Map vdm_TRL_uMEDIATOR_trl_utypem;
static Map vdm_TRL_uMEDIATOR_trl_ufnm;
static Map vdm_TRL_uMEDIATOR_trl_uvaluem;
static Sequence vdm_TRL_uMEDIATOR_type_uordered;
static Sequence vdm_TRL_uMEDIATOR_fn_uordered;
static Sequence vdm_TRL_uMEDIATOR_po_ulst;

void TYPE_TRL_uMEDIATOR_select_udef::Init(TYPE_TRL_uMEDIATOR_string p1, TYPE_TRL_uMEDIATOR_string p2, type_cLL p3, type_cLL p4, TYPE_TRL_uMEDIATOR_string p5, type_cLS p6) {
  SetField(1, p1);
  SetField(2, p2);
  SetField(3, p3);
  SetField(4, p4);
  SetField(5, p5);
  SetField(6, p6);
}

TYPE_TRL_uMEDIATOR_string TYPE_TRL_uMEDIATOR_select_udef::get_name() const { return (TYPE_TRL_uMEDIATOR_string) GetField(1); }

void TYPE_TRL_uMEDIATOR_select_udef::set_name(const TYPE_TRL_uMEDIATOR_string &p) { SetField(1, p); }

TYPE_TRL_uMEDIATOR_string TYPE_TRL_uMEDIATOR_select_udef::get_fntype() const { return (TYPE_TRL_uMEDIATOR_string) GetField(2); }

void TYPE_TRL_uMEDIATOR_select_udef::set_fntype(const TYPE_TRL_uMEDIATOR_string &p) { SetField(2, p); }

type_cLL TYPE_TRL_uMEDIATOR_select_udef::get_parms() const { return (type_cLL) GetField(3); }

void TYPE_TRL_uMEDIATOR_select_udef::set_parms(const type_cLL &p) { SetField(3, p); }

type_cLL TYPE_TRL_uMEDIATOR_select_udef::get_parmstp() const { return (type_cLL) GetField(4); }

void TYPE_TRL_uMEDIATOR_select_udef::set_parmstp(const type_cLL &p) { SetField(4, p); }

TYPE_TRL_uMEDIATOR_string TYPE_TRL_uMEDIATOR_select_udef::get_body() const { return (TYPE_TRL_uMEDIATOR_string) GetField(5); }

void TYPE_TRL_uMEDIATOR_select_udef::set_body(const TYPE_TRL_uMEDIATOR_string &p) { SetField(5, p); }

type_cLS TYPE_TRL_uMEDIATOR_select_udef::get_fv() const { return (type_cLS) GetField(6); }

void TYPE_TRL_uMEDIATOR_select_udef::set_fv(const type_cLS &p) { SetField(6, p); }

void TYPE_TRL_uMEDIATOR_pred_udef::Init(TYPE_TRL_uMEDIATOR_string p1, TYPE_TRL_uMEDIATOR_string p2, type_cLL p3, type_cLL p4, TYPE_TRL_uMEDIATOR_string p5, type_cLS p6) {
  SetField(1, p1);
  SetField(2, p2);
  SetField(3, p3);
  SetField(4, p4);
  SetField(5, p5);
  SetField(6, p6);
}

TYPE_TRL_uMEDIATOR_string TYPE_TRL_uMEDIATOR_pred_udef::get_name() const { return (TYPE_TRL_uMEDIATOR_string) GetField(1); }

void TYPE_TRL_uMEDIATOR_pred_udef::set_name(const TYPE_TRL_uMEDIATOR_string &p) { SetField(1, p); }

TYPE_TRL_uMEDIATOR_string TYPE_TRL_uMEDIATOR_pred_udef::get_fntype() const { return (TYPE_TRL_uMEDIATOR_string) GetField(2); }

void TYPE_TRL_uMEDIATOR_pred_udef::set_fntype(const TYPE_TRL_uMEDIATOR_string &p) { SetField(2, p); }

type_cLL TYPE_TRL_uMEDIATOR_pred_udef::get_parms() const { return (type_cLL) GetField(3); }

void TYPE_TRL_uMEDIATOR_pred_udef::set_parms(const type_cLL &p) { SetField(3, p); }

type_cLL TYPE_TRL_uMEDIATOR_pred_udef::get_parmstp() const { return (type_cLL) GetField(4); }

void TYPE_TRL_uMEDIATOR_pred_udef::set_parmstp(const type_cLL &p) { SetField(4, p); }

TYPE_TRL_uMEDIATOR_string TYPE_TRL_uMEDIATOR_pred_udef::get_body() const { return (TYPE_TRL_uMEDIATOR_string) GetField(5); }

void TYPE_TRL_uMEDIATOR_pred_udef::set_body(const TYPE_TRL_uMEDIATOR_string &p) { SetField(5, p); }

type_cLS TYPE_TRL_uMEDIATOR_pred_udef::get_fv() const { return (type_cLS) GetField(6); }

void TYPE_TRL_uMEDIATOR_pred_udef::set_fv(const type_cLS &p) { SetField(6, p); }

void TYPE_TRL_uMEDIATOR_datatype_udef::Init(TYPE_TRL_uMEDIATOR_string p1, TYPE_TRL_uMEDIATOR_string p2, Generic p3, Generic p4, type_cLS p5) {
  SetField(1, p1);
  SetField(2, p2);
  SetField(3, p3);
  SetField(4, p4);
  SetField(5, p5);
}

TYPE_TRL_uMEDIATOR_string TYPE_TRL_uMEDIATOR_datatype_udef::get_name() const { return (TYPE_TRL_uMEDIATOR_string) GetField(1); }

void TYPE_TRL_uMEDIATOR_datatype_udef::set_name(const TYPE_TRL_uMEDIATOR_string &p) { SetField(1, p); }

TYPE_TRL_uMEDIATOR_string TYPE_TRL_uMEDIATOR_datatype_udef::get_type() const { return (TYPE_TRL_uMEDIATOR_string) GetField(2); }

void TYPE_TRL_uMEDIATOR_datatype_udef::set_type(const TYPE_TRL_uMEDIATOR_string &p) { SetField(2, p); }

Generic TYPE_TRL_uMEDIATOR_datatype_udef::get_fnsel() const { return (Generic) GetField(3); }

void TYPE_TRL_uMEDIATOR_datatype_udef::set_fnsel(const Generic &p) { SetField(3, p); }

Generic TYPE_TRL_uMEDIATOR_datatype_udef::get_fninv() const { return (Generic) GetField(4); }

void TYPE_TRL_uMEDIATOR_datatype_udef::set_fninv(const Generic &p) { SetField(4, p); }

type_cLS TYPE_TRL_uMEDIATOR_datatype_udef::get_fv() const { return (type_cLS) GetField(5); }

void TYPE_TRL_uMEDIATOR_datatype_udef::set_fv(const type_cLS &p) { SetField(5, p); }

void TYPE_TRL_uMEDIATOR_type_uabbrev_udef::Init(TYPE_TRL_uMEDIATOR_string p1, TYPE_TRL_uMEDIATOR_string p2, Generic p3, type_cLS p4) {
  SetField(1, p1);
  SetField(2, p2);
  SetField(3, p3);
  SetField(4, p4);
}

TYPE_TRL_uMEDIATOR_string TYPE_TRL_uMEDIATOR_type_uabbrev_udef::get_name() const { return (TYPE_TRL_uMEDIATOR_string) GetField(1); }

void TYPE_TRL_uMEDIATOR_type_uabbrev_udef::set_name(const TYPE_TRL_uMEDIATOR_string &p) { SetField(1, p); }

TYPE_TRL_uMEDIATOR_string TYPE_TRL_uMEDIATOR_type_uabbrev_udef::get_type() const { return (TYPE_TRL_uMEDIATOR_string) GetField(2); }

void TYPE_TRL_uMEDIATOR_type_uabbrev_udef::set_type(const TYPE_TRL_uMEDIATOR_string &p) { SetField(2, p); }

Generic TYPE_TRL_uMEDIATOR_type_uabbrev_udef::get_fninv() const { return (Generic) GetField(3); }

void TYPE_TRL_uMEDIATOR_type_uabbrev_udef::set_fninv(const Generic &p) { SetField(3, p); }

type_cLS TYPE_TRL_uMEDIATOR_type_uabbrev_udef::get_fv() const { return (type_cLS) GetField(4); }

void TYPE_TRL_uMEDIATOR_type_uabbrev_udef::set_fv(const type_cLS &p) { SetField(4, p); }

void TYPE_TRL_uMEDIATOR_const_udef::Init(TYPE_TRL_uMEDIATOR_string p1, TYPE_TRL_uMEDIATOR_string p2, TYPE_TRL_uMEDIATOR_string p3, type_cLS p4) {
  SetField(1, p1);
  SetField(2, p2);
  SetField(3, p3);
  SetField(4, p4);
}

TYPE_TRL_uMEDIATOR_string TYPE_TRL_uMEDIATOR_const_udef::get_name() const { return (TYPE_TRL_uMEDIATOR_string) GetField(1); }

void TYPE_TRL_uMEDIATOR_const_udef::set_name(const TYPE_TRL_uMEDIATOR_string &p) { SetField(1, p); }

TYPE_TRL_uMEDIATOR_string TYPE_TRL_uMEDIATOR_const_udef::get_type() const { return (TYPE_TRL_uMEDIATOR_string) GetField(2); }

void TYPE_TRL_uMEDIATOR_const_udef::set_type(const TYPE_TRL_uMEDIATOR_string &p) { SetField(2, p); }

TYPE_TRL_uMEDIATOR_string TYPE_TRL_uMEDIATOR_const_udef::get_expr() const { return (TYPE_TRL_uMEDIATOR_string) GetField(3); }

void TYPE_TRL_uMEDIATOR_const_udef::set_expr(const TYPE_TRL_uMEDIATOR_string &p) { SetField(3, p); }

type_cLS TYPE_TRL_uMEDIATOR_const_udef::get_fv() const { return (type_cLS) GetField(4); }

void TYPE_TRL_uMEDIATOR_const_udef::set_fv(const type_cLS &p) { SetField(4, p); }

void TYPE_TRL_uMEDIATOR_func_udef::Init(TYPE_TRL_uMEDIATOR_string p1, TYPE_TRL_uMEDIATOR_string p2, type_cLL p3, type_cLL p4, TYPE_TRL_uMEDIATOR_string p5, TYPE_TRL_uMEDIATOR_string p6, Generic p7, Generic p8, type_cLS p9) {
  SetField(1, p1);
  SetField(2, p2);
  SetField(3, p3);
  SetField(4, p4);
  SetField(5, p5);
  SetField(6, p6);
  SetField(7, p7);
  SetField(8, p8);
  SetField(9, p9);
}

TYPE_TRL_uMEDIATOR_string TYPE_TRL_uMEDIATOR_func_udef::get_name() const { return (TYPE_TRL_uMEDIATOR_string) GetField(1); }

void TYPE_TRL_uMEDIATOR_func_udef::set_name(const TYPE_TRL_uMEDIATOR_string &p) { SetField(1, p); }

TYPE_TRL_uMEDIATOR_string TYPE_TRL_uMEDIATOR_func_udef::get_fntype() const { return (TYPE_TRL_uMEDIATOR_string) GetField(2); }

void TYPE_TRL_uMEDIATOR_func_udef::set_fntype(const TYPE_TRL_uMEDIATOR_string &p) { SetField(2, p); }

type_cLL TYPE_TRL_uMEDIATOR_func_udef::get_parms() const { return (type_cLL) GetField(3); }

void TYPE_TRL_uMEDIATOR_func_udef::set_parms(const type_cLL &p) { SetField(3, p); }

type_cLL TYPE_TRL_uMEDIATOR_func_udef::get_parmstp() const { return (type_cLL) GetField(4); }

void TYPE_TRL_uMEDIATOR_func_udef::set_parmstp(const type_cLL &p) { SetField(4, p); }

TYPE_TRL_uMEDIATOR_string TYPE_TRL_uMEDIATOR_func_udef::get_body() const { return (TYPE_TRL_uMEDIATOR_string) GetField(5); }

void TYPE_TRL_uMEDIATOR_func_udef::set_body(const TYPE_TRL_uMEDIATOR_string &p) { SetField(5, p); }

TYPE_TRL_uMEDIATOR_string TYPE_TRL_uMEDIATOR_func_udef::get_bodytp() const { return (TYPE_TRL_uMEDIATOR_string) GetField(6); }

void TYPE_TRL_uMEDIATOR_func_udef::set_bodytp(const TYPE_TRL_uMEDIATOR_string &p) { SetField(6, p); }

Generic TYPE_TRL_uMEDIATOR_func_udef::get_fnpre() const { return (Generic) GetField(7); }

void TYPE_TRL_uMEDIATOR_func_udef::set_fnpre(const Generic &p) { SetField(7, p); }

Generic TYPE_TRL_uMEDIATOR_func_udef::get_fnpost() const { return (Generic) GetField(8); }

void TYPE_TRL_uMEDIATOR_func_udef::set_fnpost(const Generic &p) { SetField(8, p); }

type_cLS TYPE_TRL_uMEDIATOR_func_udef::get_fv() const { return (type_cLS) GetField(9); }

void TYPE_TRL_uMEDIATOR_func_udef::set_fv(const type_cLS &p) { SetField(9, p); }

void TYPE_TRL_uMEDIATOR_po_udef::Init(TYPE_TRL_uMEDIATOR_string p1, TYPE_TRL_uMEDIATOR_string p2, type_cLS p3) {
  SetField(1, p1);
  SetField(2, p2);
  SetField(3, p3);
}

TYPE_TRL_uMEDIATOR_string TYPE_TRL_uMEDIATOR_po_udef::get_name() const { return (TYPE_TRL_uMEDIATOR_string) GetField(1); }

void TYPE_TRL_uMEDIATOR_po_udef::set_name(const TYPE_TRL_uMEDIATOR_string &p) { SetField(1, p); }

TYPE_TRL_uMEDIATOR_string TYPE_TRL_uMEDIATOR_po_udef::get_expr() const { return (TYPE_TRL_uMEDIATOR_string) GetField(2); }

void TYPE_TRL_uMEDIATOR_po_udef::set_expr(const TYPE_TRL_uMEDIATOR_string &p) { SetField(2, p); }

type_cLS TYPE_TRL_uMEDIATOR_po_udef::get_fv() const { return (type_cLS) GetField(3); }

void TYPE_TRL_uMEDIATOR_po_udef::set_fv(const type_cLS &p) { SetField(3, p); }

void TYPE_TRL_uMEDIATOR_TRANS::Init(type_7AS_NameCL p1, type_7AS_NameCL p2, type_7AS_NameCdM p3, type_7AS_NameCdM p4, type_7AS_NameC24TRL_uMEDIATOR_const_udefCM p5, type_dLL p6, type_dLL p7, type_21TRL_uMEDIATOR_po_udefCL p8) {
  SetField(1, p1);
  SetField(2, p2);
  SetField(3, p3);
  SetField(4, p4);
  SetField(5, p5);
  SetField(6, p6);
  SetField(7, p7);
  SetField(8, p8);
}

type_7AS_NameCL TYPE_TRL_uMEDIATOR_TRANS::get_typeDefs() const { return (type_7AS_NameCL) GetField(1); }

void TYPE_TRL_uMEDIATOR_TRANS::set_typeDefs(const type_7AS_NameCL &p) { SetField(1, p); }

type_7AS_NameCL TYPE_TRL_uMEDIATOR_TRANS::get_fnDefs() const { return (type_7AS_NameCL) GetField(2); }

void TYPE_TRL_uMEDIATOR_TRANS::set_fnDefs(const type_7AS_NameCL &p) { SetField(2, p); }

type_7AS_NameCdM TYPE_TRL_uMEDIATOR_TRANS::get_trl_utypem() const { return (type_7AS_NameCdM) GetField(3); }

void TYPE_TRL_uMEDIATOR_TRANS::set_trl_utypem(const type_7AS_NameCdM &p) { SetField(3, p); }

type_7AS_NameCdM TYPE_TRL_uMEDIATOR_TRANS::get_trl_ufnm() const { return (type_7AS_NameCdM) GetField(4); }

void TYPE_TRL_uMEDIATOR_TRANS::set_trl_ufnm(const type_7AS_NameCdM &p) { SetField(4, p); }

type_7AS_NameC24TRL_uMEDIATOR_const_udefCM TYPE_TRL_uMEDIATOR_TRANS::get_trl_uvaluem() const { return (type_7AS_NameC24TRL_uMEDIATOR_const_udefCM) GetField(5); }

void TYPE_TRL_uMEDIATOR_TRANS::set_trl_uvaluem(const type_7AS_NameC24TRL_uMEDIATOR_const_udefCM &p) { SetField(5, p); }

type_dLL TYPE_TRL_uMEDIATOR_TRANS::get_type_uordered() const { return (type_dLL) GetField(6); }

void TYPE_TRL_uMEDIATOR_TRANS::set_type_uordered(const type_dLL &p) { SetField(6, p); }

type_dLL TYPE_TRL_uMEDIATOR_TRANS::get_fn_uordered() const { return (type_dLL) GetField(7); }

void TYPE_TRL_uMEDIATOR_TRANS::set_fn_uordered(const type_dLL &p) { SetField(7, p); }

type_21TRL_uMEDIATOR_po_udefCL TYPE_TRL_uMEDIATOR_TRANS::get_po_ulst() const { return (type_21TRL_uMEDIATOR_po_udefCL) GetField(8); }

void TYPE_TRL_uMEDIATOR_TRANS::set_po_ulst(const type_21TRL_uMEDIATOR_po_udefCL &p) { SetField(8, p); }

void TYPE_TRL_uMEDIATOR_spec::Init(type_dLL p1, type_dLL p2, type_21TRL_uMEDIATOR_po_udefCL p3) {
  SetField(1, p1);
  SetField(2, p2);
  SetField(3, p3);
}

type_dLL TYPE_TRL_uMEDIATOR_spec::get_tpdefs() const { return (type_dLL) GetField(1); }

void TYPE_TRL_uMEDIATOR_spec::set_tpdefs(const type_dLL &p) { SetField(1, p); }

type_dLL TYPE_TRL_uMEDIATOR_spec::get_fndefs() const { return (type_dLL) GetField(2); }

void TYPE_TRL_uMEDIATOR_spec::set_fndefs(const type_dLL &p) { SetField(2, p); }

type_21TRL_uMEDIATOR_po_udefCL TYPE_TRL_uMEDIATOR_spec::get_podefs() const { return (type_21TRL_uMEDIATOR_po_udefCL) GetField(3); }

void TYPE_TRL_uMEDIATOR_spec::set_podefs(const type_21TRL_uMEDIATOR_po_udefCL &p) { SetField(3, p); }
static TYPE_TRL_uMEDIATOR_const_udef vdm_TRL_uMEDIATOR_Convert_uconst_udef(const TYPE_TRL_uTAR_uDEF_const_udef &);
static TYPE_TRL_uMEDIATOR_func_udef vdm_TRL_uMEDIATOR_Convert_ufunc_udef(const TYPE_TRL_uTAR_uDEF_func_udef &);
static TYPE_TRL_uMEDIATOR_po_udef vdm_TRL_uMEDIATOR_Convert_upo_udef(const TYPE_TRL_uTAR_uDEF_po_udef &);
static TYPE_TRL_uMEDIATOR_pred_udef vdm_TRL_uMEDIATOR_Convert_upred_udef(const TYPE_TRL_uTAR_uDEF_pred_udef &);
static TYPE_TRL_uMEDIATOR_select_udef vdm_TRL_uMEDIATOR_Convert_uselect_udef(const TYPE_TRL_uTAR_uDEF_select_udef &);
static type_7AS_NameC23TRL_uMEDIATOR_pred_udefCM vdm_TRL_uMEDIATOR_ExtractPredicatesInFuncs(const type_7AS_NameCdM &);
static type_7AS_NameC23TRL_uMEDIATOR_pred_udefCM vdm_TRL_uMEDIATOR_ExtractPredicatesInTypes(const type_7AS_NameCdM &);
static type_21TRL_uMEDIATOR_po_udefCL vdm_TRL_uMEDIATOR_ExtractProofObligationsInFuncs(const type_7AS_NameCdM &);
static type_7AS_NameC25TRL_uMEDIATOR_select_udefCM vdm_TRL_uMEDIATOR_ExtractSelectorsInTypes(const type_7AS_NameCdM &);
static TYPE_TRL_uMEDIATOR_string vdm_TRL_uMEDIATOR_List2SeparatorList(const TYPE_TRL_uMEDIATOR_string &, const type_cLL &);
static type_7AS_NameCdM vdm_TRL_uMEDIATOR_RemoveProofObligationsInFuncs(const type_7AS_NameCdM &);
static type_typevariableL vdm_TRL_uMEDIATOR_SetToSeq(const type_typevariableS &);
static TYPE_TRL_uMEDIATOR_string vdm_TRL_uMEDIATOR_pp_uconst_udef(const TYPE_TRL_uMEDIATOR_const_udef &);
static TYPE_TRL_uMEDIATOR_string vdm_TRL_uMEDIATOR_pp_udatatype_udef(const TYPE_TRL_uMEDIATOR_datatype_udef &);
static TYPE_TRL_uMEDIATOR_string vdm_TRL_uMEDIATOR_pp_ufn_udef(const type_dL &);
static TYPE_TRL_uMEDIATOR_string vdm_TRL_uMEDIATOR_pp_ufunc_udef(const TYPE_TRL_uMEDIATOR_func_udef &);
static TYPE_TRL_uMEDIATOR_string vdm_TRL_uMEDIATOR_pp_upo_udef(const TYPE_TRL_uMEDIATOR_po_udef &);
static TYPE_TRL_uMEDIATOR_string vdm_TRL_uMEDIATOR_pp_upred_udef(const TYPE_TRL_uMEDIATOR_pred_udef &);
static TYPE_TRL_uMEDIATOR_string vdm_TRL_uMEDIATOR_pp_uselect_udef(const TYPE_TRL_uMEDIATOR_select_udef &);
static TYPE_TRL_uMEDIATOR_string vdm_TRL_uMEDIATOR_pp_utype_uabbrev_udef(const TYPE_TRL_uMEDIATOR_type_uabbrev_udef &);
static TYPE_TRL_uMEDIATOR_string vdm_TRL_uMEDIATOR_pp_utype_udef(const type_dL &);
static TYPE_TRL_uMEDIATOR_fn_udef vdm_TRL_uMEDIATOR_trv_uFnDef(const TYPE_AS_FnDef &);
static type_7AS_NameC24TRL_uMEDIATOR_const_udefCM vdm_TRL_uMEDIATOR_trv_uGlobalValueDef(const type_11AS_ValueDefCL &);
static TYPE_TRL_uMEDIATOR_type_udef vdm_TRL_uMEDIATOR_trv_uTypeDef(const TYPE_AS_TypeDef &);

void init_TRL_uMEDIATOR_VDMLib() {
  VDMGetDefaultRecInfoMap().NewTag(TAG_TYPE_TRL_uMEDIATOR_const_udef, 4);
  VDMGetDefaultRecInfoMap().SetSymTag(TAG_TYPE_TRL_uMEDIATOR_const_udef, "TRL_uMEDIATOR`const_udef");
  VDMGetDefaultRecInfoMap().NewTag(TAG_TYPE_TRL_uMEDIATOR_datatype_udef, 5);
  VDMGetDefaultRecInfoMap().SetSymTag(TAG_TYPE_TRL_uMEDIATOR_datatype_udef, "TRL_uMEDIATOR`datatype_udef");
  VDMGetDefaultRecInfoMap().NewTag(TAG_TYPE_TRL_uMEDIATOR_func_udef, 9);
  VDMGetDefaultRecInfoMap().SetSymTag(TAG_TYPE_TRL_uMEDIATOR_func_udef, "TRL_uMEDIATOR`func_udef");
  VDMGetDefaultRecInfoMap().NewTag(TAG_TYPE_TRL_uMEDIATOR_po_udef, 3);
  VDMGetDefaultRecInfoMap().SetSymTag(TAG_TYPE_TRL_uMEDIATOR_po_udef, "TRL_uMEDIATOR`po_udef");
  VDMGetDefaultRecInfoMap().NewTag(TAG_TYPE_TRL_uMEDIATOR_pred_udef, 6);
  VDMGetDefaultRecInfoMap().SetSymTag(TAG_TYPE_TRL_uMEDIATOR_pred_udef, "TRL_uMEDIATOR`pred_udef");
  VDMGetDefaultRecInfoMap().NewTag(TAG_TYPE_TRL_uMEDIATOR_select_udef, 6);
  VDMGetDefaultRecInfoMap().SetSymTag(TAG_TYPE_TRL_uMEDIATOR_select_udef, "TRL_uMEDIATOR`select_udef");
  VDMGetDefaultRecInfoMap().NewTag(TAG_TYPE_TRL_uMEDIATOR_spec, 3);
  VDMGetDefaultRecInfoMap().SetSymTag(TAG_TYPE_TRL_uMEDIATOR_spec, "TRL_uMEDIATOR`spec");
  VDMGetDefaultRecInfoMap().NewTag(TAG_TYPE_TRL_uMEDIATOR_type_uabbrev_udef, 4);
  VDMGetDefaultRecInfoMap().SetSymTag(TAG_TYPE_TRL_uMEDIATOR_type_uabbrev_udef, "TRL_uMEDIATOR`type_uabbrev_udef");
  VDMGetDefaultRecInfoMap().NewTag(TOKEN, 1);
  VDMGetDefaultRecInfoMap().SetSymTag(TOKEN, "token");
}
#ifdef DEF_TRL_uMEDIATOR_USERIMPL

#include "TRL_uMEDIATOR_userimpl.cc"

#endif


void init_TRL_uMEDIATOR() { init_TRL_uMEDIATOR_VDMLib(); }
#ifndef DEF_TRL_uMEDIATOR_Convert_uconst_udef

TYPE_TRL_uMEDIATOR_const_udef vdm_TRL_uMEDIATOR_Convert_uconst_udef(const TYPE_TRL_uTAR_uDEF_const_udef &var_1_1) {
  Record vdm_TRL_uMEDIATOR_expr;
  Set vdm_TRL_uMEDIATOR_fv;
  Sequence vdm_TRL_uMEDIATOR_name;
  Record vdm_TRL_uMEDIATOR_type;
  bool succ_2 = true;
  if (var_1_1.IsRecord() && vdm_TRL_uTAR_uDEF_const_udef == var_1_1.GetTag()) {
    Sequence e_l_19;
    for (int i_20 = 1; i_20 <= var_1_1.Length(); i_20++) 
      e_l_19.ImpAppend(var_1_1.GetField(i_20));
    if (succ_2 = 4 == (Int) e_l_19.Length()) {
      vdm_TRL_uMEDIATOR_name = (Generic) e_l_19.Hd();
      vdm_TRL_uMEDIATOR_type = (Generic) e_l_19[2];
      vdm_TRL_uMEDIATOR_expr = (Generic) e_l_19[3];
      vdm_TRL_uMEDIATOR_fv = (Generic) e_l_19[4];
    }
  }
  else 
    succ_2 = false;
  if (!succ_2) 
    RunTime("Pattern Match in Function Apply in function : Convert_uconst_udef failed");
  Record varRes_3(vdm_TRL_uMEDIATOR_const_udef, length_TRL_uMEDIATOR_const_udef);
  {
    Generic vdm_TRL_uMEDIATOR_conv_utype;
    {
      Generic vdm_TRL_uMEDIATOR_conv_utp = vdm_PP_uHOL_pp_uterm_utype((Generic) vdm_TRL_uMEDIATOR_type);
      if (((Bool) (vdm_TRL_uMEDIATOR_conv_utp == Nil())).GetValue()) 
        vdm_TRL_uMEDIATOR_conv_utype = Sequence("");
      else 
        vdm_TRL_uMEDIATOR_conv_utype = vdm_TRL_uMEDIATOR_conv_utp;
    }
    Sequence vdm_TRL_uMEDIATOR_conv_uexpr = vdm_PP_uHOL_pp_uterm((Generic) vdm_TRL_uMEDIATOR_expr);
    varRes_3 = Record(vdm_TRL_uMEDIATOR_const_udef, length_TRL_uMEDIATOR_const_udef);
    varRes_3.SetField(1, vdm_TRL_uMEDIATOR_name);
    varRes_3.SetField(2, vdm_TRL_uMEDIATOR_conv_utype);
    varRes_3.SetField(3, vdm_TRL_uMEDIATOR_conv_uexpr);
    varRes_3.SetField(4, vdm_TRL_uMEDIATOR_fv);
  }
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_Convert_ufunc_udef

TYPE_TRL_uMEDIATOR_func_udef vdm_TRL_uMEDIATOR_Convert_ufunc_udef(const TYPE_TRL_uTAR_uDEF_func_udef &var_1_1) {
  Record vdm_TRL_uMEDIATOR_body;
  Record vdm_TRL_uMEDIATOR_bodytp;
  Generic vdm_TRL_uMEDIATOR_fnpost;
  Generic vdm_TRL_uMEDIATOR_fnpre;
  Record vdm_TRL_uMEDIATOR_fntype;
  Set vdm_TRL_uMEDIATOR_fv;
  Sequence vdm_TRL_uMEDIATOR_name;
  Sequence vdm_TRL_uMEDIATOR_parms;
  Sequence vdm_TRL_uMEDIATOR_parmstp;
  bool succ_2 = true;
  if (var_1_1.IsRecord() && vdm_TRL_uTAR_uDEF_func_udef == var_1_1.GetTag()) {
    Sequence e_l_48;
    for (int i_49 = 1; i_49 <= var_1_1.Length(); i_49++) 
      e_l_48.ImpAppend(var_1_1.GetField(i_49));
    if (succ_2 = 9 == (Int) e_l_48.Length()) {
      vdm_TRL_uMEDIATOR_name = (Generic) e_l_48.Hd();
      vdm_TRL_uMEDIATOR_fntype = (Generic) e_l_48[2];
      vdm_TRL_uMEDIATOR_parms = (Generic) e_l_48[3];
      vdm_TRL_uMEDIATOR_parmstp = (Generic) e_l_48[4];
      vdm_TRL_uMEDIATOR_body = (Generic) e_l_48[5];
      vdm_TRL_uMEDIATOR_bodytp = (Generic) e_l_48[6];
      vdm_TRL_uMEDIATOR_fnpre = (Generic) e_l_48[7];
      vdm_TRL_uMEDIATOR_fnpost = (Generic) e_l_48[8];
      vdm_TRL_uMEDIATOR_fv = (Generic) e_l_48[9];
    }
  }
  else 
    succ_2 = false;
  if (!succ_2) 
    RunTime("Pattern Match in Function Apply in function : Convert_ufunc_udef failed");
  Record varRes_3(vdm_TRL_uMEDIATOR_func_udef, length_TRL_uMEDIATOR_func_udef);
  {
    Generic vdm_TRL_uMEDIATOR_conv_ufntype = vdm_PP_uHOL_pp_uterm_utype((Generic) vdm_TRL_uMEDIATOR_fntype);
    Sequence vdm_TRL_uMEDIATOR_conv_uparms;
    {
      Sequence res_l_8;
      Set resBind_s_10;
      Set riseq_14;
      int max_15 = (Int) vdm_TRL_uMEDIATOR_parms.Length();
      for (int i_16 = 1; i_16 <= max_15; i_16++) 
        riseq_14.Insert((Int) i_16);
      resBind_s_10 = riseq_14;
      Sequence bind_l_9;
      if ((Int) resBind_s_10.Card() != (Int) 0) 
        bind_l_9 = Sort(resBind_s_10);
      bool succ_11 = true;
      Int vdm_TRL_uMEDIATOR_i;
      Generic tmpe_22;
      for (int i_21 = bind_l_9.First(tmpe_22); i_21; i_21 = bind_l_9.Next(tmpe_22)) {
        Int e_12 = tmpe_22;
        vdm_TRL_uMEDIATOR_i = e_12;
        if (succ_11) 
          res_l_8.ImpAppend(vdm_PP_uHOL_pp_uterm((Generic) (Record) vdm_TRL_uMEDIATOR_parms[vdm_TRL_uMEDIATOR_i.GetValue()]));
      }
      vdm_TRL_uMEDIATOR_conv_uparms = res_l_8;
    }
    Sequence vdm_TRL_uMEDIATOR_conv_uparmstp = Sequence();
    Sequence vdm_TRL_uMEDIATOR_conv_ubody = vdm_PP_uHOL_pp_uterm((Generic) vdm_TRL_uMEDIATOR_body);
    Sequence vdm_TRL_uMEDIATOR_conv_ubodytp = Sequence();
    Generic vdm_TRL_uMEDIATOR_conv_ufnpre;
    if (((Bool) (vdm_TRL_uMEDIATOR_fnpre == Nil())).GetValue()) 
      vdm_TRL_uMEDIATOR_conv_ufnpre = Nil();
    else 
      vdm_TRL_uMEDIATOR_conv_ufnpre = vdm_TRL_uMEDIATOR_Convert_upred_udef((Generic) vdm_TRL_uMEDIATOR_fnpre);
    Generic vdm_TRL_uMEDIATOR_conv_ufnpost;
    if (((Bool) (vdm_TRL_uMEDIATOR_fnpost == Nil())).GetValue()) 
      vdm_TRL_uMEDIATOR_conv_ufnpost = Nil();
    else 
      vdm_TRL_uMEDIATOR_conv_ufnpost = vdm_TRL_uMEDIATOR_Convert_upred_udef((Generic) vdm_TRL_uMEDIATOR_fnpost);
    varRes_3 = Record(vdm_TRL_uMEDIATOR_func_udef, length_TRL_uMEDIATOR_func_udef);
    varRes_3.SetField(1, vdm_TRL_uMEDIATOR_name);
    varRes_3.SetField(2, vdm_TRL_uMEDIATOR_conv_ufntype);
    varRes_3.SetField(3, vdm_TRL_uMEDIATOR_conv_uparms);
    varRes_3.SetField(4, vdm_TRL_uMEDIATOR_conv_uparmstp);
    varRes_3.SetField(5, vdm_TRL_uMEDIATOR_conv_ubody);
    varRes_3.SetField(6, vdm_TRL_uMEDIATOR_conv_ubodytp);
    varRes_3.SetField(7, vdm_TRL_uMEDIATOR_conv_ufnpre);
    varRes_3.SetField(8, vdm_TRL_uMEDIATOR_conv_ufnpost);
    varRes_3.SetField(9, vdm_TRL_uMEDIATOR_fv);
  }
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_Convert_upo_udef

TYPE_TRL_uMEDIATOR_po_udef vdm_TRL_uMEDIATOR_Convert_upo_udef(const TYPE_TRL_uTAR_uDEF_po_udef &var_1_1) {
  Record vdm_TRL_uMEDIATOR_expr;
  Set vdm_TRL_uMEDIATOR_fv;
  Sequence vdm_TRL_uMEDIATOR_name;
  bool succ_2 = true;
  if (var_1_1.IsRecord() && vdm_TRL_uTAR_uDEF_po_udef == var_1_1.GetTag()) {
    Sequence e_l_10;
    for (int i_11 = 1; i_11 <= var_1_1.Length(); i_11++) 
      e_l_10.ImpAppend(var_1_1.GetField(i_11));
    if (succ_2 = 3 == (Int) e_l_10.Length()) {
      vdm_TRL_uMEDIATOR_name = (Generic) e_l_10.Hd();
      vdm_TRL_uMEDIATOR_expr = (Generic) e_l_10[2];
      vdm_TRL_uMEDIATOR_fv = (Generic) e_l_10[3];
    }
  }
  else 
    succ_2 = false;
  if (!succ_2) 
    RunTime("Pattern Match in Function Apply in function : Convert_upo_udef failed");
  Record varRes_3(vdm_TRL_uMEDIATOR_po_udef, length_TRL_uMEDIATOR_po_udef);
  {
    Sequence vdm_TRL_uMEDIATOR_conv_uexpr = vdm_PP_uHOL_pp_uterm((Generic) vdm_TRL_uMEDIATOR_expr);
    varRes_3 = Record(vdm_TRL_uMEDIATOR_po_udef, length_TRL_uMEDIATOR_po_udef);
    varRes_3.SetField(1, vdm_TRL_uMEDIATOR_name);
    varRes_3.SetField(2, vdm_TRL_uMEDIATOR_conv_uexpr);
    varRes_3.SetField(3, vdm_TRL_uMEDIATOR_fv);
  }
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_Convert_upred_udef

TYPE_TRL_uMEDIATOR_pred_udef vdm_TRL_uMEDIATOR_Convert_upred_udef(const TYPE_TRL_uTAR_uDEF_pred_udef &var_1_1) {
  Record vdm_TRL_uMEDIATOR_body;
  Record vdm_TRL_uMEDIATOR_fntype;
  Set vdm_TRL_uMEDIATOR_fv;
  Sequence vdm_TRL_uMEDIATOR_name;
  Sequence vdm_TRL_uMEDIATOR_parms;
  Sequence vdm_TRL_uMEDIATOR_parmstp;
  bool succ_2 = true;
  if (var_1_1.IsRecord() && vdm_TRL_uTAR_uDEF_pred_udef == var_1_1.GetTag()) {
    Sequence e_l_32;
    for (int i_33 = 1; i_33 <= var_1_1.Length(); i_33++) 
      e_l_32.ImpAppend(var_1_1.GetField(i_33));
    if (succ_2 = 6 == (Int) e_l_32.Length()) {
      vdm_TRL_uMEDIATOR_name = (Generic) e_l_32.Hd();
      vdm_TRL_uMEDIATOR_fntype = (Generic) e_l_32[2];
      vdm_TRL_uMEDIATOR_parms = (Generic) e_l_32[3];
      vdm_TRL_uMEDIATOR_parmstp = (Generic) e_l_32[4];
      vdm_TRL_uMEDIATOR_body = (Generic) e_l_32[5];
      vdm_TRL_uMEDIATOR_fv = (Generic) e_l_32[6];
    }
  }
  else 
    succ_2 = false;
  if (!succ_2) 
    RunTime("Pattern Match in Function Apply in function : Convert_upred_udef failed");
  Record varRes_3(vdm_TRL_uMEDIATOR_pred_udef, length_TRL_uMEDIATOR_pred_udef);
  {
    Generic vdm_TRL_uMEDIATOR_conv_ufntype = vdm_PP_uHOL_pp_uterm_utype((Generic) vdm_TRL_uMEDIATOR_fntype);
    Sequence vdm_TRL_uMEDIATOR_conv_uparms;
    {
      Sequence res_l_8;
      Set resBind_s_10;
      Set riseq_14;
      int max_15 = (Int) vdm_TRL_uMEDIATOR_parms.Length();
      for (int i_16 = 1; i_16 <= max_15; i_16++) 
        riseq_14.Insert((Int) i_16);
      resBind_s_10 = riseq_14;
      Sequence bind_l_9;
      if ((Int) resBind_s_10.Card() != (Int) 0) 
        bind_l_9 = Sort(resBind_s_10);
      bool succ_11 = true;
      Int vdm_TRL_uMEDIATOR_i;
      Generic tmpe_22;
      for (int i_21 = bind_l_9.First(tmpe_22); i_21; i_21 = bind_l_9.Next(tmpe_22)) {
        Int e_12 = tmpe_22;
        vdm_TRL_uMEDIATOR_i = e_12;
        if (succ_11) 
          res_l_8.ImpAppend(vdm_PP_uHOL_pp_uterm((Generic) (Record) vdm_TRL_uMEDIATOR_parms[vdm_TRL_uMEDIATOR_i.GetValue()]));
      }
      vdm_TRL_uMEDIATOR_conv_uparms = res_l_8;
    }
    Sequence vdm_TRL_uMEDIATOR_conv_uparmstp = Sequence();
    Sequence vdm_TRL_uMEDIATOR_conv_ubody = vdm_PP_uHOL_pp_uterm((Generic) vdm_TRL_uMEDIATOR_body);
    varRes_3 = Record(vdm_TRL_uMEDIATOR_pred_udef, length_TRL_uMEDIATOR_pred_udef);
    varRes_3.SetField(1, vdm_TRL_uMEDIATOR_name);
    varRes_3.SetField(2, vdm_TRL_uMEDIATOR_conv_ufntype);
    varRes_3.SetField(3, vdm_TRL_uMEDIATOR_conv_uparms);
    varRes_3.SetField(4, vdm_TRL_uMEDIATOR_conv_uparmstp);
    varRes_3.SetField(5, vdm_TRL_uMEDIATOR_conv_ubody);
    varRes_3.SetField(6, vdm_TRL_uMEDIATOR_fv);
  }
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_Convert_uselect_udef

TYPE_TRL_uMEDIATOR_select_udef vdm_TRL_uMEDIATOR_Convert_uselect_udef(const TYPE_TRL_uTAR_uDEF_select_udef &var_1_1) {
  Record vdm_TRL_uMEDIATOR_body;
  Record vdm_TRL_uMEDIATOR_fntype;
  Set vdm_TRL_uMEDIATOR_fv;
  Sequence vdm_TRL_uMEDIATOR_name;
  Sequence vdm_TRL_uMEDIATOR_parms;
  Sequence vdm_TRL_uMEDIATOR_parmstp;
  bool succ_2 = true;
  if (var_1_1.IsRecord() && vdm_TRL_uTAR_uDEF_select_udef == var_1_1.GetTag()) {
    Sequence e_l_32;
    for (int i_33 = 1; i_33 <= var_1_1.Length(); i_33++) 
      e_l_32.ImpAppend(var_1_1.GetField(i_33));
    if (succ_2 = 6 == (Int) e_l_32.Length()) {
      vdm_TRL_uMEDIATOR_name = (Generic) e_l_32.Hd();
      vdm_TRL_uMEDIATOR_fntype = (Generic) e_l_32[2];
      vdm_TRL_uMEDIATOR_parms = (Generic) e_l_32[3];
      vdm_TRL_uMEDIATOR_parmstp = (Generic) e_l_32[4];
      vdm_TRL_uMEDIATOR_body = (Generic) e_l_32[5];
      vdm_TRL_uMEDIATOR_fv = (Generic) e_l_32[6];
    }
  }
  else 
    succ_2 = false;
  if (!succ_2) 
    RunTime("Pattern Match in Function Apply in function : Convert_uselect_udef failed");
  Record varRes_3(vdm_TRL_uMEDIATOR_select_udef, length_TRL_uMEDIATOR_select_udef);
  {
    Generic vdm_TRL_uMEDIATOR_conv_ufntype = vdm_PP_uHOL_pp_uterm_utype((Generic) vdm_TRL_uMEDIATOR_fntype);
    Sequence vdm_TRL_uMEDIATOR_conv_uparms;
    {
      Sequence res_l_8;
      Set resBind_s_10;
      Set riseq_14;
      int max_15 = (Int) vdm_TRL_uMEDIATOR_parms.Length();
      for (int i_16 = 1; i_16 <= max_15; i_16++) 
        riseq_14.Insert((Int) i_16);
      resBind_s_10 = riseq_14;
      Sequence bind_l_9;
      if ((Int) resBind_s_10.Card() != (Int) 0) 
        bind_l_9 = Sort(resBind_s_10);
      bool succ_11 = true;
      Int vdm_TRL_uMEDIATOR_i;
      Generic tmpe_22;
      for (int i_21 = bind_l_9.First(tmpe_22); i_21; i_21 = bind_l_9.Next(tmpe_22)) {
        Int e_12 = tmpe_22;
        vdm_TRL_uMEDIATOR_i = e_12;
        if (succ_11) 
          res_l_8.ImpAppend(vdm_PP_uHOL_pp_uterm((Generic) (Record) vdm_TRL_uMEDIATOR_parms[vdm_TRL_uMEDIATOR_i.GetValue()]));
      }
      vdm_TRL_uMEDIATOR_conv_uparms = res_l_8;
    }
    Sequence vdm_TRL_uMEDIATOR_conv_uparmstp = Sequence();
    Sequence vdm_TRL_uMEDIATOR_conv_ubody = vdm_PP_uHOL_pp_uterm((Generic) vdm_TRL_uMEDIATOR_body);
    varRes_3 = Record(vdm_TRL_uMEDIATOR_select_udef, length_TRL_uMEDIATOR_select_udef);
    varRes_3.SetField(1, vdm_TRL_uMEDIATOR_name);
    varRes_3.SetField(2, vdm_TRL_uMEDIATOR_conv_ufntype);
    varRes_3.SetField(3, vdm_TRL_uMEDIATOR_conv_uparms);
    varRes_3.SetField(4, vdm_TRL_uMEDIATOR_conv_uparmstp);
    varRes_3.SetField(5, vdm_TRL_uMEDIATOR_conv_ubody);
    varRes_3.SetField(6, vdm_TRL_uMEDIATOR_fv);
  }
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_ExtractPredicatesInFuncs

type_7AS_NameC23TRL_uMEDIATOR_pred_udefCM vdm_TRL_uMEDIATOR_ExtractPredicatesInFuncs(const type_7AS_NameCdM &vdm_TRL_uMEDIATOR_fndefs) {
  Map varRes_3;
  Map var1_4;
  Map res_m_5;
  {
    bool succ_24 = true;
    Set e1_set_27 = vdm_TRL_uMEDIATOR_fndefs.Dom();
    Record vdm_TRL_uMEDIATOR_nm(vdm_AS_Name, length_AS_Name);
    {
      Generic tmpe_30;
      for (int bb_29 = e1_set_27.First(tmpe_30); bb_29; bb_29 = e1_set_27.Next(tmpe_30)) {
        Record elem_28 = tmpe_30;
        succ_24 = true;        vdm_TRL_uMEDIATOR_nm = elem_28;        if (succ_24) {
          Bool pred_18;
          Generic var1_19;
          if (((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_func_udef)) 
            var1_19 = ((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_func_udef_fnpre);
          else 
            RunTime("Unknown record field selector");
          pred_18 = (Bool) !(var1_19 == Nil());
          if (pred_18.GetValue()) {
            Record md_6(vdm_AS_Name, length_AS_Name);
            md_6 = Record(vdm_AS_Name, length_AS_Name);
            Sequence tmpVar_7;
            Sequence e_seq_8;
            Generic tmpRec_9;
            if (((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_func_udef)) 
              tmpRec_9 = ((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_func_udef_fnpre);
            else 
              RunTime("Unknown record field selector");
            if (tmpRec_9.IsRecord()) 
              if (((Record) tmpRec_9).Is(vdm_TRL_uMEDIATOR_pred_udef)) 
                e_seq_8 = ((Record) tmpRec_9).GetField(pos_TRL_uMEDIATOR_pred_udef_name);
              else 
                RunTime("Unknown record field selector");
            else 
              RunTime("A record was expected");
            tmpVar_7 = Sequence().ImpAppend(e_seq_8);
            md_6.SetField(1, tmpVar_7);
            md_6.SetField(2, vdm_CI_NilContextId);
            Generic mr_14;
            if (((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_func_udef)) 
              mr_14 = ((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_func_udef_fnpre);
            else 
              RunTime("Unknown record field selector");
            res_m_5.Insert(md_6, mr_14);
          }
        }
      }
    }
  }
  var1_4 = res_m_5;
  Map var2_31;
  Map res_m_32;
  {
    bool succ_51 = true;
    Set e1_set_54 = vdm_TRL_uMEDIATOR_fndefs.Dom();
    Record vdm_TRL_uMEDIATOR_nm(vdm_AS_Name, length_AS_Name);
    {
      Generic tmpe_57;
      for (int bb_56 = e1_set_54.First(tmpe_57); bb_56; bb_56 = e1_set_54.Next(tmpe_57)) {
        Record elem_55 = tmpe_57;
        succ_51 = true;        vdm_TRL_uMEDIATOR_nm = elem_55;        if (succ_51) {
          Bool pred_45;
          Generic var1_46;
          if (((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_func_udef)) 
            var1_46 = ((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_func_udef_fnpost);
          else 
            RunTime("Unknown record field selector");
          pred_45 = (Bool) !(var1_46 == Nil());
          if (pred_45.GetValue()) {
            Record md_33(vdm_AS_Name, length_AS_Name);
            md_33 = Record(vdm_AS_Name, length_AS_Name);
            Sequence tmpVar_34;
            Sequence e_seq_35;
            Generic tmpRec_36;
            if (((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_func_udef)) 
              tmpRec_36 = ((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_func_udef_fnpost);
            else 
              RunTime("Unknown record field selector");
            if (tmpRec_36.IsRecord()) 
              if (((Record) tmpRec_36).Is(vdm_TRL_uMEDIATOR_pred_udef)) 
                e_seq_35 = ((Record) tmpRec_36).GetField(pos_TRL_uMEDIATOR_pred_udef_name);
              else 
                RunTime("Unknown record field selector");
            else 
              RunTime("A record was expected");
            tmpVar_34 = Sequence().ImpAppend(e_seq_35);
            md_33.SetField(1, tmpVar_34);
            md_33.SetField(2, vdm_CI_NilContextId);
            Generic mr_41;
            if (((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_func_udef)) 
              mr_41 = ((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_func_udef_fnpost);
            else 
              RunTime("Unknown record field selector");
            res_m_32.Insert(md_33, mr_41);
          }
        }
      }
    }
  }
  var2_31 = res_m_32;
  {
    Map m1_62 = var1_4;
    Map m2_63 = var2_31;
    Set com_58 = m1_62.Dom();
    com_58.ImpIntersect(m2_63.Dom());
    int all_applies_59 = 1;
    Generic d_60;
    for (int bb_61 = com_58.First(d_60); bb_61 && all_applies_59; bb_61 = com_58.Next(d_60)) 
      all_applies_59 *= m1_62[(Generic) d_60] == m2_63[(Generic) d_60];
    if (!all_applies_59) 
      RunTime("EvalMapMerge Duplicates not equal");
    m1_62.ImpOverride(m2_63);
    varRes_3 = m1_62;
  }
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_ExtractPredicatesInTypes

type_7AS_NameC23TRL_uMEDIATOR_pred_udefCM vdm_TRL_uMEDIATOR_ExtractPredicatesInTypes(const type_7AS_NameCdM &vdm_TRL_uMEDIATOR_tpdefs) {
  Map varRes_3;
  Map res_m_4;
  {
    bool succ_23 = true;
    Set e1_set_26 = vdm_TRL_uMEDIATOR_tpdefs.Dom();
    Record vdm_TRL_uMEDIATOR_nm(vdm_AS_Name, length_AS_Name);
    {
      Generic tmpe_29;
      for (int bb_28 = e1_set_26.First(tmpe_29); bb_28; bb_28 = e1_set_26.Next(tmpe_29)) {
        Record elem_27 = tmpe_29;
        succ_23 = true;        vdm_TRL_uMEDIATOR_nm = elem_27;        if (succ_23) {
          Bool pred_17;
          Generic var1_18;
          if (((Record) (Record) vdm_TRL_uMEDIATOR_tpdefs[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_type_uabbrev_udef)) 
            var1_18 = ((Record) (Record) vdm_TRL_uMEDIATOR_tpdefs[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_type_uabbrev_udef_fninv);
          else 
            if (((Record) (Record) vdm_TRL_uMEDIATOR_tpdefs[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_datatype_udef)) 
              var1_18 = ((Record) (Record) vdm_TRL_uMEDIATOR_tpdefs[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_datatype_udef_fninv);
            else 
              RunTime("Unknown record field selector");
          pred_17 = (Bool) !(var1_18 == Nil());
          if (pred_17.GetValue()) {
            Record md_5(vdm_AS_Name, length_AS_Name);
            md_5 = Record(vdm_AS_Name, length_AS_Name);
            Sequence tmpVar_6;
            Sequence e_seq_7;
            Generic tmpRec_8;
            if (((Record) (Record) vdm_TRL_uMEDIATOR_tpdefs[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_type_uabbrev_udef)) 
              tmpRec_8 = ((Record) (Record) vdm_TRL_uMEDIATOR_tpdefs[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_type_uabbrev_udef_fninv);
            else 
              if (((Record) (Record) vdm_TRL_uMEDIATOR_tpdefs[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_datatype_udef)) 
                tmpRec_8 = ((Record) (Record) vdm_TRL_uMEDIATOR_tpdefs[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_datatype_udef_fninv);
              else 
                RunTime("Unknown record field selector");
            if (tmpRec_8.IsRecord()) 
              if (((Record) tmpRec_8).Is(vdm_TRL_uMEDIATOR_pred_udef)) 
                e_seq_7 = ((Record) tmpRec_8).GetField(pos_TRL_uMEDIATOR_pred_udef_name);
              else 
                RunTime("Unknown record field selector");
            else 
              RunTime("A record was expected");
            tmpVar_6 = Sequence().ImpAppend(e_seq_7);
            md_5.SetField(1, tmpVar_6);
            md_5.SetField(2, vdm_CI_NilContextId);
            Generic mr_13;
            if (((Record) (Record) vdm_TRL_uMEDIATOR_tpdefs[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_type_uabbrev_udef)) 
              mr_13 = ((Record) (Record) vdm_TRL_uMEDIATOR_tpdefs[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_type_uabbrev_udef_fninv);
            else 
              if (((Record) (Record) vdm_TRL_uMEDIATOR_tpdefs[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_datatype_udef)) 
                mr_13 = ((Record) (Record) vdm_TRL_uMEDIATOR_tpdefs[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_datatype_udef_fninv);
              else 
                RunTime("Unknown record field selector");
            res_m_4.Insert(md_5, mr_13);
          }
        }
      }
    }
  }
  varRes_3 = res_m_4;
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_ExtractProofObligationsInFuncs

type_21TRL_uMEDIATOR_po_udefCL vdm_TRL_uMEDIATOR_ExtractProofObligationsInFuncs(const type_7AS_NameCdM &vdm_TRL_uMEDIATOR_fndefs) {
  Sequence varRes_3;
  {
    Set vdm_TRL_uMEDIATOR_po_urng;
    Set res_s_6;
    {
      bool succ_10 = true;
      Set e1_set_13 = vdm_TRL_uMEDIATOR_fndefs.Rng();
      Record vdm_TRL_uMEDIATOR_po;
      {
        Generic tmpe_16;
        for (int bb_15 = e1_set_13.First(tmpe_16); bb_15; bb_15 = e1_set_13.Next(tmpe_16)) {
          Record elem_14 = tmpe_16;
          succ_10 = true;          vdm_TRL_uMEDIATOR_po = elem_14;          if (succ_10) {
            Bool pred_8;
            if (vdm_TRL_uMEDIATOR_po.IsRecord()) 
              pred_8 = vdm_TRL_uMEDIATOR_po_udef == vdm_TRL_uMEDIATOR_po.GetTag();
            else 
              pred_8 = false;
            if (pred_8.GetValue()) { res_s_6.Insert(vdm_TRL_uMEDIATOR_po); }
          }
        }
      }
    }
    vdm_TRL_uMEDIATOR_po_urng = res_s_6;
    varRes_3 = vdm_TRL_uMEDIATOR_SetToSeq((Generic) vdm_TRL_uMEDIATOR_po_urng);
  }
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_ExtractSelectorsInTypes

type_7AS_NameC25TRL_uMEDIATOR_select_udefCM vdm_TRL_uMEDIATOR_ExtractSelectorsInTypes(const type_7AS_NameCdM &vdm_TRL_uMEDIATOR_tpdefs) {
  Map varRes_3;
  {
    Set vdm_TRL_uMEDIATOR_extract_uset_uof_usel_uset;
    Set res_s_6;
    {
      bool succ_23 = true;
      Set e1_set_26 = vdm_TRL_uMEDIATOR_tpdefs.Dom();
      Record vdm_TRL_uMEDIATOR_nm(vdm_AS_Name, length_AS_Name);
      {
        Generic tmpe_29;
        for (int bb_28 = e1_set_26.First(tmpe_29); bb_28; bb_28 = e1_set_26.Next(tmpe_29)) {
          Record elem_27 = tmpe_29;
          succ_23 = true;          vdm_TRL_uMEDIATOR_nm = elem_27;          if (succ_23) {
            Bool pred_12;
            Bool var1_13;
            if (((Record) vdm_TRL_uMEDIATOR_tpdefs[(Generic) vdm_TRL_uMEDIATOR_nm]).IsRecord()) 
              var1_13 = vdm_TRL_uMEDIATOR_datatype_udef == ((Record) vdm_TRL_uMEDIATOR_tpdefs[(Generic) vdm_TRL_uMEDIATOR_nm]).GetTag();
            else 
              var1_13 = false;
{ if ((pred_12 = var1_13).GetValue()) {
   Bool var2_17;
   Generic var1_18;
   if (((Record) (Record) vdm_TRL_uMEDIATOR_tpdefs[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_datatype_udef)) 
     var1_18 = ((Record) (Record) vdm_TRL_uMEDIATOR_tpdefs[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_datatype_udef_fnsel);
   else 
     RunTime("Unknown record field selector");
   var2_17 = (Bool) !(var1_18 == Nil());
   pred_12 = var2_17;
 } }
            if (pred_12.GetValue()) {
              Set res_s_7;
              Generic unArg_8;
              if (((Record) (Record) vdm_TRL_uMEDIATOR_tpdefs[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_datatype_udef)) 
                unArg_8 = ((Record) (Record) vdm_TRL_uMEDIATOR_tpdefs[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_datatype_udef_fnsel);
              else 
                RunTime("Unknown record field selector");
              if (!unArg_8.IsSequence()) 
                RunTime("A sequence was expected");
              else 
                res_s_7 = ((Sequence) unArg_8).Elems();
              res_s_6.Insert(res_s_7);
            }
          }
        }
      }
    }
    vdm_TRL_uMEDIATOR_extract_uset_uof_usel_uset = res_s_6;
    Set vdm_TRL_uMEDIATOR_sel_uset;
    Set rduset_32;
    Generic tmpe_35;
    for (int bb_34 = vdm_TRL_uMEDIATOR_extract_uset_uof_usel_uset.First(tmpe_35); bb_34; bb_34 = vdm_TRL_uMEDIATOR_extract_uset_uof_usel_uset.Next(tmpe_35)) {
      Set e_33 = tmpe_35;
      rduset_32.ImpUnion(e_33);
    }
    vdm_TRL_uMEDIATOR_sel_uset = rduset_32;
    Map vdm_TRL_uMEDIATOR_hol_usel_umap;
    Map res_m_37;
    {
      bool succ_44 = true;

      Record vdm_TRL_uMEDIATOR_sel(vdm_TRL_uMEDIATOR_select_udef, length_TRL_uMEDIATOR_select_udef);
      {
        Generic tmpe_48;
        for (int bb_47 = vdm_TRL_uMEDIATOR_sel_uset.First(tmpe_48); bb_47; bb_47 = vdm_TRL_uMEDIATOR_sel_uset.Next(tmpe_48)) {
          Record elem_46 = tmpe_48;
          succ_44 = true;          vdm_TRL_uMEDIATOR_sel = elem_46;          if (succ_44) {
            Record md_38(vdm_AS_Name, length_AS_Name);
            md_38 = Record(vdm_AS_Name, length_AS_Name);
            Sequence tmpVar_39;
            Sequence e_seq_40;
            if (vdm_TRL_uMEDIATOR_sel.Is(vdm_TRL_uMEDIATOR_select_udef)) 
              e_seq_40 = vdm_TRL_uMEDIATOR_sel.GetField(pos_TRL_uMEDIATOR_select_udef_name);
            else 
              RunTime("Unknown record field selector");
            tmpVar_39 = Sequence().ImpAppend(e_seq_40);
            md_38.SetField(1, tmpVar_39);
            md_38.SetField(2, vdm_CI_NilContextId);
            res_m_37.Insert(md_38, vdm_TRL_uMEDIATOR_sel);
          }
        }
      }
    }
    vdm_TRL_uMEDIATOR_hol_usel_umap = res_m_37;
    varRes_3 = vdm_TRL_uMEDIATOR_hol_usel_umap;
  }
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_List2SeparatorList

TYPE_TRL_uMEDIATOR_string vdm_TRL_uMEDIATOR_List2SeparatorList(const TYPE_TRL_uMEDIATOR_string &vdm_TRL_uMEDIATOR_separator, const type_cLL &vdm_TRL_uMEDIATOR_ss) {
  Sequence varRes_4;
  if (((Bool) (vdm_TRL_uMEDIATOR_ss == Sequence())).GetValue()) 
    varRes_4 = Sequence("");
  else {
    Sequence vdm_TRL_uMEDIATOR_head = (Sequence) vdm_TRL_uMEDIATOR_ss.Hd();
    Sequence vdm_TRL_uMEDIATOR_tail;
    if (((Bool) (vdm_TRL_uMEDIATOR_ss.Tl() == Sequence())).GetValue()) 
      vdm_TRL_uMEDIATOR_tail = Sequence("");
    else 
      vdm_TRL_uMEDIATOR_tail.ImpConc(vdm_TRL_uMEDIATOR_separator).ImpConc(vdm_TRL_uMEDIATOR_List2SeparatorList((Generic) vdm_TRL_uMEDIATOR_separator, (Generic) vdm_TRL_uMEDIATOR_ss.Tl()));
    varRes_4.ImpConc(vdm_TRL_uMEDIATOR_head).ImpConc(vdm_TRL_uMEDIATOR_tail);
  }
  return (Generic) varRes_4;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_RemoveProofObligationsInFuncs

type_7AS_NameCdM vdm_TRL_uMEDIATOR_RemoveProofObligationsInFuncs(const type_7AS_NameCdM &vdm_TRL_uMEDIATOR_fndefs) {
  Map varRes_3;
  {
    Set vdm_TRL_uMEDIATOR_po_udom;
    Set res_s_6;
    {
      bool succ_12 = true;
      Set e1_set_15 = vdm_TRL_uMEDIATOR_fndefs.Dom();
      Record vdm_TRL_uMEDIATOR_nm(vdm_AS_Name, length_AS_Name);
      {
        Generic tmpe_18;
        for (int bb_17 = e1_set_15.First(tmpe_18); bb_17; bb_17 = e1_set_15.Next(tmpe_18)) {
          Record elem_16 = tmpe_18;
          succ_12 = true;          vdm_TRL_uMEDIATOR_nm = elem_16;          if (succ_12) {
            Bool pred_8;
            if (((Record) vdm_TRL_uMEDIATOR_fndefs[(Generic) vdm_TRL_uMEDIATOR_nm]).IsRecord()) 
              pred_8 = vdm_TRL_uMEDIATOR_po_udef == ((Record) vdm_TRL_uMEDIATOR_fndefs[(Generic) vdm_TRL_uMEDIATOR_nm]).GetTag();
            else 
              pred_8 = false;
            if (pred_8.GetValue()) { res_s_6.Insert(vdm_TRL_uMEDIATOR_nm); }
          }
        }
      }
    }
    vdm_TRL_uMEDIATOR_po_udom = res_s_6;
    varRes_3 = vdm_TRL_uMEDIATOR_fndefs;
    {
      Map tmpMap_21;
      Set domM_22 = varRes_3.Dom();
      Generic elm_23;
      for (int bb_24 = domM_22.First(elm_23); bb_24; bb_24 = domM_22.Next(elm_23)) 
        if (!vdm_TRL_uMEDIATOR_po_udom.InSet((Generic) elm_23)) 
          tmpMap_21.Insert(elm_23, varRes_3[(Generic) elm_23]);
      varRes_3 = tmpMap_21;
    }
  }
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_SetToSeq

type_typevariableL vdm_TRL_uMEDIATOR_SetToSeq(const type_typevariableS &vdm_TRL_uMEDIATOR_s) {
  Sequence varRes_3;
  if (((Bool) (vdm_TRL_uMEDIATOR_s == Set())).GetValue()) 
    varRes_3 = Sequence();
  else {
    Set tmpSet_8;
    tmpSet_8 = vdm_TRL_uMEDIATOR_s;
    Generic vdm_TRL_uMEDIATOR_x;
    bool succ_10 = false;
    Generic tmpe_13;
    for (int bb_12 = tmpSet_8.First(tmpe_13); bb_12 && !succ_10; bb_12 = tmpSet_8.Next(tmpe_13)) {
      Generic tmpElem_11 = tmpe_13;
      succ_10 = true;      vdm_TRL_uMEDIATOR_x = tmpElem_11;
    }
    if (!succ_10) 
      RunTime("The binding environment was empty");
    Sequence var1_14;
    var1_14 = Sequence().ImpAppend(vdm_TRL_uMEDIATOR_x);
    Sequence var2_16;
    Set par_17;
    Set var2_19;
    var2_19 = Set().Insert(vdm_TRL_uMEDIATOR_x);
    par_17 = vdm_TRL_uMEDIATOR_s;
    par_17.ImpDiff(var2_19);
    var2_16 = vdm_TRL_uMEDIATOR_SetToSeq((Generic) par_17);
    varRes_3.ImpConc(var1_14).ImpConc(var2_16);
  }
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_Translation

type_cL vdm_TRL_uMEDIATOR_Translation() {
  Generic varRes_2;
  RunTime("Can not evaluate an undefined expression");
  return (Generic) varRes_2;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_pp_uconst_udef

TYPE_TRL_uMEDIATOR_string vdm_TRL_uMEDIATOR_pp_uconst_udef(const TYPE_TRL_uMEDIATOR_const_udef &var_1_1) {
  Sequence vdm_TRL_uMEDIATOR_expr;
  Sequence vdm_TRL_uMEDIATOR_name;
  Sequence vdm_TRL_uMEDIATOR_type;
  bool succ_2 = true;
  if (var_1_1.IsRecord() && vdm_TRL_uMEDIATOR_const_udef == var_1_1.GetTag()) {
    Sequence e_l_22;
    for (int i_23 = 1; i_23 <= var_1_1.Length(); i_23++) 
      e_l_22.ImpAppend(var_1_1.GetField(i_23));
    if (succ_2 = 4 == (Int) e_l_22.Length()) {
      vdm_TRL_uMEDIATOR_name = (Generic) e_l_22.Hd();
      vdm_TRL_uMEDIATOR_type = (Generic) e_l_22[2];
      vdm_TRL_uMEDIATOR_expr = (Generic) e_l_22[3];
    }
  }
  else 
    succ_2 = false;
  if (!succ_2) 
    RunTime("Pattern Match in Function Apply in function : pp_uconst_udef failed");
  Sequence varRes_3;
  {
    Sequence vdm_TRL_uMEDIATOR_nm;
    if (((Bool) (vdm_TRL_uMEDIATOR_type == Sequence(""))).GetValue()) 
      vdm_TRL_uMEDIATOR_nm = vdm_TRL_uMEDIATOR_name;
    else {
      Sequence var1_10;
      Sequence var1_11;
      Sequence var1_12;
      var1_12.ImpConc(Sequence("(")).ImpConc(vdm_TRL_uMEDIATOR_name);
      var1_11.ImpConc(var1_12).ImpConc(Sequence(":"));
      var1_10.ImpConc(var1_11).ImpConc(vdm_TRL_uMEDIATOR_type);
      vdm_TRL_uMEDIATOR_nm.ImpConc(var1_10).ImpConc(Sequence(")"));
    }
    Sequence var1_18;
    var1_18.ImpConc(vdm_TRL_uMEDIATOR_nm).ImpConc(Sequence(" =\n"));
    varRes_3.ImpConc(var1_18).ImpConc(vdm_TRL_uMEDIATOR_expr);
  }
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_pp_udatatype_udef

TYPE_TRL_uMEDIATOR_string vdm_TRL_uMEDIATOR_pp_udatatype_udef(const TYPE_TRL_uMEDIATOR_datatype_udef &var_1_1) {
  Sequence vdm_TRL_uMEDIATOR_name;
  Sequence vdm_TRL_uMEDIATOR_tp;
  bool succ_2 = true;
  if (var_1_1.IsRecord() && vdm_TRL_uMEDIATOR_datatype_udef == var_1_1.GetTag()) {
    Sequence e_l_26;
    for (int i_27 = 1; i_27 <= var_1_1.Length(); i_27++) 
      e_l_26.ImpAppend(var_1_1.GetField(i_27));
    if (succ_2 = 5 == (Int) e_l_26.Length()) {
      vdm_TRL_uMEDIATOR_name = (Generic) e_l_26.Hd();
      vdm_TRL_uMEDIATOR_tp = (Generic) e_l_26[2];
    }
  }
  else 
    succ_2 = false;
  if (!succ_2) 
    RunTime("Pattern Match in Function Apply in function : pp_udatatype_udef failed");
  Sequence varRes_3;
  Sequence var1_4;
  Sequence var1_5;
  Sequence var1_6;
  Sequence var1_7;
  Sequence var1_8;
  Sequence var1_9;
  Sequence var1_10;
  Sequence var1_11;
  Sequence var1_12;
  Sequence var1_13;
  var1_13.ImpConc(Sequence("vdm_datatype \"")).ImpConc(vdm_TRL_uMEDIATOR_name);
  var1_12.ImpConc(var1_13).ImpConc(Sequence("\" `"));
  var1_11.ImpConc(var1_12).ImpConc(vdm_TRL_uMEDIATOR_name);
  var1_10.ImpConc(var1_11).ImpConc(Sequence(" = "));
  var1_9.ImpConc(var1_10).ImpConc(vdm_TRL_uMEDIATOR_tp);
  var1_8.ImpConc(var1_9).ImpConc(Sequence("`;\n\n"));
  var1_7.ImpConc(var1_8).ImpConc(Sequence("val "));
  var1_6.ImpConc(var1_7).ImpConc(vdm_TRL_uMEDIATOR_name);
  var1_5.ImpConc(var1_6).ImpConc(Sequence(" = typeAbbrev `:"));
  var1_4.ImpConc(var1_5).ImpConc(vdm_TRL_uMEDIATOR_name);
  varRes_3.ImpConc(var1_4).ImpConc(Sequence("`"));
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_pp_ufn_udef

TYPE_TRL_uMEDIATOR_string vdm_TRL_uMEDIATOR_pp_ufn_udef(const type_dL &vdm_TRL_uMEDIATOR_fndefs) {
  Sequence varRes_3;
  if (((Bool) (vdm_TRL_uMEDIATOR_fndefs == Sequence())).GetValue()) 
    varRes_3 = Sequence("");
  else 
    if (((Bool) ((Int) vdm_TRL_uMEDIATOR_fndefs.Length() == (Int) 1)).GetValue()) {
      Record vdm_TRL_uMEDIATOR_fndef = (Record) vdm_TRL_uMEDIATOR_fndefs.Hd();
      Sequence vdm_TRL_uMEDIATOR_name;
      if (((Record) vdm_TRL_uMEDIATOR_fndef).Is(vdm_TRL_uMEDIATOR_select_udef)) 
        vdm_TRL_uMEDIATOR_name = ((Record) vdm_TRL_uMEDIATOR_fndef).GetField(pos_TRL_uMEDIATOR_select_udef_name);
      else 
        if (((Record) vdm_TRL_uMEDIATOR_fndef).Is(vdm_TRL_uMEDIATOR_pred_udef)) 
          vdm_TRL_uMEDIATOR_name = ((Record) vdm_TRL_uMEDIATOR_fndef).GetField(pos_TRL_uMEDIATOR_pred_udef_name);
        else 
          if (((Record) vdm_TRL_uMEDIATOR_fndef).Is(vdm_TRL_uMEDIATOR_po_udef)) 
            vdm_TRL_uMEDIATOR_name = ((Record) vdm_TRL_uMEDIATOR_fndef).GetField(pos_TRL_uMEDIATOR_po_udef_name);
          else 
            if (((Record) vdm_TRL_uMEDIATOR_fndef).Is(vdm_TRL_uMEDIATOR_func_udef)) 
              vdm_TRL_uMEDIATOR_name = ((Record) vdm_TRL_uMEDIATOR_fndef).GetField(pos_TRL_uMEDIATOR_func_udef_name);
            else 
              if (((Record) vdm_TRL_uMEDIATOR_fndef).Is(vdm_TRL_uMEDIATOR_const_udef)) 
                vdm_TRL_uMEDIATOR_name = ((Record) vdm_TRL_uMEDIATOR_fndef).GetField(pos_TRL_uMEDIATOR_const_udef_name);
              else 
                RunTime("Unknown record field selector");
      Bool cond_90;
      Set var2_92;
      if (((Record) vdm_TRL_uMEDIATOR_fndef).Is(vdm_TRL_uMEDIATOR_select_udef)) 
        var2_92 = ((Record) vdm_TRL_uMEDIATOR_fndef).GetField(pos_TRL_uMEDIATOR_select_udef_fv);
      else 
        if (((Record) vdm_TRL_uMEDIATOR_fndef).Is(vdm_TRL_uMEDIATOR_pred_udef)) 
          var2_92 = ((Record) vdm_TRL_uMEDIATOR_fndef).GetField(pos_TRL_uMEDIATOR_pred_udef_fv);
        else 
          if (((Record) vdm_TRL_uMEDIATOR_fndef).Is(vdm_TRL_uMEDIATOR_po_udef)) 
            var2_92 = ((Record) vdm_TRL_uMEDIATOR_fndef).GetField(pos_TRL_uMEDIATOR_po_udef_fv);
          else 
            if (((Record) vdm_TRL_uMEDIATOR_fndef).Is(vdm_TRL_uMEDIATOR_func_udef)) 
              var2_92 = ((Record) vdm_TRL_uMEDIATOR_fndef).GetField(pos_TRL_uMEDIATOR_func_udef_fv);
            else 
              if (((Record) vdm_TRL_uMEDIATOR_fndef).Is(vdm_TRL_uMEDIATOR_const_udef)) 
                var2_92 = ((Record) vdm_TRL_uMEDIATOR_fndef).GetField(pos_TRL_uMEDIATOR_const_udef_fv);
              else 
                RunTime("Unknown record field selector");
      cond_90 = (Bool) var2_92.InSet((Generic) vdm_TRL_uMEDIATOR_name);
      if (cond_90.GetValue()) {
        Generic var1_154;
        bool succ_155 = true;
        {
          succ_155 = true;
          if (vdm_TRL_uMEDIATOR_fndef.IsRecord() && vdm_TRL_uMEDIATOR_func_udef == ((Record) vdm_TRL_uMEDIATOR_fndef).GetTag()) {
            Sequence e_l_158;
            for (int i_159 = 1; i_159 <= ((Record) vdm_TRL_uMEDIATOR_fndef).Length(); i_159++) 
              e_l_158.ImpAppend(((Record) vdm_TRL_uMEDIATOR_fndef).GetField(i_159));
            if (succ_155 = 9 == (Int) e_l_158.Length()) {}
          }
          else 
            succ_155 = false;
          if (succ_155) {
            Sequence var1_160;
            Sequence var1_161;
            Sequence var1_162;
            var1_162.ImpConc(Sequence("val _ = rfunc \"")).ImpConc(vdm_TRL_uMEDIATOR_name);
            var1_161.ImpConc(var1_162).ImpConc(Sequence("\" `"));
            var1_160.ImpConc(var1_161).ImpConc(vdm_TRL_uMEDIATOR_pp_ufunc_udef((Generic) vdm_TRL_uMEDIATOR_fndef));
            var1_154 = Sequence().ImpConc(var1_160).ImpConc(Sequence("`"));
          }
        }
        if (!succ_155) 
          RunTime("Can not evaluate an undefined expression");
        varRes_3.ImpConc(var1_154).ImpConc(Sequence(";\n\n"));
      }
      else {
        Generic var1_94;
        bool succ_95 = true;
        {
          succ_95 = true;
          if (vdm_TRL_uMEDIATOR_fndef.IsRecord() && vdm_TRL_uMEDIATOR_func_udef == ((Record) vdm_TRL_uMEDIATOR_fndef).GetTag()) {
            Sequence e_l_98;
            for (int i_99 = 1; i_99 <= ((Record) vdm_TRL_uMEDIATOR_fndef).Length(); i_99++) 
              e_l_98.ImpAppend(((Record) vdm_TRL_uMEDIATOR_fndef).GetField(i_99));
            if (succ_95 = 9 == (Int) e_l_98.Length()) {}
          }
          else 
            succ_95 = false;
          if (succ_95) {
            Sequence var1_100;
            Sequence var1_101;
            Sequence var1_102;
            var1_102.ImpConc(Sequence("val _ = func \"")).ImpConc(vdm_TRL_uMEDIATOR_name);
            var1_101.ImpConc(var1_102).ImpConc(Sequence("\" `"));
            var1_100.ImpConc(var1_101).ImpConc(vdm_TRL_uMEDIATOR_pp_ufunc_udef((Generic) vdm_TRL_uMEDIATOR_fndef));
            var1_94 = Sequence().ImpConc(var1_100).ImpConc(Sequence("`"));
          }
        }
        if (!succ_95) {
          succ_95 = true;
          if (vdm_TRL_uMEDIATOR_fndef.IsRecord() && vdm_TRL_uMEDIATOR_select_udef == ((Record) vdm_TRL_uMEDIATOR_fndef).GetTag()) {
            Sequence e_l_109;
            for (int i_110 = 1; i_110 <= ((Record) vdm_TRL_uMEDIATOR_fndef).Length(); i_110++) 
              e_l_109.ImpAppend(((Record) vdm_TRL_uMEDIATOR_fndef).GetField(i_110));
            if (succ_95 = 6 == (Int) e_l_109.Length()) {}
          }
          else 
            succ_95 = false;
          if (succ_95) {
            Sequence var1_111;
            Sequence var1_112;
            Sequence var1_113;
            var1_113.ImpConc(Sequence("val _ = select \"")).ImpConc(vdm_TRL_uMEDIATOR_name);
            var1_112.ImpConc(var1_113).ImpConc(Sequence("\" `"));
            var1_111.ImpConc(var1_112).ImpConc(vdm_TRL_uMEDIATOR_pp_uselect_udef((Generic) vdm_TRL_uMEDIATOR_fndef));
            var1_94 = Sequence().ImpConc(var1_111).ImpConc(Sequence("`"));
          }
        }
        if (!succ_95) {
          succ_95 = true;
          if (vdm_TRL_uMEDIATOR_fndef.IsRecord() && vdm_TRL_uMEDIATOR_pred_udef == ((Record) vdm_TRL_uMEDIATOR_fndef).GetTag()) {
            Sequence e_l_120;
            for (int i_121 = 1; i_121 <= ((Record) vdm_TRL_uMEDIATOR_fndef).Length(); i_121++) 
              e_l_120.ImpAppend(((Record) vdm_TRL_uMEDIATOR_fndef).GetField(i_121));
            if (succ_95 = 6 == (Int) e_l_120.Length()) {}
          }
          else 
            succ_95 = false;
          if (succ_95) {
            Sequence var1_122;
            Sequence var1_123;
            Sequence var1_124;
            var1_124.ImpConc(Sequence("val _ = pred \"")).ImpConc(vdm_TRL_uMEDIATOR_name);
            var1_123.ImpConc(var1_124).ImpConc(Sequence("\" `"));
            var1_122.ImpConc(var1_123).ImpConc(vdm_TRL_uMEDIATOR_pp_upred_udef((Generic) vdm_TRL_uMEDIATOR_fndef));
            var1_94 = Sequence().ImpConc(var1_122).ImpConc(Sequence("`"));
          }
        }
        if (!succ_95) {
          succ_95 = true;
          if (vdm_TRL_uMEDIATOR_fndef.IsRecord() && vdm_TRL_uMEDIATOR_const_udef == ((Record) vdm_TRL_uMEDIATOR_fndef).GetTag()) {
            Sequence e_l_131;
            for (int i_132 = 1; i_132 <= ((Record) vdm_TRL_uMEDIATOR_fndef).Length(); i_132++) 
              e_l_131.ImpAppend(((Record) vdm_TRL_uMEDIATOR_fndef).GetField(i_132));
            if (succ_95 = 4 == (Int) e_l_131.Length()) {}
          }
          else 
            succ_95 = false;
          if (succ_95) {
            Sequence var1_133;
            Sequence var1_134;
            Sequence var1_135;
            var1_135.ImpConc(Sequence("val _ = func \"")).ImpConc(vdm_TRL_uMEDIATOR_name);
            var1_134.ImpConc(var1_135).ImpConc(Sequence("\" `"));
            var1_133.ImpConc(var1_134).ImpConc(vdm_TRL_uMEDIATOR_pp_uconst_udef((Generic) vdm_TRL_uMEDIATOR_fndef));
            var1_94 = Sequence().ImpConc(var1_133).ImpConc(Sequence("`"));
          }
        }
        if (!succ_95) {
          succ_95 = true;
          if (vdm_TRL_uMEDIATOR_fndef.IsRecord() && vdm_TRL_uMEDIATOR_po_udef == ((Record) vdm_TRL_uMEDIATOR_fndef).GetTag()) {
            Sequence e_l_142;
            for (int i_143 = 1; i_143 <= ((Record) vdm_TRL_uMEDIATOR_fndef).Length(); i_143++) 
              e_l_142.ImpAppend(((Record) vdm_TRL_uMEDIATOR_fndef).GetField(i_143));
            if (succ_95 = 3 == (Int) e_l_142.Length()) {}
          }
          else 
            succ_95 = false;
          if (succ_95) {
            Sequence var1_144;
            Sequence var1_145;
            Sequence var1_146;
            var1_146.ImpConc(Sequence("val _ = proof_oblg \"")).ImpConc(vdm_TRL_uMEDIATOR_name);
            var1_145.ImpConc(var1_146).ImpConc(Sequence("\" `"));
            var1_144.ImpConc(var1_145).ImpConc(vdm_TRL_uMEDIATOR_pp_upo_udef((Generic) vdm_TRL_uMEDIATOR_fndef));
            var1_94 = Sequence().ImpConc(var1_144).ImpConc(Sequence("`"));
          }
        }
        if (!succ_95) 
          RunTime("Can not evaluate an undefined expression");
        varRes_3.ImpConc(var1_94).ImpConc(Sequence(";\n\n"));
      }
    }
    else {
      Sequence vdm_TRL_uMEDIATOR_names;
      {
        Sequence res_l_10;
        Set resBind_s_12;
        Set riseq_16;
        int max_17 = (Int) vdm_TRL_uMEDIATOR_fndefs.Length();
        for (int i_18 = 1; i_18 <= max_17; i_18++) 
          riseq_16.Insert((Int) i_18);
        resBind_s_12 = riseq_16;
        Sequence bind_l_11;
        if ((Int) resBind_s_12.Card() != (Int) 0) 
          bind_l_11 = Sort(resBind_s_12);
        bool succ_13 = true;
        Int vdm_TRL_uMEDIATOR_i;
        Generic tmpe_24;
        for (int i_23 = bind_l_11.First(tmpe_24); i_23; i_23 = bind_l_11.Next(tmpe_24)) {
          Int e_14 = tmpe_24;
          vdm_TRL_uMEDIATOR_i = e_14;
          if (succ_13) {
            Sequence reselem_19;
            if (((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).Is(vdm_TRL_uMEDIATOR_select_udef)) 
              reselem_19 = ((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).GetField(pos_TRL_uMEDIATOR_select_udef_name);
            else 
              if (((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).Is(vdm_TRL_uMEDIATOR_pred_udef)) 
                reselem_19 = ((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).GetField(pos_TRL_uMEDIATOR_pred_udef_name);
              else 
                if (((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).Is(vdm_TRL_uMEDIATOR_po_udef)) 
                  reselem_19 = ((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).GetField(pos_TRL_uMEDIATOR_po_udef_name);
                else 
                  if (((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).Is(vdm_TRL_uMEDIATOR_func_udef)) 
                    reselem_19 = ((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).GetField(pos_TRL_uMEDIATOR_func_udef_name);
                  else 
                    if (((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).Is(vdm_TRL_uMEDIATOR_const_udef)) 
                      reselem_19 = ((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).GetField(pos_TRL_uMEDIATOR_const_udef_name);
                    else 
                      RunTime("Unknown record field selector");
            res_l_10.ImpAppend(reselem_19);
          }
        }
        vdm_TRL_uMEDIATOR_names = res_l_10;
      }
      Sequence vdm_TRL_uMEDIATOR_pp_unames;
      Sequence var1_26;
      var1_26.ImpConc(Sequence("[\"")).ImpConc(vdm_TRL_uMEDIATOR_List2SeparatorList((Generic) Sequence(",\""), (Generic) vdm_TRL_uMEDIATOR_names));
      vdm_TRL_uMEDIATOR_pp_unames.ImpConc(var1_26).ImpConc(Sequence("\"]"));
      Sequence vdm_TRL_uMEDIATOR_pp_ufndefs;
      Sequence unArg_33;
      {
        Sequence res_l_34;
        Set resBind_s_36;
        Set riseq_40;
        int max_41 = (Int) vdm_TRL_uMEDIATOR_fndefs.Length();
        for (int i_42 = 1; i_42 <= max_41; i_42++) 
          riseq_40.Insert((Int) i_42);
        resBind_s_36 = riseq_40;
        Sequence bind_l_35;
        if ((Int) resBind_s_36.Card() != (Int) 0) 
          bind_l_35 = Sort(resBind_s_36);
        bool succ_37 = true;
        Int vdm_TRL_uMEDIATOR_i;
        Generic tmpe_67;
        for (int i_66 = bind_l_35.First(tmpe_67); i_66; i_66 = bind_l_35.Next(tmpe_67)) {
          Int e_38 = tmpe_67;
          vdm_TRL_uMEDIATOR_i = e_38;
          if (succ_37) {
            Sequence reselem_43;
            Generic var1_44;
            bool succ_45 = true;
            {
              succ_45 = true;
              if (((Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).IsRecord() && vdm_TRL_uMEDIATOR_func_udef == ((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).GetTag()) {
                Sequence e_l_50;
                for (int i_51 = 1; i_51 <= ((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).Length(); i_51++) 
                  e_l_50.ImpAppend(((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).GetField(i_51));
                if (succ_45 = 9 == (Int) e_l_50.Length()) {}
              }
              else 
                succ_45 = false;
              if (succ_45) 
                var1_44 = vdm_TRL_uMEDIATOR_pp_ufunc_udef((Generic) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]);
            }
            if (!succ_45) {
              succ_45 = true;
              if (((Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).IsRecord() && vdm_TRL_uMEDIATOR_pred_udef == ((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).GetTag()) {
                Sequence e_l_55;
                for (int i_56 = 1; i_56 <= ((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).Length(); i_56++) 
                  e_l_55.ImpAppend(((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).GetField(i_56));
                if (succ_45 = 6 == (Int) e_l_55.Length()) {}
              }
              else 
                succ_45 = false;
              if (succ_45) 
                var1_44 = vdm_TRL_uMEDIATOR_pp_upred_udef((Generic) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]);
            }
            if (!succ_45) {
              succ_45 = true;
              if (((Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).IsRecord() && vdm_TRL_uMEDIATOR_const_udef == ((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).GetTag()) {
                Sequence e_l_60;
                for (int i_61 = 1; i_61 <= ((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).Length(); i_61++) 
                  e_l_60.ImpAppend(((Record) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).GetField(i_61));
                if (succ_45 = 4 == (Int) e_l_60.Length()) {}
              }
              else 
                succ_45 = false;
              if (succ_45) 
                var1_44 = vdm_TRL_uMEDIATOR_pp_uconst_udef((Generic) (Record) vdm_TRL_uMEDIATOR_fndefs[vdm_TRL_uMEDIATOR_i.GetValue()]);
            }
            if (!succ_45) 
              RunTime("Can not evaluate an undefined expression");
            reselem_43.ImpConc(var1_44).ImpConc(Sequence(";\n/\\\n"));
            res_l_34.ImpAppend(reselem_43);
          }
        }
        unArg_33 = res_l_34;
      }
      Sequence rdcseq_68;      Generic tmpe_71;      for (int i_70 = unArg_33.First(tmpe_71); i_70; i_70 = unArg_33.Next(tmpe_71)) {
        Sequence e_69 = tmpe_71;
        rdcseq_68.ImpConc(e_69);
      }      vdm_TRL_uMEDIATOR_pp_ufndefs = rdcseq_68;
      Sequence var1_72;
      Sequence var1_73;
      Sequence var1_74;
      var1_74.ImpConc(Sequence("val _ = mfunc ")).ImpConc(vdm_TRL_uMEDIATOR_pp_unames);
      var1_73.ImpConc(var1_74).ImpConc(Sequence(" `"));
      var1_72.ImpConc(var1_73).ImpConc(vdm_TRL_uMEDIATOR_pp_ufndefs);
      varRes_3.ImpConc(var1_72).ImpConc(Sequence("`;\n\n"));
    }
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_pp_ufunc_udef

TYPE_TRL_uMEDIATOR_string vdm_TRL_uMEDIATOR_pp_ufunc_udef(const TYPE_TRL_uMEDIATOR_func_udef &var_1_1) {
  Sequence vdm_TRL_uMEDIATOR_body;
  Sequence vdm_TRL_uMEDIATOR_fntp;
  Sequence vdm_TRL_uMEDIATOR_name;
  Sequence vdm_TRL_uMEDIATOR_parms;
  bool succ_2 = true;
  if (var_1_1.IsRecord() && vdm_TRL_uMEDIATOR_func_udef == var_1_1.GetTag()) {
    Sequence e_l_37;
    for (int i_38 = 1; i_38 <= var_1_1.Length(); i_38++) 
      e_l_37.ImpAppend(var_1_1.GetField(i_38));
    if (succ_2 = 9 == (Int) e_l_37.Length()) {
      vdm_TRL_uMEDIATOR_name = (Generic) e_l_37.Hd();
      vdm_TRL_uMEDIATOR_fntp = (Generic) e_l_37[2];
      vdm_TRL_uMEDIATOR_parms = (Generic) e_l_37[3];
      vdm_TRL_uMEDIATOR_body = (Generic) e_l_37[5];
    }
  }
  else 
    succ_2 = false;
  if (!succ_2) 
    RunTime("Pattern Match in Function Apply in function : pp_ufunc_udef failed");
  Sequence varRes_3;
  {
    Sequence vdm_TRL_uMEDIATOR_tp;
    Sequence var1_6;
    var1_6.ImpConc(Sequence("^(ty_antiq (Type `:")).ImpConc(vdm_TRL_uMEDIATOR_fntp);
    vdm_TRL_uMEDIATOR_tp.ImpConc(var1_6).ImpConc(Sequence("`))"));
    Sequence vdm_TRL_uMEDIATOR_nm;
    Sequence var1_11;
    Sequence var1_12;
    Sequence var1_13;
    var1_13.ImpConc(Sequence("(")).ImpConc(vdm_TRL_uMEDIATOR_name);
    var1_12.ImpConc(var1_13).ImpConc(Sequence(":"));
    var1_11.ImpConc(var1_12).ImpConc(vdm_TRL_uMEDIATOR_tp);
    vdm_TRL_uMEDIATOR_nm.ImpConc(var1_11).ImpConc(Sequence(")"));
    if (((Bool) (vdm_TRL_uMEDIATOR_parms == Sequence())).GetValue()) {
      Sequence var1_33;
      var1_33.ImpConc(vdm_TRL_uMEDIATOR_nm).ImpConc(Sequence(" =\n"));
      varRes_3.ImpConc(var1_33).ImpConc(vdm_TRL_uMEDIATOR_body);
    }
    else {
      Sequence var1_23;
      Sequence var1_24;
      Sequence var1_25;
      var1_25.ImpConc(vdm_TRL_uMEDIATOR_nm).ImpConc(Sequence("("));
      var1_24.ImpConc(var1_25).ImpConc(vdm_TRL_uMEDIATOR_List2SeparatorList((Generic) Sequence(","), (Generic) vdm_TRL_uMEDIATOR_parms));
      var1_23.ImpConc(var1_24).ImpConc(Sequence(") =\n"));
      varRes_3.ImpConc(var1_23).ImpConc(vdm_TRL_uMEDIATOR_body);
    }
  }
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_pp_upo_udef

TYPE_TRL_uMEDIATOR_string vdm_TRL_uMEDIATOR_pp_upo_udef(const TYPE_TRL_uMEDIATOR_po_udef &var_1_1) {
  Sequence vdm_TRL_uMEDIATOR_expr;
  Sequence vdm_TRL_uMEDIATOR_name;
  bool succ_2 = true;
  if (var_1_1.IsRecord() && vdm_TRL_uMEDIATOR_po_udef == var_1_1.GetTag()) {
    Sequence e_l_8;
    for (int i_9 = 1; i_9 <= var_1_1.Length(); i_9++) 
      e_l_8.ImpAppend(var_1_1.GetField(i_9));
    if (succ_2 = 3 == (Int) e_l_8.Length()) {
      vdm_TRL_uMEDIATOR_name = (Generic) e_l_8.Hd();
      vdm_TRL_uMEDIATOR_expr = (Generic) e_l_8[2];
    }
  }
  else 
    succ_2 = false;
  if (!succ_2) 
    RunTime("Pattern Match in Function Apply in function : pp_upo_udef failed");
  Sequence varRes_3;
  Sequence var1_4;
  var1_4.ImpConc(vdm_TRL_uMEDIATOR_name).ImpConc(Sequence(" =\n"));
  varRes_3.ImpConc(var1_4).ImpConc(vdm_TRL_uMEDIATOR_expr);
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_pp_upred_udef

TYPE_TRL_uMEDIATOR_string vdm_TRL_uMEDIATOR_pp_upred_udef(const TYPE_TRL_uMEDIATOR_pred_udef &var_1_1) {
  Sequence vdm_TRL_uMEDIATOR_body;
  Sequence vdm_TRL_uMEDIATOR_fntp;
  Sequence vdm_TRL_uMEDIATOR_name;
  Sequence vdm_TRL_uMEDIATOR_parms;
  bool succ_2 = true;
  if (var_1_1.IsRecord() && vdm_TRL_uMEDIATOR_pred_udef == var_1_1.GetTag()) {
    Sequence e_l_29;
    for (int i_30 = 1; i_30 <= var_1_1.Length(); i_30++) 
      e_l_29.ImpAppend(var_1_1.GetField(i_30));
    if (succ_2 = 6 == (Int) e_l_29.Length()) {
      vdm_TRL_uMEDIATOR_name = (Generic) e_l_29.Hd();
      vdm_TRL_uMEDIATOR_fntp = (Generic) e_l_29[2];
      vdm_TRL_uMEDIATOR_parms = (Generic) e_l_29[3];
      vdm_TRL_uMEDIATOR_body = (Generic) e_l_29[5];
    }
  }
  else 
    succ_2 = false;
  if (!succ_2) 
    RunTime("Pattern Match in Function Apply in function : pp_upred_udef failed");
  Sequence varRes_3;
  {
    Sequence vdm_TRL_uMEDIATOR_tp;
    Sequence var1_6;
    var1_6.ImpConc(Sequence("^(ty_antiq (Type `:")).ImpConc(vdm_TRL_uMEDIATOR_fntp);
    vdm_TRL_uMEDIATOR_tp.ImpConc(var1_6).ImpConc(Sequence("`))"));
    Sequence vdm_TRL_uMEDIATOR_nm;
    Sequence var1_11;
    Sequence var1_12;
    Sequence var1_13;
    var1_13.ImpConc(Sequence("(")).ImpConc(vdm_TRL_uMEDIATOR_name);
    var1_12.ImpConc(var1_13).ImpConc(Sequence(":"));
    var1_11.ImpConc(var1_12).ImpConc(vdm_TRL_uMEDIATOR_tp);
    vdm_TRL_uMEDIATOR_nm.ImpConc(var1_11).ImpConc(Sequence(")"));
    Sequence var1_19;
    Sequence var1_20;
    Sequence var1_21;
    var1_21.ImpConc(vdm_TRL_uMEDIATOR_nm).ImpConc(Sequence("("));
    var1_20.ImpConc(var1_21).ImpConc(vdm_TRL_uMEDIATOR_List2SeparatorList((Generic) Sequence(","), (Generic) vdm_TRL_uMEDIATOR_parms));
    var1_19.ImpConc(var1_20).ImpConc(Sequence(") =\n"));
    varRes_3.ImpConc(var1_19).ImpConc(vdm_TRL_uMEDIATOR_body);
  }
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_pp_uselect_udef

TYPE_TRL_uMEDIATOR_string vdm_TRL_uMEDIATOR_pp_uselect_udef(const TYPE_TRL_uMEDIATOR_select_udef &var_1_1) {
  Sequence vdm_TRL_uMEDIATOR_body;
  Sequence vdm_TRL_uMEDIATOR_fntp;
  Sequence vdm_TRL_uMEDIATOR_name;
  Sequence vdm_TRL_uMEDIATOR_parms;
  bool succ_2 = true;
  if (var_1_1.IsRecord() && vdm_TRL_uMEDIATOR_select_udef == var_1_1.GetTag()) {
    Sequence e_l_29;
    for (int i_30 = 1; i_30 <= var_1_1.Length(); i_30++) 
      e_l_29.ImpAppend(var_1_1.GetField(i_30));
    if (succ_2 = 6 == (Int) e_l_29.Length()) {
      vdm_TRL_uMEDIATOR_name = (Generic) e_l_29.Hd();
      vdm_TRL_uMEDIATOR_fntp = (Generic) e_l_29[2];
      vdm_TRL_uMEDIATOR_parms = (Generic) e_l_29[3];
      vdm_TRL_uMEDIATOR_body = (Generic) e_l_29[5];
    }
  }
  else 
    succ_2 = false;
  if (!succ_2) 
    RunTime("Pattern Match in Function Apply in function : pp_uselect_udef failed");
  Sequence varRes_3;
  {
    Sequence vdm_TRL_uMEDIATOR_tp;
    Sequence var1_6;
    var1_6.ImpConc(Sequence("^(ty_antiq (Type `:")).ImpConc(vdm_TRL_uMEDIATOR_fntp);
    vdm_TRL_uMEDIATOR_tp.ImpConc(var1_6).ImpConc(Sequence("`))"));
    Sequence vdm_TRL_uMEDIATOR_nm;
    Sequence var1_11;
    Sequence var1_12;
    Sequence var1_13;
    var1_13.ImpConc(Sequence("(")).ImpConc(vdm_TRL_uMEDIATOR_name);
    var1_12.ImpConc(var1_13).ImpConc(Sequence(":"));
    var1_11.ImpConc(var1_12).ImpConc(vdm_TRL_uMEDIATOR_tp);
    vdm_TRL_uMEDIATOR_nm.ImpConc(var1_11).ImpConc(Sequence(")"));
    Sequence var1_19;
    Sequence var1_20;
    Sequence var1_21;
    var1_21.ImpConc(vdm_TRL_uMEDIATOR_nm).ImpConc(Sequence("("));
    var1_20.ImpConc(var1_21).ImpConc(vdm_TRL_uMEDIATOR_List2SeparatorList((Generic) Sequence(","), (Generic) vdm_TRL_uMEDIATOR_parms));
    var1_19.ImpConc(var1_20).ImpConc(Sequence(") =\n"));
    varRes_3.ImpConc(var1_19).ImpConc(vdm_TRL_uMEDIATOR_body);
  }
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_pp_utype_uabbrev_udef

TYPE_TRL_uMEDIATOR_string vdm_TRL_uMEDIATOR_pp_utype_uabbrev_udef(const TYPE_TRL_uMEDIATOR_type_uabbrev_udef &var_1_1) {
  Sequence vdm_TRL_uMEDIATOR_name;
  Sequence vdm_TRL_uMEDIATOR_tp;
  bool succ_2 = true;
  if (var_1_1.IsRecord() && vdm_TRL_uMEDIATOR_type_uabbrev_udef == var_1_1.GetTag()) {
    Sequence e_l_12;
    for (int i_13 = 1; i_13 <= var_1_1.Length(); i_13++) 
      e_l_12.ImpAppend(var_1_1.GetField(i_13));
    if (succ_2 = 4 == (Int) e_l_12.Length()) {
      vdm_TRL_uMEDIATOR_name = (Generic) e_l_12.Hd();
      vdm_TRL_uMEDIATOR_tp = (Generic) e_l_12[2];
    }
  }
  else 
    succ_2 = false;
  if (!succ_2) 
    RunTime("Pattern Match in Function Apply in function : pp_utype_uabbrev_udef failed");
  Sequence varRes_3;
  Sequence var1_4;
  Sequence var1_5;
  Sequence var1_6;
  var1_6.ImpConc(Sequence("val ")).ImpConc(vdm_TRL_uMEDIATOR_name);
  var1_5.ImpConc(var1_6).ImpConc(Sequence(" = \n       typeAbbrev `:"));
  var1_4.ImpConc(var1_5).ImpConc(vdm_TRL_uMEDIATOR_tp);
  varRes_3.ImpConc(var1_4).ImpConc(Sequence("`"));
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_pp_utype_udef

TYPE_TRL_uMEDIATOR_string vdm_TRL_uMEDIATOR_pp_utype_udef(const type_dL &vdm_TRL_uMEDIATOR_tp_udef) {
  Sequence varRes_3;
  Sequence unArg_4;
  {
    Sequence res_l_5;
    Set resBind_s_7;
    Set riseq_11;
    int max_12 = (Int) vdm_TRL_uMEDIATOR_tp_udef.Length();
    for (int i_13 = 1; i_13 <= max_12; i_13++) 
      riseq_11.Insert((Int) i_13);
    resBind_s_7 = riseq_11;
    Sequence bind_l_6;
    if ((Int) resBind_s_7.Card() != (Int) 0) 
      bind_l_6 = Sort(resBind_s_7);
    bool succ_8 = true;
    Int vdm_TRL_uMEDIATOR_i;
    Generic tmpe_33;
    for (int i_32 = bind_l_6.First(tmpe_33); i_32; i_32 = bind_l_6.Next(tmpe_33)) {
      Int e_9 = tmpe_33;
      vdm_TRL_uMEDIATOR_i = e_9;
      if (succ_8) {
        Sequence reselem_14;
        Generic var1_15;
        bool succ_16 = true;
        {
          succ_16 = true;
          if (((Record) vdm_TRL_uMEDIATOR_tp_udef[vdm_TRL_uMEDIATOR_i.GetValue()]).IsRecord() && vdm_TRL_uMEDIATOR_datatype_udef == ((Record) (Record) vdm_TRL_uMEDIATOR_tp_udef[vdm_TRL_uMEDIATOR_i.GetValue()]).GetTag()) {
            Sequence e_l_21;
            for (int i_22 = 1; i_22 <= ((Record) (Record) vdm_TRL_uMEDIATOR_tp_udef[vdm_TRL_uMEDIATOR_i.GetValue()]).Length(); i_22++) 
              e_l_21.ImpAppend(((Record) (Record) vdm_TRL_uMEDIATOR_tp_udef[vdm_TRL_uMEDIATOR_i.GetValue()]).GetField(i_22));
            if (succ_16 = 5 == (Int) e_l_21.Length()) {}
          }
          else 
            succ_16 = false;
          if (succ_16) 
            var1_15 = vdm_TRL_uMEDIATOR_pp_udatatype_udef((Generic) (Record) vdm_TRL_uMEDIATOR_tp_udef[vdm_TRL_uMEDIATOR_i.GetValue()]);
        }
        if (!succ_16) {
          succ_16 = true;
          if (((Record) vdm_TRL_uMEDIATOR_tp_udef[vdm_TRL_uMEDIATOR_i.GetValue()]).IsRecord() && vdm_TRL_uMEDIATOR_type_uabbrev_udef == ((Record) (Record) vdm_TRL_uMEDIATOR_tp_udef[vdm_TRL_uMEDIATOR_i.GetValue()]).GetTag()) {
            Sequence e_l_26;
            for (int i_27 = 1; i_27 <= ((Record) (Record) vdm_TRL_uMEDIATOR_tp_udef[vdm_TRL_uMEDIATOR_i.GetValue()]).Length(); i_27++) 
              e_l_26.ImpAppend(((Record) (Record) vdm_TRL_uMEDIATOR_tp_udef[vdm_TRL_uMEDIATOR_i.GetValue()]).GetField(i_27));
            if (succ_16 = 4 == (Int) e_l_26.Length()) {}
          }
          else 
            succ_16 = false;
          if (succ_16) 
            var1_15 = vdm_TRL_uMEDIATOR_pp_utype_uabbrev_udef((Generic) (Record) vdm_TRL_uMEDIATOR_tp_udef[vdm_TRL_uMEDIATOR_i.GetValue()]);
        }
        if (!succ_16) 
          RunTime("Can not evaluate an undefined expression");
        reselem_14.ImpConc(var1_15).ImpConc(Sequence(";\n\n"));
        res_l_5.ImpAppend(reselem_14);
      }
    }
    unArg_4 = res_l_5;
  }
  varRes_3 = (Sequence) unArg_4.Hd();
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_trv_uFnDef

TYPE_TRL_uMEDIATOR_fn_udef vdm_TRL_uMEDIATOR_trv_uFnDef(const TYPE_AS_FnDef &vdm_TRL_uMEDIATOR_fndef) {
  Generic varRes_3;
  {
    Record vdm_TRL_uMEDIATOR_trv_ufndef = vdm_TRL_uTRA_uDEF_trv_uFnDef((Generic) vdm_TRL_uMEDIATOR_fndef);
    bool succ_7 = true;
    {
      succ_7 = true;
      if (vdm_TRL_uMEDIATOR_trv_ufndef.IsRecord() && vdm_TRL_uTAR_uDEF_func_udef == ((Record) vdm_TRL_uMEDIATOR_trv_ufndef).GetTag()) {
        Sequence e_l_10;
        for (int i_11 = 1; i_11 <= ((Record) vdm_TRL_uMEDIATOR_trv_ufndef).Length(); i_11++) 
          e_l_10.ImpAppend(((Record) vdm_TRL_uMEDIATOR_trv_ufndef).GetField(i_11));
        if (succ_7 = 9 == (Int) e_l_10.Length()) {}
      }
      else 
        succ_7 = false;
      if (succ_7) 
        varRes_3 = vdm_TRL_uMEDIATOR_Convert_ufunc_udef((Generic) vdm_TRL_uMEDIATOR_trv_ufndef);
    }
    if (!succ_7) {
      succ_7 = true;
      if (vdm_TRL_uMEDIATOR_trv_ufndef.IsRecord() && vdm_TRL_uTAR_uDEF_po_udef == ((Record) vdm_TRL_uMEDIATOR_trv_ufndef).GetTag()) {
        Sequence e_l_13;
        for (int i_14 = 1; i_14 <= ((Record) vdm_TRL_uMEDIATOR_trv_ufndef).Length(); i_14++) 
          e_l_13.ImpAppend(((Record) vdm_TRL_uMEDIATOR_trv_ufndef).GetField(i_14));
        if (succ_7 = 3 == (Int) e_l_13.Length()) {}
      }
      else 
        succ_7 = false;
      if (succ_7) 
        varRes_3 = vdm_TRL_uMEDIATOR_Convert_upo_udef((Generic) vdm_TRL_uMEDIATOR_trv_ufndef);
    }
    if (!succ_7) 
      RunTime("Can not evaluate an undefined expression");
  }
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_trv_uGlobalValueDef

type_7AS_NameC24TRL_uMEDIATOR_const_udefCM vdm_TRL_uMEDIATOR_trv_uGlobalValueDef(const type_11AS_ValueDefCL &vdm_TRL_uMEDIATOR_vals) {
  Map varRes_3;
  Set unArg_4;
  Set res_s_5;
  {
    bool succ_47 = true;
    Set e_set_48;    Set riseq_50;    int max_51 = (Int) vdm_TRL_uMEDIATOR_vals.Length();    for (int i_52 = 1; i_52 <= max_51; i_52++) 
      riseq_50.Insert((Int) i_52);    e_set_48 = riseq_50;
    Int vdm_TRL_uMEDIATOR_i;
    {
      Generic tmpe_55;
      for (int bb_54 = e_set_48.First(tmpe_55); bb_54; bb_54 = e_set_48.Next(tmpe_55)) {
        Int elem_53 = tmpe_55;
        succ_47 = true;        vdm_TRL_uMEDIATOR_i = elem_53;        if (succ_47) {
          Map res_s_6;
          {
            Record vdm_TRL_uMEDIATOR_trv_uval = vdm_TRL_uTRA_uDEF_trv_uValueDef((Generic) (Record) vdm_TRL_uMEDIATOR_vals[vdm_TRL_uMEDIATOR_i.GetValue()]);
            {
              Set tmpSet_12;
              Record tmpRec_16(vdm_TRL_uTAR_uEXPR_EXPR, length_TRL_uTAR_uEXPR_EXPR);
              if (vdm_TRL_uMEDIATOR_trv_uval.Is(vdm_TRL_uTAR_uDEF_ValueDef)) 
                tmpRec_16 = vdm_TRL_uMEDIATOR_trv_uval.GetField(pos_TRL_uTAR_uDEF_ValueDef_var);
              else 
                RunTime("Unknown record field selector");
              if (tmpRec_16.Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
                tmpSet_12 = tmpRec_16.GetField(pos_TRL_uTAR_uEXPR_EXPR_fv);
              else 
                RunTime("Unknown record field selector");
              Sequence vdm_TRL_uMEDIATOR_name;
              bool succ_14 = false;
              Generic tmpe_19;
              for (int bb_18 = tmpSet_12.First(tmpe_19); bb_18 && !succ_14; bb_18 = tmpSet_12.Next(tmpe_19)) {
                Sequence tmpElem_15 = tmpe_19;
                succ_14 = true;                vdm_TRL_uMEDIATOR_name = tmpElem_15;
              }
              if (!succ_14) 
                RunTime("The binding environment was empty");
              {
                Record vdm_TRL_uMEDIATOR_nm(vdm_AS_Name, length_AS_Name);
                vdm_TRL_uMEDIATOR_nm = Record(vdm_AS_Name, length_AS_Name);
                Sequence tmpVar_22;
                tmpVar_22 = Sequence().ImpAppend(vdm_TRL_uMEDIATOR_name);
                vdm_TRL_uMEDIATOR_nm.SetField(1, tmpVar_22);
                vdm_TRL_uMEDIATOR_nm.SetField(2, vdm_CI_NilContextId);
                Generic vdm_TRL_uMEDIATOR_tp;
                Record par_26;
                Record tmpRec_27(vdm_TRL_uTAR_uEXPR_EXPR, length_TRL_uTAR_uEXPR_EXPR);
                if (vdm_TRL_uMEDIATOR_trv_uval.Is(vdm_TRL_uTAR_uDEF_ValueDef)) 
                  tmpRec_27 = vdm_TRL_uMEDIATOR_trv_uval.GetField(pos_TRL_uTAR_uDEF_ValueDef_expr);
                else 
                  RunTime("Unknown record field selector");
                if (tmpRec_27.Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
                  par_26 = tmpRec_27.GetField(pos_TRL_uTAR_uEXPR_EXPR_tp);
                else 
                  RunTime("Unknown record field selector");
                vdm_TRL_uMEDIATOR_tp = vdm_PP_uHOL_pp_uterm_utype((Generic) par_26);
                Generic vdm_TRL_uMEDIATOR_type;
                if (((Bool) (vdm_TRL_uMEDIATOR_tp == Nil())).GetValue()) 
                  vdm_TRL_uMEDIATOR_type = Sequence("");
                else 
                  vdm_TRL_uMEDIATOR_type = vdm_TRL_uMEDIATOR_tp;
                Sequence vdm_TRL_uMEDIATOR_tm;
                Record par_35;
                Record tmpRec_36(vdm_TRL_uTAR_uEXPR_EXPR, length_TRL_uTAR_uEXPR_EXPR);
                if (vdm_TRL_uMEDIATOR_trv_uval.Is(vdm_TRL_uTAR_uDEF_ValueDef)) 
                  tmpRec_36 = vdm_TRL_uMEDIATOR_trv_uval.GetField(pos_TRL_uTAR_uDEF_ValueDef_expr);
                else 
                  RunTime("Unknown record field selector");
                if (tmpRec_36.Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
                  par_35 = tmpRec_36.GetField(pos_TRL_uTAR_uEXPR_EXPR_tm);
                else 
                  RunTime("Unknown record field selector");
                vdm_TRL_uMEDIATOR_tm = vdm_PP_uHOL_pp_uterm((Generic) par_35);
                Set vdm_TRL_uMEDIATOR_fv;
                Record tmpRec_39(vdm_TRL_uTAR_uEXPR_EXPR, length_TRL_uTAR_uEXPR_EXPR);
                if (vdm_TRL_uMEDIATOR_trv_uval.Is(vdm_TRL_uTAR_uDEF_ValueDef)) 
                  tmpRec_39 = vdm_TRL_uMEDIATOR_trv_uval.GetField(pos_TRL_uTAR_uDEF_ValueDef_expr);
                else 
                  RunTime("Unknown record field selector");
                if (tmpRec_39.Is(vdm_TRL_uTAR_uEXPR_EXPR)) 
                  vdm_TRL_uMEDIATOR_fv = tmpRec_39.GetField(pos_TRL_uTAR_uEXPR_EXPR_fv);
                else 
                  RunTime("Unknown record field selector");
                Record tmpVar2_42(vdm_TRL_uMEDIATOR_const_udef, length_TRL_uMEDIATOR_const_udef);
                tmpVar2_42 = Record(vdm_TRL_uMEDIATOR_const_udef, length_TRL_uMEDIATOR_const_udef);
                tmpVar2_42.SetField(1, vdm_TRL_uMEDIATOR_name);
                tmpVar2_42.SetField(2, vdm_TRL_uMEDIATOR_type);
                tmpVar2_42.SetField(3, vdm_TRL_uMEDIATOR_tm);
                tmpVar2_42.SetField(4, vdm_TRL_uMEDIATOR_fv);
                res_s_6 = Map().Insert(vdm_TRL_uMEDIATOR_nm, tmpVar2_42);
              }
            }
          }
          res_s_5.Insert(res_s_6);
        }
      }
    }
  }
  unArg_4 = res_s_5;
  Map rdmmap_56;  Generic tmpe_65;  for (int bb_64 = unArg_4.First(tmpe_65); bb_64; bb_64 = unArg_4.Next(tmpe_65)) {
    Map e_57 = tmpe_65;
    Set eq_dom_59 = rdmmap_56.Dom();    eq_dom_59.ImpIntersect(e_57.Dom());    bool all_dup_eq_60 = true;    Generic tmpe_63;    for (int bb_62 = eq_dom_59.First(tmpe_63); bb_62 && all_dup_eq_60; bb_62 = eq_dom_59.Next(tmpe_63)) {
      Record d_61 = tmpe_63;
      all_dup_eq_60 = (Record) rdmmap_56[(Generic) d_61] == (Record) e_57[(Generic) d_61];
    }    if (!all_dup_eq_60) 
      RunTime("Duplicate entries for \'merge\' had different values");    rdmmap_56.ImpOverride(e_57);
  }  varRes_3 = rdmmap_56;
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_trv_uTypeDef

TYPE_TRL_uMEDIATOR_type_udef vdm_TRL_uMEDIATOR_trv_uTypeDef(const TYPE_AS_TypeDef &vdm_TRL_uMEDIATOR_tpdef) {
  Generic varRes_3;
  {
    Record vdm_TRL_uMEDIATOR_trv_utpdef = vdm_TRL_uTRA_uDEF_trv_uTypeDef((Generic) vdm_TRL_uMEDIATOR_tpdef);
    bool succ_7 = true;
    {
      Generic vdm_TRL_uMEDIATOR_fninv;
      Generic vdm_TRL_uMEDIATOR_fnsel;
      Set vdm_TRL_uMEDIATOR_fv;
      Sequence vdm_TRL_uMEDIATOR_nm;
      Record vdm_TRL_uMEDIATOR_tp;
      succ_7 = true;
      if (vdm_TRL_uMEDIATOR_trv_utpdef.IsRecord() && vdm_TRL_uTAR_uDEF_datatype_udef == ((Record) vdm_TRL_uMEDIATOR_trv_utpdef).GetTag()) {
        Sequence e_l_10;
        for (int i_11 = 1; i_11 <= ((Record) vdm_TRL_uMEDIATOR_trv_utpdef).Length(); i_11++) 
          e_l_10.ImpAppend(((Record) vdm_TRL_uMEDIATOR_trv_utpdef).GetField(i_11));
        if (succ_7 = 5 == (Int) e_l_10.Length()) {
          vdm_TRL_uMEDIATOR_nm = (Generic) e_l_10.Hd();
          vdm_TRL_uMEDIATOR_tp = (Generic) e_l_10[2];
          vdm_TRL_uMEDIATOR_fnsel = (Generic) e_l_10[3];
          vdm_TRL_uMEDIATOR_fninv = (Generic) e_l_10[4];
          vdm_TRL_uMEDIATOR_fv = (Generic) e_l_10[5];
        }
      }
      else 
        succ_7 = false;
      if (succ_7) {
        varRes_3 = Record(vdm_TRL_uMEDIATOR_datatype_udef, length_TRL_uMEDIATOR_datatype_udef);
        varRes_3 = Record(varRes_3).SetField(1, vdm_TRL_uMEDIATOR_nm);
        varRes_3 = Record(varRes_3).SetField(2, vdm_PP_uHOL_pp_udatatype((Generic) vdm_TRL_uMEDIATOR_tp));
        Generic tmpVar_15;
        if (((Bool) (vdm_TRL_uMEDIATOR_fnsel == Nil())).GetValue()) 
          tmpVar_15 = Nil();
        else {
          Sequence res_l_20;
          Set resBind_s_22;
          if (!vdm_TRL_uMEDIATOR_fnsel.IsSequence()) 
            RunTime("A sequence was expected");
          else {
            Set riseq_26;
            int max_27 = (Int) ((Sequence) vdm_TRL_uMEDIATOR_fnsel).Length();
            for (int i_28 = 1; i_28 <= max_27; i_28++) 
              riseq_26.Insert((Int) i_28);
            resBind_s_22 = riseq_26;
          }
          Sequence bind_l_21;
          if ((Int) resBind_s_22.Card() != (Int) 0) 
            bind_l_21 = Sort(resBind_s_22);
          bool succ_23 = true;
          Int vdm_TRL_uMEDIATOR_i;
          Generic tmpe_35;
          for (int i_34 = bind_l_21.First(tmpe_35); i_34; i_34 = bind_l_21.Next(tmpe_35)) {
            Int e_24 = tmpe_35;
            vdm_TRL_uMEDIATOR_i = e_24;
            if (succ_23) {
              Record reselem_29(vdm_TRL_uMEDIATOR_select_udef, length_TRL_uMEDIATOR_select_udef);
              Record par_30(vdm_TRL_uTAR_uDEF_select_udef, length_TRL_uTAR_uDEF_select_udef);
              if (vdm_TRL_uMEDIATOR_fnsel.IsSequence()) {
                Sequence tmpRes_32 = vdm_TRL_uMEDIATOR_fnsel;
                par_30 = tmpRes_32[vdm_TRL_uMEDIATOR_i.GetValue()];
              }
              else 
                RunTime("The argument could not be applied");
              reselem_29 = vdm_TRL_uMEDIATOR_Convert_uselect_udef((Generic) par_30);
              res_l_20.ImpAppend(reselem_29);
            }
          }
          tmpVar_15 = res_l_20;
        }
        varRes_3 = Record(varRes_3).SetField(3, tmpVar_15);
        Generic tmpVar_36;
        if (((Bool) (vdm_TRL_uMEDIATOR_fninv == Nil())).GetValue()) 
          tmpVar_36 = Nil();
        else 
          tmpVar_36 = vdm_TRL_uMEDIATOR_Convert_upred_udef((Generic) vdm_TRL_uMEDIATOR_fninv);
        varRes_3 = Record(varRes_3).SetField(4, tmpVar_36);
        varRes_3 = Record(varRes_3).SetField(5, vdm_TRL_uMEDIATOR_fv);
      }
    }
    if (!succ_7) {
      Generic vdm_TRL_uMEDIATOR_fninv;
      Set vdm_TRL_uMEDIATOR_fv;
      Sequence vdm_TRL_uMEDIATOR_nm;
      Record vdm_TRL_uMEDIATOR_tp;
      succ_7 = true;
      if (vdm_TRL_uMEDIATOR_trv_utpdef.IsRecord() && vdm_TRL_uTAR_uDEF_type_uabbrev_udef == ((Record) vdm_TRL_uMEDIATOR_trv_utpdef).GetTag()) {
        Sequence e_l_43;
        for (int i_44 = 1; i_44 <= ((Record) vdm_TRL_uMEDIATOR_trv_utpdef).Length(); i_44++) 
          e_l_43.ImpAppend(((Record) vdm_TRL_uMEDIATOR_trv_utpdef).GetField(i_44));
        if (succ_7 = 4 == (Int) e_l_43.Length()) {
          vdm_TRL_uMEDIATOR_nm = (Generic) e_l_43.Hd();
          vdm_TRL_uMEDIATOR_tp = (Generic) e_l_43[2];
          vdm_TRL_uMEDIATOR_fninv = (Generic) e_l_43[3];
          vdm_TRL_uMEDIATOR_fv = (Generic) e_l_43[4];
        }
      }
      else 
        succ_7 = false;
      if (succ_7) {
        Generic vdm_TRL_uMEDIATOR_pp_utp = vdm_PP_uHOL_pp_uterm_utype((Generic) vdm_TRL_uMEDIATOR_tp);
        if (((Bool) (vdm_TRL_uMEDIATOR_pp_utp == Nil())).GetValue()) 
          RunTime("Can not evaluate an undefined expression");
        else {
          varRes_3 = Record(vdm_TRL_uMEDIATOR_type_uabbrev_udef, length_TRL_uMEDIATOR_type_uabbrev_udef);
          varRes_3 = Record(varRes_3).SetField(1, vdm_TRL_uMEDIATOR_nm);
          varRes_3 = Record(varRes_3).SetField(2, vdm_TRL_uMEDIATOR_pp_utp);
          Generic tmpVar_54;
          if (((Bool) (vdm_TRL_uMEDIATOR_fninv == Nil())).GetValue()) 
            tmpVar_54 = Nil();
          else 
            tmpVar_54 = vdm_TRL_uMEDIATOR_Convert_upred_udef((Generic) vdm_TRL_uMEDIATOR_fninv);
          varRes_3 = Record(varRes_3).SetField(3, tmpVar_54);
          varRes_3 = Record(varRes_3).SetField(4, vdm_TRL_uMEDIATOR_fv);
        }
      }
    }
    if (!succ_7) 
      RunTime("Can not evaluate an undefined expression");
  }
  return (Generic) varRes_3;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_ComputeDependencyOrderForFnDefs

void vdm_TRL_uMEDIATOR_ComputeDependencyOrderForFnDefs() {
  Sequence vdm_TRL_uMEDIATOR_polst = vdm_TRL_uMEDIATOR_ExtractProofObligationsInFuncs((Generic) vdm_TRL_uMEDIATOR_trl_ufnm);
  Map vdm_TRL_uMEDIATOR_pure_utrl_ufnm = vdm_TRL_uMEDIATOR_RemoveProofObligationsInFuncs((Generic) vdm_TRL_uMEDIATOR_trl_ufnm);
  Map vdm_TRL_uMEDIATOR_tppreds = vdm_TRL_uMEDIATOR_ExtractPredicatesInTypes((Generic) vdm_TRL_uMEDIATOR_trl_utypem);
  Map vdm_TRL_uMEDIATOR_tpsels = vdm_TRL_uMEDIATOR_ExtractSelectorsInTypes((Generic) vdm_TRL_uMEDIATOR_trl_utypem);
  Map vdm_TRL_uMEDIATOR_fnpreds = vdm_TRL_uMEDIATOR_ExtractPredicatesInFuncs((Generic) vdm_TRL_uMEDIATOR_pure_utrl_ufnm);
  Map vdm_TRL_uMEDIATOR_fnDepm;
  Set unArg_14;
  Map enum_set_15;
  Map res_m_16;
  {
    bool succ_22 = true;
    Set e1_set_25 = vdm_TRL_uMEDIATOR_tppreds.Dom();
    Record vdm_TRL_uMEDIATOR_nm(vdm_AS_Name, length_AS_Name);
    {
      Generic tmpe_28;
      for (int bb_27 = e1_set_25.First(tmpe_28); bb_27; bb_27 = e1_set_25.Next(tmpe_28)) {
        Record elem_26 = tmpe_28;
        succ_22 = true;        vdm_TRL_uMEDIATOR_nm = elem_26;        if (succ_22) {
          Set mr_18;
          if (((Record) vdm_TRL_uMEDIATOR_tppreds[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_pred_udef)) 
            mr_18 = ((Record) vdm_TRL_uMEDIATOR_tppreds[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_pred_udef_fv);
          else 
            RunTime("Unknown record field selector");
          res_m_16.Insert(vdm_TRL_uMEDIATOR_nm, mr_18);
        }
      }
    }
  }
  enum_set_15 = res_m_16;
  unArg_14 = Set().Insert(enum_set_15);
  Map enum_set_29;
  Map res_m_30;
  {
    bool succ_36 = true;
    Set e1_set_39 = vdm_TRL_uMEDIATOR_tpsels.Dom();
    Record vdm_TRL_uMEDIATOR_nm(vdm_AS_Name, length_AS_Name);
    {
      Generic tmpe_42;
      for (int bb_41 = e1_set_39.First(tmpe_42); bb_41; bb_41 = e1_set_39.Next(tmpe_42)) {
        Record elem_40 = tmpe_42;
        succ_36 = true;        vdm_TRL_uMEDIATOR_nm = elem_40;        if (succ_36) {
          Set mr_32;
          if (((Record) vdm_TRL_uMEDIATOR_tpsels[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_select_udef)) 
            mr_32 = ((Record) vdm_TRL_uMEDIATOR_tpsels[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_select_udef_fv);
          else 
            RunTime("Unknown record field selector");
          res_m_30.Insert(vdm_TRL_uMEDIATOR_nm, mr_32);
        }
      }
    }
  }
  enum_set_29 = res_m_30;
  unArg_14.Insert(enum_set_29);
  Map enum_set_43;
  Map res_m_44;
  {
    bool succ_50 = true;
    Set e1_set_53 = vdm_TRL_uMEDIATOR_fnpreds.Dom();
    Record vdm_TRL_uMEDIATOR_nm(vdm_AS_Name, length_AS_Name);
    {
      Generic tmpe_56;
      for (int bb_55 = e1_set_53.First(tmpe_56); bb_55; bb_55 = e1_set_53.Next(tmpe_56)) {
        Record elem_54 = tmpe_56;
        succ_50 = true;        vdm_TRL_uMEDIATOR_nm = elem_54;        if (succ_50) {
          Set mr_46;
          if (((Record) vdm_TRL_uMEDIATOR_fnpreds[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_pred_udef)) 
            mr_46 = ((Record) vdm_TRL_uMEDIATOR_fnpreds[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_pred_udef_fv);
          else 
            RunTime("Unknown record field selector");
          res_m_44.Insert(vdm_TRL_uMEDIATOR_nm, mr_46);
        }
      }
    }
  }
  enum_set_43 = res_m_44;
  unArg_14.Insert(enum_set_43);
  Map enum_set_57;
  Map res_m_58;
  {
    bool succ_64 = true;
    Set e1_set_67 = vdm_TRL_uMEDIATOR_pure_utrl_ufnm.Dom();
    Record vdm_TRL_uMEDIATOR_nm(vdm_AS_Name, length_AS_Name);
    {
      Generic tmpe_70;
      for (int bb_69 = e1_set_67.First(tmpe_70); bb_69; bb_69 = e1_set_67.Next(tmpe_70)) {
        Record elem_68 = tmpe_70;
        succ_64 = true;        vdm_TRL_uMEDIATOR_nm = elem_68;        if (succ_64) {
          Set mr_60;
          if (((Record) (Record) vdm_TRL_uMEDIATOR_pure_utrl_ufnm[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_select_udef)) 
            mr_60 = ((Record) (Record) vdm_TRL_uMEDIATOR_pure_utrl_ufnm[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_select_udef_fv);
          else 
            if (((Record) (Record) vdm_TRL_uMEDIATOR_pure_utrl_ufnm[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_pred_udef)) 
              mr_60 = ((Record) (Record) vdm_TRL_uMEDIATOR_pure_utrl_ufnm[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_pred_udef_fv);
            else 
              if (((Record) (Record) vdm_TRL_uMEDIATOR_pure_utrl_ufnm[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_po_udef)) 
                mr_60 = ((Record) (Record) vdm_TRL_uMEDIATOR_pure_utrl_ufnm[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_po_udef_fv);
              else 
                if (((Record) (Record) vdm_TRL_uMEDIATOR_pure_utrl_ufnm[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_func_udef)) 
                  mr_60 = ((Record) (Record) vdm_TRL_uMEDIATOR_pure_utrl_ufnm[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_func_udef_fv);
                else 
                  if (((Record) (Record) vdm_TRL_uMEDIATOR_pure_utrl_ufnm[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_const_udef)) 
                    mr_60 = ((Record) (Record) vdm_TRL_uMEDIATOR_pure_utrl_ufnm[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_const_udef_fv);
                  else 
                    RunTime("Unknown record field selector");
          res_m_58.Insert(vdm_TRL_uMEDIATOR_nm, mr_60);
        }
      }
    }
  }
  enum_set_57 = res_m_58;
  unArg_14.Insert(enum_set_57);
  Map enum_set_71;
  Map res_m_72;
  {
    bool succ_78 = true;
    Set e1_set_81 = vdm_TRL_uMEDIATOR_trl_uvaluem.Dom();
    Record vdm_TRL_uMEDIATOR_nm(vdm_AS_Name, length_AS_Name);
    {
      Generic tmpe_84;
      for (int bb_83 = e1_set_81.First(tmpe_84); bb_83; bb_83 = e1_set_81.Next(tmpe_84)) {
        Record elem_82 = tmpe_84;
        succ_78 = true;        vdm_TRL_uMEDIATOR_nm = elem_82;        if (succ_78) {
          Set mr_74;
          if (((Record) vdm_TRL_uMEDIATOR_trl_uvaluem[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_const_udef)) 
            mr_74 = ((Record) vdm_TRL_uMEDIATOR_trl_uvaluem[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_const_udef_fv);
          else 
            RunTime("Unknown record field selector");
          res_m_72.Insert(vdm_TRL_uMEDIATOR_nm, mr_74);
        }
      }
    }
  }
  enum_set_71 = res_m_72;
  unArg_14.Insert(enum_set_71);
  Map rdmmap_85;  Generic tmpe_94;  for (int bb_93 = unArg_14.First(tmpe_94); bb_93; bb_93 = unArg_14.Next(tmpe_94)) {
    Map e_86 = tmpe_94;
    Set eq_dom_88 = rdmmap_85.Dom();    eq_dom_88.ImpIntersect(e_86.Dom());    bool all_dup_eq_89 = true;    Generic tmpe_92;    for (int bb_91 = eq_dom_88.First(tmpe_92); bb_91 && all_dup_eq_89; bb_91 = eq_dom_88.Next(tmpe_92)) {
      Record d_90 = tmpe_92;
      all_dup_eq_89 = (Set) rdmmap_85[(Generic) d_90] == (Set) e_86[(Generic) d_90];
    }    if (!all_dup_eq_89) 
      RunTime("Duplicate entries for \'merge\' had different values");    rdmmap_85.ImpOverride(e_86);
  }  vdm_TRL_uMEDIATOR_fnDepm = rdmmap_85;
  Sequence vdm_TRL_uMEDIATOR_ord_ufndefs = vdm_DEP_uANA_DependencyAnalysis((Generic) vdm_TRL_uMEDIATOR_fnDepm);
  Sequence vdm_TRL_uMEDIATOR_ss_ufndefs;
  {
    Sequence res_l_98;
    Set resBind_s_100;
    Set riseq_104;
    int max_105 = (Int) vdm_TRL_uMEDIATOR_ord_ufndefs.Length();
    for (int i_106 = 1; i_106 <= max_105; i_106++) 
      riseq_104.Insert((Int) i_106);
    resBind_s_100 = riseq_104;
    Sequence bind_l_99;
    if ((Int) resBind_s_100.Card() != (Int) 0) 
      bind_l_99 = Sort(resBind_s_100);
    bool succ_101 = true;
    Int vdm_TRL_uMEDIATOR_i;
    Generic tmpe_186;
    for (int i_185 = bind_l_99.First(tmpe_186); i_185; i_185 = bind_l_99.Next(tmpe_186)) {
      Int e_102 = tmpe_186;
      vdm_TRL_uMEDIATOR_i = e_102;
      if (succ_101) {
        Sequence reselem_107;
        {
          Sequence res_l_108;
          Set resBind_s_110;
          Set riseq_116;
          int max_117 = (Int) ((Sequence) vdm_TRL_uMEDIATOR_ord_ufndefs[vdm_TRL_uMEDIATOR_i.GetValue()]).Length();
          for (int i_118 = 1; i_118 <= max_117; i_118++) 
            riseq_116.Insert((Int) i_118);
          resBind_s_110 = riseq_116;
          Sequence bind_l_109;
          if ((Int) resBind_s_110.Card() != (Int) 0) 
            bind_l_109 = Sort(resBind_s_110);
          bool succ_111 = true;
          Int vdm_TRL_uMEDIATOR_j;
          Generic tmpe_184;
          for (int i_183 = bind_l_109.First(tmpe_184); i_183; i_183 = bind_l_109.Next(tmpe_184)) {
            Int e_112 = tmpe_184;
            vdm_TRL_uMEDIATOR_j = e_112;
            if (succ_111) {
              Record reselem_119;
              Bool cond_121;
              cond_121 = (Bool) vdm_TRL_uMEDIATOR_pure_utrl_ufnm.Dom().InSet((Generic) (Record) ((Sequence) vdm_TRL_uMEDIATOR_ord_ufndefs[vdm_TRL_uMEDIATOR_i.GetValue()])[vdm_TRL_uMEDIATOR_j.GetValue()]);
              if (cond_121.GetValue()) 
                reselem_119 = (Record) vdm_TRL_uMEDIATOR_pure_utrl_ufnm[(Generic) (Record) ((Sequence) vdm_TRL_uMEDIATOR_ord_ufndefs[vdm_TRL_uMEDIATOR_i.GetValue()])[vdm_TRL_uMEDIATOR_j.GetValue()]];
              else {
                Bool cond_163;
                cond_163 = (Bool) vdm_TRL_uMEDIATOR_trl_uvaluem.Dom().InSet((Generic) (Record) ((Sequence) vdm_TRL_uMEDIATOR_ord_ufndefs[vdm_TRL_uMEDIATOR_i.GetValue()])[vdm_TRL_uMEDIATOR_j.GetValue()]);
                if (cond_163.GetValue()) 
                  reselem_119 = (Record) vdm_TRL_uMEDIATOR_trl_uvaluem[(Generic) (Record) ((Sequence) vdm_TRL_uMEDIATOR_ord_ufndefs[vdm_TRL_uMEDIATOR_i.GetValue()])[vdm_TRL_uMEDIATOR_j.GetValue()]];
                else {
                  Bool cond_149;
                  cond_149 = (Bool) vdm_TRL_uMEDIATOR_fnpreds.Dom().InSet((Generic) (Record) ((Sequence) vdm_TRL_uMEDIATOR_ord_ufndefs[vdm_TRL_uMEDIATOR_i.GetValue()])[vdm_TRL_uMEDIATOR_j.GetValue()]);
                  if (cond_149.GetValue()) 
                    reselem_119 = (Record) vdm_TRL_uMEDIATOR_fnpreds[(Generic) (Record) ((Sequence) vdm_TRL_uMEDIATOR_ord_ufndefs[vdm_TRL_uMEDIATOR_i.GetValue()])[vdm_TRL_uMEDIATOR_j.GetValue()]];
                  else {
                    Bool cond_135;
                    cond_135 = (Bool) vdm_TRL_uMEDIATOR_tppreds.Dom().InSet((Generic) (Record) ((Sequence) vdm_TRL_uMEDIATOR_ord_ufndefs[vdm_TRL_uMEDIATOR_i.GetValue()])[vdm_TRL_uMEDIATOR_j.GetValue()]);
                    if (cond_135.GetValue()) 
                      reselem_119 = (Record) vdm_TRL_uMEDIATOR_tppreds[(Generic) (Record) ((Sequence) vdm_TRL_uMEDIATOR_ord_ufndefs[vdm_TRL_uMEDIATOR_i.GetValue()])[vdm_TRL_uMEDIATOR_j.GetValue()]];
                    else 
                      reselem_119 = (Record) vdm_TRL_uMEDIATOR_tpsels[(Generic) (Record) ((Sequence) vdm_TRL_uMEDIATOR_ord_ufndefs[vdm_TRL_uMEDIATOR_i.GetValue()])[vdm_TRL_uMEDIATOR_j.GetValue()]];
                  }
                }
              }
              res_l_108.ImpAppend(reselem_119);
            }
          }
          reselem_107 = res_l_108;
        }
        res_l_98.ImpAppend(reselem_107);
      }
    }
    vdm_TRL_uMEDIATOR_ss_ufndefs = res_l_98;
  }
  {
    vdm_TRL_uMEDIATOR_fn_uordered = vdm_TRL_uMEDIATOR_ss_ufndefs;
    vdm_TRL_uMEDIATOR_po_ulst = vdm_TRL_uMEDIATOR_polst;
    vdm_TRL_uMEDIATOR_trl_utypem = Map();
    vdm_TRL_uMEDIATOR_trl_ufnm = Map();
    vdm_TRL_uMEDIATOR_trl_uvaluem = Map();
  }
}
#endif

#ifndef DEF_TRL_uMEDIATOR_ComputeDependencyOrderForTypeDefs

void vdm_TRL_uMEDIATOR_ComputeDependencyOrderForTypeDefs() {
  Map vdm_TRL_uMEDIATOR_typeDepm;
  Map res_m_4;
  {
    bool succ_10 = true;
    Set e1_set_13 = vdm_TRL_uMEDIATOR_trl_utypem.Dom();
    Record vdm_TRL_uMEDIATOR_nm(vdm_AS_Name, length_AS_Name);
    {
      Generic tmpe_16;
      for (int bb_15 = e1_set_13.First(tmpe_16); bb_15; bb_15 = e1_set_13.Next(tmpe_16)) {
        Record elem_14 = tmpe_16;
        succ_10 = true;        vdm_TRL_uMEDIATOR_nm = elem_14;        if (succ_10) {
          Set mr_6;
          if (((Record) (Record) vdm_TRL_uMEDIATOR_trl_utypem[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_type_uabbrev_udef)) 
            mr_6 = ((Record) (Record) vdm_TRL_uMEDIATOR_trl_utypem[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_type_uabbrev_udef_fv);
          else 
            if (((Record) (Record) vdm_TRL_uMEDIATOR_trl_utypem[(Generic) vdm_TRL_uMEDIATOR_nm]).Is(vdm_TRL_uMEDIATOR_datatype_udef)) 
              mr_6 = ((Record) (Record) vdm_TRL_uMEDIATOR_trl_utypem[(Generic) vdm_TRL_uMEDIATOR_nm]).GetField(pos_TRL_uMEDIATOR_datatype_udef_fv);
            else 
              RunTime("Unknown record field selector");
          res_m_4.Insert(vdm_TRL_uMEDIATOR_nm, mr_6);
        }
      }
    }
  }
  vdm_TRL_uMEDIATOR_typeDepm = res_m_4;
  Sequence vdm_TRL_uMEDIATOR_ord_utpdefs = vdm_DEP_uANA_DependencyAnalysis((Generic) vdm_TRL_uMEDIATOR_typeDepm);
  Sequence vdm_TRL_uMEDIATOR_ss_utpdefs;
  {
    Sequence res_l_20;
    Set resBind_s_22;
    Set riseq_26;
    int max_27 = (Int) vdm_TRL_uMEDIATOR_ord_utpdefs.Length();
    for (int i_28 = 1; i_28 <= max_27; i_28++) 
      riseq_26.Insert((Int) i_28);
    resBind_s_22 = riseq_26;
    Sequence bind_l_21;
    if ((Int) resBind_s_22.Card() != (Int) 0) 
      bind_l_21 = Sort(resBind_s_22);
    bool succ_23 = true;
    Int vdm_TRL_uMEDIATOR_i;
    Generic tmpe_51;
    for (int i_50 = bind_l_21.First(tmpe_51); i_50; i_50 = bind_l_21.Next(tmpe_51)) {
      Int e_24 = tmpe_51;
      vdm_TRL_uMEDIATOR_i = e_24;
      if (succ_23) {
        Sequence reselem_29;
        {
          Sequence res_l_30;
          Set resBind_s_32;
          Set riseq_38;
          int max_39 = (Int) ((Sequence) vdm_TRL_uMEDIATOR_ord_utpdefs[vdm_TRL_uMEDIATOR_i.GetValue()]).Length();
          for (int i_40 = 1; i_40 <= max_39; i_40++) 
            riseq_38.Insert((Int) i_40);
          resBind_s_32 = riseq_38;
          Sequence bind_l_31;
          if ((Int) resBind_s_32.Card() != (Int) 0) 
            bind_l_31 = Sort(resBind_s_32);
          bool succ_33 = true;
          Int vdm_TRL_uMEDIATOR_j;
          Generic tmpe_49;
          for (int i_48 = bind_l_31.First(tmpe_49); i_48; i_48 = bind_l_31.Next(tmpe_49)) {
            Int e_34 = tmpe_49;
            vdm_TRL_uMEDIATOR_j = e_34;
            if (succ_33) 
              res_l_30.ImpAppend((Record) vdm_TRL_uMEDIATOR_trl_utypem[(Generic) (Record) ((Sequence) vdm_TRL_uMEDIATOR_ord_utpdefs[vdm_TRL_uMEDIATOR_i.GetValue()])[vdm_TRL_uMEDIATOR_j.GetValue()]]);
          }
          reselem_29 = res_l_30;
        }
        res_l_20.ImpAppend(reselem_29);
      }
    }
    vdm_TRL_uMEDIATOR_ss_utpdefs = res_l_20;
  }
  vdm_TRL_uMEDIATOR_type_uordered = vdm_TRL_uMEDIATOR_ss_utpdefs;
}
#endif

#ifndef DEF_TRL_uMEDIATOR_GetTranslation

type_cL vdm_TRL_uMEDIATOR_GetTranslation() {
  Sequence vdm_TRL_uMEDIATOR_transl;
  Sequence var1_4;
  Sequence var1_5;
  Sequence var1_6;
  Sequence var1_7;
  Sequence var1_8;
  Sequence var1_9;
  Sequence var1_10;
  Sequence var1_11;
  var1_11.ImpConc(Sequence("Meta.load \"VDMTheory\";\n")).ImpConc(Sequence("Meta.load \"vdmBossLib\";\n"));
  var1_10.ImpConc(var1_11).ImpConc(Sequence("Meta.load \"vdmSpecDataBaseLib\";\n"));
  var1_9.ImpConc(var1_10).ImpConc(Sequence("open VDMTheory;\n"));
  var1_8.ImpConc(var1_9).ImpConc(Sequence("open vdmBossLib;\n"));
  var1_7.ImpConc(var1_8).ImpConc(Sequence("open vdmSpecDataBaseLib;\n"));
  Sequence var2_18;
  Sequence unArg_19;
  {
    Sequence res_l_20;
    Set resBind_s_22;
    Set riseq_26;
    int max_27 = (Int) vdm_TRL_uMEDIATOR_type_uordered.Length();
    for (int i_28 = 1; i_28 <= max_27; i_28++) 
      riseq_26.Insert((Int) i_28);
    resBind_s_22 = riseq_26;
    Sequence bind_l_21;
    if ((Int) resBind_s_22.Card() != (Int) 0) 
      bind_l_21 = Sort(resBind_s_22);
    bool succ_23 = true;
    Int vdm_TRL_uMEDIATOR_i;
    Generic tmpe_36;
    for (int i_35 = bind_l_21.First(tmpe_36); i_35; i_35 = bind_l_21.Next(tmpe_36)) {
      Int e_24 = tmpe_36;
      vdm_TRL_uMEDIATOR_i = e_24;
      if (succ_23) {
        Sequence reselem_29;
        reselem_29.ImpConc(vdm_TRL_uMEDIATOR_pp_utype_udef((Generic) (Sequence) vdm_TRL_uMEDIATOR_type_uordered[vdm_TRL_uMEDIATOR_i.GetValue()])).ImpConc(Sequence("\n\n"));
        res_l_20.ImpAppend(reselem_29);
      }
    }
    unArg_19 = res_l_20;
  }
  Sequence rdcseq_37;  Generic tmpe_40;  for (int i_39 = unArg_19.First(tmpe_40); i_39; i_39 = unArg_19.Next(tmpe_40)) {
    Sequence e_38 = tmpe_40;
    rdcseq_37.ImpConc(e_38);
  }  var2_18 = rdcseq_37;
  var1_6.ImpConc(var1_7).ImpConc(var2_18);
  Sequence var2_41;
  Sequence unArg_42;
  {
    Sequence res_l_43;
    Set resBind_s_45;
    Set riseq_49;
    int max_50 = (Int) vdm_TRL_uMEDIATOR_fn_uordered.Length();
    for (int i_51 = 1; i_51 <= max_50; i_51++) 
      riseq_49.Insert((Int) i_51);
    resBind_s_45 = riseq_49;
    Sequence bind_l_44;
    if ((Int) resBind_s_45.Card() != (Int) 0) 
      bind_l_44 = Sort(resBind_s_45);
    bool succ_46 = true;
    Int vdm_TRL_uMEDIATOR_i;
    Generic tmpe_59;
    for (int i_58 = bind_l_44.First(tmpe_59); i_58; i_58 = bind_l_44.Next(tmpe_59)) {
      Int e_47 = tmpe_59;
      vdm_TRL_uMEDIATOR_i = e_47;
      if (succ_46) {
        Sequence reselem_52;
        reselem_52.ImpConc(vdm_TRL_uMEDIATOR_pp_ufn_udef((Generic) (Sequence) vdm_TRL_uMEDIATOR_fn_uordered[vdm_TRL_uMEDIATOR_i.GetValue()])).ImpConc(Sequence("\n\n"));
        res_l_43.ImpAppend(reselem_52);
      }
    }
    unArg_42 = res_l_43;
  }
  Sequence rdcseq_60;  Generic tmpe_63;  for (int i_62 = unArg_42.First(tmpe_63); i_62; i_62 = unArg_42.Next(tmpe_63)) {
    Sequence e_61 = tmpe_63;
    rdcseq_60.ImpConc(e_61);
  }  var2_41 = rdcseq_60;
  var1_5.ImpConc(var1_6).ImpConc(var2_41);
  Sequence var2_64;
  Sequence unArg_65;
  {
    Sequence res_l_66;
    Set resBind_s_68;
    Set riseq_72;
    int max_73 = (Int) vdm_TRL_uMEDIATOR_po_ulst.Length();
    for (int i_74 = 1; i_74 <= max_73; i_74++) 
      riseq_72.Insert((Int) i_74);
    resBind_s_68 = riseq_72;
    Sequence bind_l_67;
    if ((Int) resBind_s_68.Card() != (Int) 0) 
      bind_l_67 = Sort(resBind_s_68);
    bool succ_69 = true;
    Int vdm_TRL_uMEDIATOR_i;
    Generic tmpe_83;
    for (int i_82 = bind_l_67.First(tmpe_83); i_82; i_82 = bind_l_67.Next(tmpe_83)) {
      Int e_70 = tmpe_83;
      vdm_TRL_uMEDIATOR_i = e_70;
      if (succ_69) {
        Sequence reselem_75;
        Sequence var1_76;
        Sequence par_77;
        par_77 = Sequence().ImpAppend((Record) vdm_TRL_uMEDIATOR_po_ulst[vdm_TRL_uMEDIATOR_i.GetValue()]);
        var1_76 = vdm_TRL_uMEDIATOR_pp_ufn_udef((Generic) par_77);
        reselem_75.ImpConc(var1_76).ImpConc(Sequence("\n\n"));
        res_l_66.ImpAppend(reselem_75);
      }
    }
    unArg_65 = res_l_66;
  }
  Sequence rdcseq_84;  Generic tmpe_87;  for (int i_86 = unArg_65.First(tmpe_87); i_86; i_86 = unArg_65.Next(tmpe_87)) {
    Sequence e_85 = tmpe_87;
    rdcseq_84.ImpConc(e_85);
  }  var2_64 = rdcseq_84;
  var1_4.ImpConc(var1_5).ImpConc(var2_64);
  vdm_TRL_uMEDIATOR_transl.ImpConc(var1_4).ImpConc(Sequence("val _= vdmSpecDataBaseLib.init_rewrites theSpecDataBase;"));
  {
    vdm_TRL_uMEDIATOR_type_uordered = Sequence();
    vdm_TRL_uMEDIATOR_fn_uordered = Sequence();
    vdm_TRL_uMEDIATOR_po_ulst = Sequence();
    return (Generic) vdm_TRL_uMEDIATOR_transl;
  }
}
#endif

#ifndef DEF_TRL_uMEDIATOR_Reset

void vdm_TRL_uMEDIATOR_Reset() {
  vdm_TRL_uMEDIATOR_typeDefs = vdm_SPEC_uAST_GetTypeDefNames();
  vdm_TRL_uMEDIATOR_fnDefs = vdm_SPEC_uAST_GetFnDefNames();
  vdm_TRL_uMEDIATOR_trl_utypem = Map();
  vdm_TRL_uMEDIATOR_trl_ufnm = Map();
  vdm_TRL_uMEDIATOR_trl_uvaluem = Map();
  vdm_TRL_uMEDIATOR_type_uordered = Sequence();
  vdm_TRL_uMEDIATOR_fn_uordered = Sequence();
  vdm_TRL_uMEDIATOR_po_ulst = Sequence();
}
#endif

#ifndef DEF_TRL_uMEDIATOR_TranslateFnDef

void vdm_TRL_uMEDIATOR_TranslateFnDef(const Int &vdm_TRL_uMEDIATOR_index) {
  Record vdm_TRL_uMEDIATOR_nm = (Record) vdm_TRL_uMEDIATOR_fnDefs[vdm_TRL_uMEDIATOR_index.GetValue()];
  Record vdm_TRL_uMEDIATOR_fndef = vdm_SPEC_uAST_GetFnDef((Generic) vdm_TRL_uMEDIATOR_nm);
  vdm_TRL_uMEDIATOR_trl_ufnm.ImpModify(vdm_TRL_uMEDIATOR_nm, vdm_TRL_uMEDIATOR_trv_uFnDef((Generic) vdm_TRL_uMEDIATOR_fndef));
}
#endif

#ifndef DEF_TRL_uMEDIATOR_TranslateTypeDef

void vdm_TRL_uMEDIATOR_TranslateTypeDef(const Int &vdm_TRL_uMEDIATOR_index) {
  Record vdm_TRL_uMEDIATOR_nm = (Record) vdm_TRL_uMEDIATOR_typeDefs[vdm_TRL_uMEDIATOR_index.GetValue()];
  Record vdm_TRL_uMEDIATOR_typedef = vdm_SPEC_uAST_GetTypeDef((Generic) vdm_TRL_uMEDIATOR_nm);
  vdm_TRL_uMEDIATOR_trl_utypem.ImpModify(vdm_TRL_uMEDIATOR_nm, vdm_TRL_uMEDIATOR_trv_uTypeDef((Generic) vdm_TRL_uMEDIATOR_typedef));
}
#endif

#ifndef DEF_TRL_uMEDIATOR_TranslateValueDef

void vdm_TRL_uMEDIATOR_TranslateValueDef() {
  Sequence vdm_TRL_uMEDIATOR_vals = vdm_SPEC_uAST_GetValueDefSeq();
  vdm_TRL_uMEDIATOR_trl_uvaluem = vdm_TRL_uMEDIATOR_trv_uGlobalValueDef((Generic) vdm_TRL_uMEDIATOR_vals);
}
#endif

