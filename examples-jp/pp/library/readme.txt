図書館問題

以下のトランザクションが発生する図書館の貸出管理処理を考えよ。（１）本の貸出および返却（２）図書館への本の登録および削除（３）特定の作者の本、あるいは特定の分野の本に関するリストの作成（４）特定の利用者が借りている本のリストの作成（５）特定の本を最後に借りた人の検索利用者は図書館の職員と一般の利用者で、職員は（１）〜（５）のすべてを行えるが、一般の利用者は（４）の機能のうち、自分で借りている本のリストの作成しか行えない。
制約条件　図書館のすべての本は、貸出可能かすでに貸し出されているかのどちらかである。　ある本が貸出可能であり、かつ貸し出されているということはない。　利用者は一回にある決まった冊数以上の本を借り出すことはできない。


図書館貸出管理システム分析モデル

ファイルの説明
	*.vpp		--VDM++のソース（テキストファイル版）
	*.rtf		--VDM++のソース（RTF版）
	*.rtf.rtf		--テストカバレージの結果を出力した清書ファイル（rtf形式）
	*.vpp.tex		--テストカバレージの結果を出力した清書ファイル（TeX形式）

	AllT.vpp	--単体テスト用プログラム（テキストファイル版）
	testCase.vpp	--図書館貸出管理のテストプログラム
	library-Mac.prj	--図書館貸出管理用プロジェクトファイル（Macintosh環境用）
	vdm.tc	--テストカバレージの結果が入っているデータ

単体テストの実行方法
	事前条件
		VDMToolsのインストールが終了していること
		インタープリタのPretty Printerオプション設定で、Output index of definitions and uses と Test coverage coloring をチェックしておくこと
		コードカバレージ情報を得たいときは、VDM++のソース（RTF版）を使用する。
	手順
		test.prjファイルをダブルクリック
		静的型チェックを行わなくてもインタープリタによる実行はできるが、静的型チェックをやりたければここで Type Check（メニューかボタンから）する
		インタープリタウィンドウでイニシャライズ
		インタープリタウィンドウで以下のコマンドを実行（--以下は注釈なので、実際にはタイプしない）
			cr a := new AllT()	--テスト用クラスのインスタンスを作成指定 a に代入
			d a.run()			--オブジェクト a の run 操作をデバッグ実行(デバッグが必要なければ p a.run() で実行することもできる）
			tcov write vdm.tc		--コードカバレージの結果をファイル vdm.tcに書き出す
			rtinfo vdm.tc		--コードカバレージ情報をインタープリタ上で表示する
		コードカバレージ情報を含んだ清書ファイルを得たいときは、Managerウィンドウで Pretty Print（メニューかボタンから）すると .rtf.rtf で終わるファイルが生成される。
		VDM++のソース（テキストファイル版）を使用して、コードカバレージの結果をファイル vdm.tcに書き出した後、Pretty PrintするとTeXファイルが生成されるので、library.texファイルをTeXでコンパイルすることでも清書ファイルが得られる。
			
			