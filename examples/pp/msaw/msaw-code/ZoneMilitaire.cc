//
// THIS FILE IS AUTOMATICALLY GENERATED!!
//
// Generated at Wed 05-Nov-97 by the VDM++toC++ Code Generator
// (v6.0e - Tue 04-Nov-97)
//
// Supported compilers:
// 	g++ version 2.7.2 on SunOS4, SunOS5, Linux, HP-UX10
// 	Dec cxx version 5.5 on Alpha OSF1
// 	VC++ version 5.0 on Windows95, Windows NT
//



#include "ZoneMilitaire.h"
#include "SegmentDePrediction.h"

vdm_ZoneMilitaire::vdm_ZoneMilitaire() { RegisterAsDerived(vdm_GetId()); }

void vdm_ZoneMilitaire::vdm_SetStatut(const Generic &vdm_statut_q) { vdm_statut = vdm_statut_q; }

Bool vdm_ZoneMilitaire::vdm_Intersection(const ObjectRef &vdm_segment_ude_uprediction) {
  Set tmpVal_2 = ObjGet_vdm_SegmentDePrediction(vdm_segment_ude_uprediction)->vdm_GetPoints();
  Set vdm_points_ude_uvecteur;
  vdm_points_ude_uvecteur = tmpVal_2;
  Bool rexpr_4;
{ if ((rexpr_4 = (Bool) (vdm_statut == (Quote) "zone_active")).GetValue()) {
   Bool var2_8;
   bool tmpQuant_9 = false;
   {
     bool succ_21 = true;

     Tuple vdm_xy(2);     Int vdm_z;
     {
       Generic tmpe_27;
       for (int bb_26 = vdm_points_ude_uvecteur.First(tmpe_27); bb_26 && !tmpQuant_9; bb_26 = vdm_points_ude_uvecteur.Next(tmpe_27)) {
         Tuple elem_23 = tmpe_27;
         succ_21 = true;         if (elem_23.IsTuple()) {
           Sequence e_l_24;
           for (int i_25 = 1; i_25 <= ((Tuple) elem_23).Length(); i_25++) 
             e_l_24.ImpAppend(((Tuple) elem_23).GetField(i_25));
           if (succ_21 = 2 == (Int) e_l_24.Length()) {
             succ_21 = true;
             if (((Bool) ((Generic) e_l_24.Hd()).IsTuple()).GetValue()) 
               vdm_xy = (Generic) e_l_24.Hd();
             else 
               succ_21 = false;
             if (succ_21) { if (((Bool) (IsInteger((Generic) e_l_24[2]) && ((Int) (Generic) e_l_24[2]).GetValue() >= 0)).GetValue()) 
   vdm_z = (Generic) e_l_24[2];
 else 
   succ_21 = false; }
           }
         }
         else 
           succ_21 = false;         if (succ_21) {
           Bool pred_10;
           Bool var1_11;
{ if ((var1_11 = vdm_DansPolygone(vdm_xy, vdm_sommets)).GetValue()) 
   var1_11 = (Bool) ((vdm_z.GetValue()) >= (vdm_niveau_uminimal.GetValue())); }
{ if ((pred_10 = var1_11).GetValue()) 
   pred_10 = (Bool) ((vdm_z.GetValue()) <= (vdm_niveau_umaximal.GetValue())); }
           if (pred_10.GetValue()) 
             tmpQuant_9 = true;
         }
       }
     }
   }
   var2_8 = (Bool) tmpQuant_9;
   rexpr_4 = var2_8;
 } }
  return rexpr_4;
}
