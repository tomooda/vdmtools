//
// THIS FILE IS AUTOMATICALLY GENERATED!!
//
// Generated at Mon 12-Apr-99 by the VDM++ JAVA Code Generator
// (generated the specification of the code generator)
//
// Supported compilers:
// jdk1.1.x//


import dk.ifad.toolbox.VDM.*;
import java.lang.*;
import java.util.Enumeration;
import dk.ifad.toolbox.VDMCONC.*;
import java.awt.*;

public class external_ClockWithDisplay extends Frame {

  ClockWithDisplay parent = null;
  Font f = new Font("Times New Roman", Font.PLAIN, 80);

  public volatile Integer hour = new Integer(0);
  public volatile Integer min = new Integer(0);
  public volatile Integer sec = new Integer(0);

  public external_ClockWithDisplay (ClockWithDisplay parentClockWithDisplay) {
    super("Clock");
    resize(400,200);
    show();
    parent = parentClockWithDisplay;
  }

  public void paint(Graphics g){
    g.setFont(f);
    g.clearRect(0,0,400,200);
    g.drawString( padding(hour) + ":" + padding(min) + ":" + padding(sec),30,150);
  }


  void impl_OutputMin (final Integer m) throws CGException{
    min = m;
  }

  void impl_OutputSec (final Integer s) throws CGException{
    sec = s;
  }

  void impl_OutputHour (final Integer h) throws CGException{
    hour = h;
  }

  private String padding(Integer i){
    String temp = "0"+i.toString();
    return temp.substring(temp.length()-2);
  }

  void impl_Update() throws CGException {
   //  System.out.println("Repaint:           " + hour + ":" + min + ":" + sec);
     paint(getGraphics());
     //repaint();
     Thread.yield();
  }
};

